!function(){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function St(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},i="http://www.w3.org/1999/xhtml",o={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),o.hasOwnProperty(e)?{space:o[e],local:t}:t}function c(t){t=a(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===i&&t.documentElement.namespaceURI===i?t.createElement(n):t.createElementNS(e,n)}})(t)}function e(){}function p(t){return null==t?e:function(){return this.querySelector(t)}}function u(){return[]}function y(t){return null==t?u:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function t(t){return new Array(t.length)}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function x(t,e,n,r,i,o){for(var a,c=0,u=e.length,l=o.length;c<l;++c)(a=e[c])?(a.__data__=o[c],r[c]=a):n[c]=new d(t,o[c]);for(;c<u;++c)(a=e[c])&&(i[c]=a)}function M(t,e,n,r,i,o,a){for(var c,u,l={},s=e.length,f=o.length,h=new Array(s),p=0;p<s;++p)(c=e[p])&&(h[p]=u="$"+a.call(c,c.__data__,p,e),u in l?i[p]=c:l[u]=c);for(p=0;p<f;++p)(c=l[u="$"+a.call(t,o[p],p,o)])?((r[p]=c).__data__=o[p],l[u]=null):n[p]=new d(t,o[p]);for(p=0;p<s;++p)(c=e[p])&&l[h[p]]===c&&(i[p]=c)}function f(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function l(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function N(t,e){return t.style.getPropertyValue(e)||l(t).getComputedStyle(t,null).getPropertyValue(e)}function h(t){return t.trim().split(/^|\s+/)}function g(t){return t.classList||new m(t)}function m(t){this._node=t,this._names=h(t.getAttribute("class")||"")}function v(t,e){for(var n=g(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function b(t,e){for(var n=g(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function _(){this.textContent=""}function w(){this.innerHTML=""}function A(){this.nextSibling&&this.parentNode.appendChild(this)}function S(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function k(){return null}function O(){var t=this.parentNode;t&&t.removeChild(this)}function E(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},m.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var P={},kt=null;function j(n,t,e){return n=z(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function z(n,r,i){return function(t){var e=kt;kt=t;try{n.call(this,this.__data__,r,i)}finally{kt=e}}}function T(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function L(u,l,s){var f=P.hasOwnProperty(u.type)?j:z;return function(t,e,n){var r,i=this.__on,o=f(l,e,n);if(i)for(var a=0,c=i.length;a<c;++a)if((r=i[a]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=s),void(r.value=l);this.addEventListener(u.type,o,s),r={type:u.type,name:u.name,value:l,listener:o,capture:s},i?i.push(r):this.__on=[r]}}function D(t,e,n){var r=l(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(P={mouseenter:"mouseover",mouseleave:"mouseout"}));var R=[null];function C(t,e){this._groups=t,this._parents=e}function I(){return new C([[document.documentElement]],R)}function H(t){return"string"==typeof t?new C([[document.querySelector(t)]],[document.documentElement]):new C([[t]],R)}function B(){for(var t,e=kt;t=e.sourceEvent;)e=t;return e}function F(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function Y(t){var e=B();return e.changedTouches&&(e=e.changedTouches[0]),F(t,e)}function q(t,e,n){arguments.length<3&&(n=e,e=B().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return F(t,r);return null}function U(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}C.prototype=I.prototype={constructor:C,select:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,c=e[i],u=c.length,l=r[i]=new Array(u),s=0;s<u;++s)(o=c[s])&&(a=t.call(o,o.__data__,s,c))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new C(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,c=e[o],u=c.length,l=0;l<u;++l)(a=c[l])&&(r.push(t.call(a,a.__data__,l,c)),i.push(a));return new C(r,i)},filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],c=a.length,u=r[i]=[],l=0;l<c;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new C(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var n,r=e?M:x,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,c=new Array(a),u=new Array(a),l=new Array(a),s=0;s<a;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),g=d.length,m=u[s]=new Array(g),y=c[s]=new Array(g);r(f,h,m,y,l[s]=new Array(p),d,e);for(var v,b,_=0,w=0;_<g;++_)if(v=m[_]){for(w<=_&&(w=_+1);!(b=y[w])&&++w<g;);v._next=b||null}}return(c=new C(c,i))._enter=u,c._exit=l,c},enter:function(){return new C(this._enter||this._groups.map(t),this._parents)},exit:function(){return new C(this._exit||this._groups.map(t),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var c,u=e[a],l=n[a],s=u.length,f=o[a]=new Array(s),h=0;h<s;++h)(c=u[h]||l[h])&&(f[h]=c);for(;a<r;++a)o[a]=e[a];return new C(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||f;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,c=e[o],u=c.length,l=i[o]=new Array(u),s=0;s<u;++s)(a=c[s])&&(l[s]=a);l.sort(t)}return new C(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):N(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=h(t+"");if(arguments.length<2){for(var r=g(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?v:b)(this,t)}}:e?function(t){return function(){v(this,t)}}:function(t){return function(){b(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?_:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?w:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(A)},lower:function(){return this.each(S)},append:function(t){var e="function"==typeof t?t:c(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:c(t),r=null==e?k:"function"==typeof e?e:p(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(O)},clone:function(t){return this.select(t?$:E)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(c=e?L:T,null==n&&(n=!1),r=0;r<a;++r)this.each(c(o[r],e,n));return this}var c=this.node().__on;if(c)for(var u,l=0,s=c.length;l<s;++l)for(r=0,u=c[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return D(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return D(this,t,e)}})(t,e))}};var V,G,X=(1===(V=U).length&&(G=V,V=function(t,e){return U(G(t),e)}),function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<V(t[i],e)?r=i:n=1+i}return n});function Z(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var K=Math.sqrt(50),J=Math.sqrt(10),Q=Math.sqrt(2);function tt(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(K<=t?10:J<=t?5:Q<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(K<=t?10:J<=t?5:Q<=t?2:1)}function et(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n}function nt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var rt="$";function it(){}function ot(t,e){var n=new it;if(t instanceof it)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function at(){var h,p,e,d=[],a=[];function g(t,n,r,i){if(n>=d.length)return null!=h&&t.sort(h),null!=p?p(t):t;for(var e,o,a,c=-1,u=t.length,l=d[n++],s=ot(),f=r();++c<u;)(a=s.get(e=l(o=t[c])+""))?a.push(o):s.set(e,[o]);return s.each(function(t,e){i(f,e,g(t,n,r,i))}),f}return e={object:function(t){return g(t,0,ct,ut)},map:function(t){return g(t,0,lt,st)},entries:function(t){return function n(t,r){if(++r>d.length)return t;var i,o=a[r-1];return null!=p&&r>=d.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(g(t,0,lt,st),0)},key:function(t){return d.push(t),e},sortKeys:function(t){return a[d.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return p=t,e}}}function ct(){return{}}function ut(t,e,n){t[e]=n}function lt(){return ot()}function st(t,e,n){t.set(e,n)}it.prototype=ot.prototype={constructor:it,has:function(t){return rt+t in this},get:function(t){return this[rt+t]},set:function(t,e){return this[rt+t]=e,this},remove:function(t){t=rt+t;return t in this&&delete this[t]},clear:function(){for(var t in this)t[0]===rt&&delete this[t]},keys:function(){var t,e=[];for(t in this)t[0]===rt&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)t[0]===rt&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)t[0]===rt&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)t[0]===rt&&++e;return e},empty:function(){for(var t in this)if(t[0]===rt)return!1;return!0},each:function(t){for(var e in this)e[0]===rt&&t(this[e],e.slice(1),this)}};var ft=ot.prototype;function ht(t){var e,n=[];for(e in t)n.push(t[e]);return n}var pt=(Du=Array.prototype).map,dt=Du.slice,gt={name:"implicit"},Fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function mt(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var Yn=mt(function(e){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n});function yt(t,e,n){(t.prototype=e.prototype=n).constructor=t}function vt(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function bt(){}var _t=1/.7,wt="\\s*([+-]?\\d+)\\s*",xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",At=/^#([0-9a-f]{3,8})$/,Ot=new RegExp("^rgb\\("+[wt,wt,wt]+"\\)$"),Et=new RegExp("^rgb\\("+[Mt,Mt,Mt]+"\\)$"),Nt=new RegExp("^rgba\\("+[wt,wt,wt,xt]+"\\)$"),$t=new RegExp("^rgba\\("+[Mt,Mt,Mt,xt]+"\\)$"),Pt=new RegExp("^hsl\\("+[xt,Mt,Mt]+"\\)$"),jt=new RegExp("^hsla\\("+[xt,Mt,Mt,xt]+"\\)$"),zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tt(){return this.rgb().formatHex()}function Lt(){return this.rgb().formatRgb()}function Dt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=At.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Rt(e):3===n?new Wt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ct(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ct(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ot.exec(t))?new Wt(e[1],e[2],e[3],1):(e=Et.exec(t))?new Wt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Nt.exec(t))?Ct(e[1],e[2],e[3],e[4]):(e=$t.exec(t))?Ct(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Pt.exec(t))?qt(e[1],e[2]/100,e[3]/100,1):(e=jt.exec(t))?qt(e[1],e[2]/100,e[3]/100,e[4]):zt.hasOwnProperty(t)?Rt(zt[t]):"transparent"===t?new Wt(NaN,NaN,NaN,0):null}function Rt(t){return new Wt(t>>16&255,t>>8&255,255&t,1)}function Ct(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wt(t,e,n,r)}function It(t){return t instanceof bt||(t=Dt(t)),t?new Wt((t=t.rgb()).r,t.g,t.b,t.opacity):new Wt}function Bt(t,e,n,r){return 1===arguments.length?It(t):new Wt(t,e,n,null==r?1:r)}function Wt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ht(){return"#"+Yt(this.r)+Yt(this.g)+Yt(this.b)}function Ft(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Yt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function qt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Vt(t,e,n,r)}function Ut(t){if(t instanceof Vt)return new Vt(t.h,t.s,t.l,t.opacity);if(t instanceof bt||(t=Dt(t)),!t)return new Vt;if(t instanceof Vt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,c=o-i,u=(o+i)/2;return c?(a=e===o?(n-r)/c+6*(n<r):n===o?(r-e)/c+2:(e-n)/c+4,c/=u<.5?o+i:2-o-i,a*=60):c=0<u&&u<1?0:a,new Vt(a,c,u,t.opacity)}function Vt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Gt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}yt(bt,Dt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tt,formatHex:Tt,formatHsl:function(){return Ut(this).formatHsl()},formatRgb:Lt,toString:Lt}),yt(Wt,Bt,vt(bt,{brighter:function(t){return t=null==t?_t:Math.pow(_t,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatRgb:Ft,toString:Ft})),yt(Vt,function(t,e,n,r){return 1===arguments.length?Ut(t):new Vt(t,e,n,null==r?1:r)},vt(bt,{brighter:function(t){return t=null==t?_t:Math.pow(_t,t),new Vt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Vt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Wt(Gt(240<=t?t-240:120+t,n,e),Gt(t,n,e),Gt(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Xt=Math.PI/180,Zt=180/Math.PI,Kt=.96422,Jt=.82521,Qt=4/29,te=6/29*3*(6/29);function ee(t){if(t instanceof re)return new re(t.l,t.a,t.b,t.opacity);if(t instanceof ue)return le(t);t instanceof Wt||(t=It(t));var e,n,r=ce(t.r),i=ce(t.g),o=ce(t.b),a=ie(.2225045*r+.7168786*i+.0606169*o);return r===i&&i===o?e=n=a:(e=ie((.4360747*r+.3850649*i+.1430804*o)/Kt),n=ie((.0139322*r+.0971045*i+.7141733*o)/Jt)),new re(116*a-16,500*(e-a),200*(a-n),t.opacity)}function ne(t,e,n,r){return 1===arguments.length?ee(t):new re(t,e,n,null==r?1:r)}function re(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ie(t){return.008856451679035631<t?Math.pow(t,1/3):t/te+Qt}function oe(t){return 6/29<t?t*t*t:te*(t-Qt)}function ae(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ce(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ue(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function le(t){if(isNaN(t.h))return new re(t.l,0,0,t.opacity);var e=t.h*Xt;return new re(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}yt(re,ne,vt(bt,{brighter:function(t){return new re(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new re(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Wt(ae(3.1338561*(e=Kt*oe(e))-1.6168667*(t=+oe(t))-.4906146*(n=Jt*oe(n))),ae(-.9787684*e+1.9161415*t+.033454*n),ae(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),yt(ue,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ue)return new ue(t.h,t.c,t.l,t.opacity);if(t instanceof re||(t=ee(t)),0===t.a&&0===t.b)return new ue(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Zt;return new ue(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new ue(t,e,n,null==r?1:r)},vt(bt,{brighter:function(t){return new ue(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ue(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return le(this).rgb()}}));var se=1.78277,fe=-.29227,he=-.90649,pe=1.97294,de=pe*he,ge=pe*se,me=se*fe- -.14861*he;function ye(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ve)return new ve(t.h,t.s,t.l,t.opacity);t instanceof Wt||(t=It(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(me*r+de*e-ge*n)/(me+de-ge),r=(pe*(n-i)-fe*(e=r-i))/he,n=Math.sqrt(r*r+e*e)/(pe*i*(1-i));return new ve((e=n?Math.atan2(r,e)*Zt-120:NaN)<0?e+360:e,n,i,t.opacity)}(t):new ve(t,e,n,null==r?1:r)}function ve(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function be(t){return function(){return t}}function _e(e,n){return function(t){return e+t*n}}function we(o){return 1==(o=+o)?xe:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):be(isNaN(t)?e:t);var n,r,i}}function xe(t,e){var n=e-t;return n?_e(t,n):be(isNaN(t)?e:t)}yt(ve,ye,vt(bt,{brighter:function(t){return t=null==t?_t:Math.pow(_t,t),new ve(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ve(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Xt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),t=Math.sin(t);return new Wt(255*(e+n*(-.14861*r+se*t)),255*(e+n*(fe*r+he*t)),255*(e+pe*r*n),this.opacity)}}));var Me=function t(e){var a=we(e);function n(e,t){var n=a((e=Bt(e)).r,(t=Bt(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=xe(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function Ae(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ke=new RegExp(Se.source,"g");function Oe(t,r){var e,n,i,o,a,c=Se.lastIndex=ke.lastIndex=0,u=-1,l=[],s=[];for(t+="",r+="";(e=Se.exec(t))&&(n=ke.exec(r));)(i=n.index)>c&&(i=r.slice(c,i),l[u]?l[u]+=i:l[++u]=i),(e=e[0])===(n=n[0])?l[u]?l[u]+=n:l[++u]=n:(l[++u]=null,s.push({i:u,x:Ae(e,n)})),c=ke.lastIndex;return c<r.length&&(i=r.slice(c),l[u]?l[u]+=i:l[++u]=i),l.length<2?s[0]?(a=s[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=s.length,function(t){for(var e,n=0;n<r;++n)l[(e=s[n]).i]=e.x(t);return l.join("")})}function Ee(t,e){var n,r=Yn(e);return null==e||"boolean"===r?be(e):("number"===r?Ae:"string"===r?(n=Dt(e))?(e=n,Me):Oe:e instanceof Dt?Me:e instanceof Date?function(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}:(n=e,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(e)?function(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a=0;a<r;++a)i[a]=Ee(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"===Yn(t)||(t={}),null!==e&&"object"===Yn(e)||(e={}),e)n in t?r[n]=Ee(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:Ae:function(e,n){n=n||[];var r,i=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(r=0;r<i;++r)o[r]=e[r]*(1-t)+n[r]*t;return o}}))(t,e)}function Ne(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var $e,Pe,je,ze,Te=180/Math.PI,Le={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function De(t,e,n,r,i,o){var a,c,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Te,skewX:Math.atan(u)*Te,scaleX:a,scaleY:c}}function Re(f,h,p,d){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,c,u,l=[],s=[];return t=f(t),e=f(e),n=t.translateX,r=t.translateY,i=e.translateX,o=e.translateY,a=l,c=s,n!==i||r!==o?(u=a.push("translate(",null,h,null,p),c.push({i:u-4,x:Ae(n,i)},{i:u-2,x:Ae(r,o)})):(i||o)&&a.push("translate("+i+h+o+p),c=t.rotate,n=e.rotate,u=l,c!==n?(180<c-n?n+=360:180<n-c&&(c+=360),s.push({i:u.push(g(u)+"rotate(",null,d)-2,x:Ae(c,n)})):n&&u.push(g(u)+"rotate("+n+d),r=t.skewX,a=e.skewX,i=l,r!==a?s.push({i:i.push(g(i)+"skewX(",null,d)-2,x:Ae(r,a)}):a&&i.push(g(i)+"skewX("+a+d),o=t.scaleX,c=t.scaleY,u=e.scaleX,n=e.scaleY,r=l,i=s,o!==u||c!==n?(a=r.push(g(r)+"scale(",null,",",null,")"),i.push({i:a-4,x:Ae(o,u)},{i:a-2,x:Ae(c,n)})):1===u&&1===n||r.push(g(r)+"scale("+u+","+n+")"),t=e=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var Ce=Re(function(t){return"none"===t?Le:($e||($e=document.createElement("DIV"),Pe=document.documentElement,je=document.defaultView),$e.style.transform=t,t=je.getComputedStyle(Pe.appendChild($e),null).getPropertyValue("transform"),Pe.removeChild($e),De(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ie=Re(function(t){return null==t?Le:((ze=ze||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=ze.transform.baseVal.consolidate())?De((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Le)},", ",")",")"),Be=Math.SQRT2;function We(t){return((t=Math.exp(t))+1/t)/2}function He(t,e){var r,i,o,n,a=t[0],c=t[1],u=t[2],l=e[0],t=e[1],e=e[2],s=l-a,f=t-c,l=s*s+f*f;return(n=l<1e-12?(o=Math.log(e/u)/Be,function(t){return[a+t*s,c+t*f,u*Math.exp(Be*t*o)]}):(r=Math.sqrt(l),t=(e*e-u*u+4*l)/(2*u*2*r),n=(e*e-u*u-4*l)/(2*e*2*r),i=Math.log(Math.sqrt(t*t+1)-t),o=(Math.log(Math.sqrt(n*n+1)-n)-i)/Be,function(t){var e=t*o,n=We(i),t=u/(2*r)*(n*(t=Be*e+i,((t=Math.exp(2*t))-1)/(t+1))-(t=i,((t=Math.exp(t))-1/t)/2));return[a+t*s,c+t*f,u*n/We(Be*e+i)]})).duration=1e3*o,n}function Fe(e,t){var n=xe((e=ne(e)).l,(t=ne(t)).l),r=xe(e.a,t.a),i=xe(e.b,t.b),o=xe(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function Ye(c){return function t(a){function e(e,t){var n=c((e=ye(e)).h,(t=ye(t)).h),r=xe(e.s,t.s),i=xe(e.l,t.l),o=xe(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}Ye(function(t,e){var n=e-t;return n?_e(t,180<n||n<-180?n-360*Math.round(n/360):n):be(isNaN(t)?e:t)});var qe=Ye(xe);function Ue(t){return+t}var Ve=[0,1];function Ge(t){return t}function Xe(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Ze(t){var e=t[0],n=t[t.length-1];return n<e&&(t=e,e=n,n=t),function(t){return Math.max(e,Math.min(n,t))}}function Ke(t,e,n){var r=t[0],t=t[1],i=e[0],e=e[1],i=t<r?(r=Xe(t,r),n(e,i)):(r=Xe(r,t),n(i,e));return function(t){return i(r(t))}}function Je(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Xe(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=X(n,t,1,r)-1;return o[e](i[e](t))}}function Qe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,e=t.slice(0,n);return[1<e.length?e[0]+e.slice(2):e,+t.slice(n+1)]}function tn(t){return(t=Qe(Math.abs(t)))?t[1]:NaN}var en,nn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rn(t){if(!(e=nn.exec(t)))throw new Error("invalid format: "+t);var e;return new on({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function on(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function an(t,e){e=Qe(t,e);if(!e)return t+"";t=e[0],e=e[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}rn.prototype=on.prototype,on.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var cn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return an(100*t,e)},r:an,s:function(t,e){var n=Qe(t,e);if(!n)return t+"";var r=n[0],i=n[1],n=i-(en=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,i=r.length;return n===i?r:i<n?r+new Array(n-i+1).join("0"):0<n?r.slice(0,n)+"."+r.slice(n):"0."+new Array(1-n).join("0")+Qe(t,Math.max(0,e+n-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function un(t){return t}var ln,sn,fn,hn,pn,dn,gn,mn,yn,vn,bn,_n,wn,xn=Array.prototype.map,Mn=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function An(t){return Math.max(0,-tn(Math.abs(t)))}function Sn(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tn(e)/3)))-tn(Math.abs(t)))}function kn(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tn(e)-tn(t))+1}function On(c){var u=c.domain;return c.ticks=function(t){var e=u();return function(t,e,n){var r,i,o,a,c=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=tt(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++c<i;)o[c]=(t+c)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++c<i;)o[c]=(t-c)/a;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},c.tickFormat=function(t,e){var n=u();return function(t,e,n,r){var i,o,a,c,u=(o=t,a=e,c=n,n=Math.abs(a-o)/Math.max(0,c),c=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),K<=(n/=c)?c*=10:J<=n?c*=5:Q<=n&&(c*=2),a<o?-c:c);switch((r=rn(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Sn(u,l))||(r.precision=i),sn(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=kn(u,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=An(u))||(r.precision=i-2*("%"===r.type))}return ln(r)}(n[0],n[n.length-1],null==t?10:t,e)},c.nice=function(t){null==t&&(t=10);var e,n=u(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=tt(o,a,t))?e=tt(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=tt(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,u(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,u(n)),c},c}function En(){var t,e,n,r,i,o,a,c,u,l,s,f,h=(l=u=Ve,s=Ee,f=e=t=Ge,d.invert=function(t){return f(r((c=c||o(l,u.map(n),Ae))(t)))},d.domain=function(t){return arguments.length?(u=pt.call(t,Ue),f===Ge||(f=Ze(u)),p()):u.slice()},d.range=function(t){return arguments.length?(l=dt.call(t),p()):l.slice()},d.rangeRound=function(t){return l=dt.call(t),s=Ne,p()},d.clamp=function(t){return arguments.length?(f=t?Ze(u):Ge,d):f!==Ge},d.interpolate=function(t){return arguments.length?(s=t,p()):s},d.unknown=function(t){return arguments.length?(i=t,d):i},function(t,e){return n=t,r=e,p()}(t,e));function p(){return o=2<Math.min(u.length,l.length)?Je:Ke,a=c=null,d}function d(t){return isNaN(t=+t)?i:(a=a||o(u.map(n),l,s))(n(f(t)))}return h.copy=function(){return t=h,En().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},nt.apply(h,arguments),On(h)}function Nn(t){var l=(t=rn(t)).fill,s=t.align,f=t.sign,e=t.symbol,h=t.zero,p=t.width,d=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(d=!0,y="g"):cn[y]||(void 0===g&&(g=12),m=!0,y="g"),(h||"0"===l&&"="===s)&&(h=!0,l="0",s="=");var v="$"===e?gn:"#"===e&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===e?mn:/[%p]/.test(y)?bn:"",_=cn[y],w=/[defgprs%]/.test(y);function n(t){var e,n,r,i=v,o=b;if("c"===y)o=_(t)+o,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?wn:_(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&"+"!==f&&(a=!1),i=(a?"("===f?f:_n:"-"===f||"("===f?"":f)+i,o=("s"===y?Mn[8+en/3]:"")+o+(a&&"("===f?")":""),w)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?yn+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}d&&!h&&(t=dn(t,1/0));var c=i.length+t.length+o.length,u=c<p?new Array(p-c+1).join(l):"";switch(d&&h&&(t=dn(u+t,u.length?p-o.length:1/0),u=""),s){case"<":t=i+t+o+u;break;case"=":t=i+u+t+o;break;case"^":t=u.slice(0,c=u.length>>1)+i+t+o+u.slice(c);break;default:t=u+i+t+o}return vn(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}dn=void 0===(rs={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}).grouping||void 0===rs.thousands?un:(fn=xn.call(rs.grouping,Number),hn=rs.thousands+"",function(t,e){for(var n=t.length,r=[],i=0,o=fn[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=fn[i=(i+1)%fn.length];return r.reverse().join(hn)}),gn=void 0===rs.currency?"":rs.currency[0]+"",mn=void 0===rs.currency?"":rs.currency[1]+"",yn=void 0===rs.decimal?".":rs.decimal+"",vn=void 0===rs.numerals?un:(pn=xn.call(rs.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return pn[+t]})}),bn=void 0===rs.percent?"%":rs.percent+"",_n=void 0===rs.minus?"-":rs.minus+"",wn=void 0===rs.nan?"NaN":rs.nan+"",ln=(xn={format:Nn,formatPrefix:function(t,e){var n=Nn(((t=rn(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(tn(e)/3))),r=Math.pow(10,-e),i=Mn[8+e/3];return function(t){return n(r*t)+i}}}).format,sn=xn.formatPrefix;var $n={value:function(){}};function Pn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new jn(r)}function jn(t){this._=t}function zn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$n,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Tn(){kt.preventDefault(),kt.stopImmediatePropagation()}jn.prototype=Pn.prototype={constructor:jn,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,c=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<c;)if(n=(t=o[a]).type)i[n]=zn(i[n],t.name,e);else if(null==e)for(n in i)i[n]=zn(i[n],t.name,null);return this}for(;++a<c;)if((n=(t=o[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new jn(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Ln,Dn,Rn=0,Cn=0,In=0,Bn=0,Wn=0,Hn=0,qn="object"===("undefined"==typeof performance?"undefined":Yn(performance))&&performance.now?performance:Date,Un="object"===("undefined"==typeof window?"undefined":Yn(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vn(){return Wn||(Un(Gn),Wn=qn.now()+Hn)}function Gn(){Wn=0}function Xn(){this._call=this._time=this._next=null}function Zn(t,e,n){var r=new Xn;return r.restart(t,e,n),r}function Kn(){Wn=(Bn=qn.now())+Hn,Rn=Cn=0;try{!function(){Vn(),++Rn;for(var t,e=Ln;e;)0<=(t=Wn-e._time)&&e._call.call(null,t),e=e._next;--Rn}()}finally{Rn=0,function(){for(var t,e,n=Ln,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:Ln=e);Dn=t,Qn(r)}(),Wn=0}}function Jn(){var t=qn.now(),e=t-Bn;1e3<e&&(Hn-=e,Bn=t)}function Qn(t){Rn||(Cn=Cn&&clearTimeout(Cn),24<t-Wn?(t<1/0&&(Cn=setTimeout(Kn,t-qn.now()-Hn)),In=In&&clearInterval(In)):(In||(Bn=qn.now(),In=setInterval(Jn,1e3)),Rn=1,Un(Kn)))}function tr(e,n,t){var r=new Xn;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}Xn.prototype=Zn.prototype={constructor:Xn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Vn():+n)+(null==e?0:+e),this._next||Dn===this||(Dn?Dn._next=this:Ln=this,Dn=this),this._call=t,this._time=n,Qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qn())}};var er=Pn("start","end","cancel","interrupt"),nr=[];function rr(t,e,n,r,i,o){var a,c,u,l,s,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function h(t){var e,n,r,i;if(1!==u.state)return d();for(e in s)if((i=s[e]).name===u.name){if(3===i.state)return tr(h);4===i.state?(i.state=6,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete s[e]):+e<c&&(i.state=6,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete s[e])}if(tr(function(){3===u.state&&(u.state=4,u.timer.restart(p,u.delay,u.time),p(t))}),u.state=2,u.on.call("start",a,a.__data__,u.index,u.group),2===u.state){for(u.state=3,l=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(a,a.__data__,u.index,u.group))&&(l[++n]=i);l.length=n+1}}function p(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(d),u.state=5,1),n=-1,r=l.length;++n<r;)l[n].call(a,e);5===u.state&&(u.on.call("end",a,a.__data__,u.index,u.group),d())}function d(){for(var t in u.state=6,u.timer.stop(),delete s[c],s)return;delete a.__transition}a=t,c=n,u={name:e,index:r,group:i,on:er,tween:nr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0},((s=a.__transition)[c]=u).timer=Zn(function(t){u.state=1,u.timer.restart(h,u.delay,u.time),u.delay<=t&&h(t-u.delay)},0,u.time)}function ir(t,e){e=ar(t,e);if(0<e.state)throw new Error("too late; already scheduled");return e}function or(t,e){e=ar(t,e);if(3<e.state)throw new Error("too late; already running");return e}function ar(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function cr(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=2<n.state&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function ur(t,e,n){var r=t._id;return t.each(function(){var t=or(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return ar(t,r).value[e]}}function lr(t,e){var n;return("number"==typeof e?Ae:e instanceof Dt?Me:(n=Dt(e))?(e=n,Me):Oe)(t,e)}function sr(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return t!==a&&(o=(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))})),o}return t._value=i,t}function fr(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return t!==a&&(o=(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))})),o}return t._value=i,t}var hr=I.prototype.constructor;function pr(t){return function(){this.style.removeProperty(t)}}function dr(i,o,a){var c,u;function t(){var e,n,r,t=o.apply(this,arguments);return t!==u&&(c=(u=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)})),c}return t._value=o,t}function gr(n){var r,i;function t(){var e,t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)})),r}return t._value=n,t}var mr=0;function yr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}yr.prototype={constructor:yr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=p(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c,u,l=r[a],s=l.length,f=o[a]=new Array(s),h=0;h<s;++h)(c=l[h])&&(u=t.call(c,c.__data__,h,l))&&("__data__"in c&&(u.__data__=c.__data__),f[h]=u,rr(f[h],e,n,h,f,ar(c,n)));return new yr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=y(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var u,l=r[c],s=l.length,f=0;f<s;++f)if(u=l[f]){for(var h,p=t.call(u,u.__data__,f,l),d=ar(u,n),g=0,m=p.length;g<m;++g)(h=p[g])&&rr(h,e,n,g,p,d);o.push(p),a.push(u)}return new yr(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],c=a.length,u=r[i]=[],l=0;l<c;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new yr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var c,u=e[a],l=n[a],s=u.length,f=o[a]=new Array(s),h=0;h<s;++h)(c=u[h]||l[h])&&(f[h]=c);for(;a<r;++a)o[a]=e[a];return new yr(o,this._parents,this._name,this._id)},selection:function(){return new hr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++mr,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],u=c.length,l=0;l<u;++l)(a=c[l])&&rr(a,t,n,l,c,{time:(a=ar(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new yr(r,this._parents,t,n)},call:(rs=I.prototype).call,nodes:rs.nodes,node:rs.node,size:rs.size,empty:rs.empty,each:rs.each,on:function(t,e){var n,r,i,o,a,c,u=this._id;return arguments.length<2?ar(this.node(),u).on.on(t):this.each((n=u,i=e,c=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?ir:or,function(){var t=c(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=a(t),r="transform"===n?Ie:lr;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,c,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===c?u:(c=e,u=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,c,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===c?u:(c=e,u=i(a=t,n));this.removeAttribute(r)}})(n,r,ur(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;t=a(t);return this.tween(n,(t.local?sr:fr)(t,e))},style:function(t,e,n){var r,i,o,a,c,u,l,s,f,h,p,d,g,m,y,v,b,_,w,x,M,A,S,k,O,E="transform"==(t+="")?Ce:lr;return null==e?this.styleTween(t,(M=t,A=E,function(){var t=N(this,M),e=(this.style.removeProperty(M),N(this,M));return t===e?null:t===S&&e===k?O:O=A(S=t,k=e)})).on("end.style."+t,pr(t)):"function"==typeof e?this.styleTween(t,(v=E,b=ur(this,"style."+(y=t),e),function(){var t=N(this,y),e=b(this),n=e+"";return null==e&&(this.style.removeProperty(y),n=e=N(this,y)),t===n?null:t===_&&n===w?x:(w=n,x=v(_=t,e))})).each((l=this._id,m="end."+(g="style."+(s=t)),function(){var t=or(this,l),e=t.on,n=null==t.value[g]?d=d||pr(s):void 0;e===f&&p===n||(h=(f=e).copy()).on(m,p=n),t.on=h})):this.styleTween(t,(r=t,i=E,u=(o=e)+"",function(){var t=N(this,r);return t===u?null:t===a?c:c=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,dr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=ur(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,gr(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ar(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,c;return function(){var t=or(this,i),e=t.tween;if(e!==a)for(var n=0,r=(c=a=e).length;n<r;++n)if(c[n].name===o){(c=c.slice()).splice(n,1);break}t.tween=c}}:function(o,a,c){var u,l;if("function"!=typeof c)throw new Error;return function(){var t=or(this,o),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:a,value:c},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=n;break}r===i&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ir(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){ir(this,t).delay=e}})(e,t)):ar(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){or(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){or(this,t).duration=e}})(e,t)):ar(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){or(this,t).ease=e}}(e,t)):ar(this.node(),e).ease},end:function(){var i,o,a=this,c=a._id,u=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--u&&t()}};a.each(function(){var t=or(this,c),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o})})}};var vr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function br(t){return function(){return t}}function _r(t,e,n){this.target=t,this.type=e,this.transform=n}function wr(t,e,n){this.k=t,this.x=e,this.y=n}I.prototype.interrupt=function(t){return this.each(function(){cr(this,t)})},I.prototype.transition=function(t){var e,n;t=t instanceof yr?(e=t._id,t._name):(e=++mr,(n=vr).time=Vn(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,c=r[o],u=c.length,l=0;l<u;++l)(a=c[l])&&rr(a,t,e,l,c,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return vr.time=Vn(),vr;return n}(a,e));return new yr(r,this._parents,t,e)},wr.prototype={constructor:wr,scale:function(t){return 1===t?this:new wr(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new wr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xr=new wr(1,0,0);function Mr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xr;return t.__zoom}function Ar(){kt.stopImmediatePropagation()}function Sr(){kt.preventDefault(),kt.stopImmediatePropagation()}function kr(){return!kt.ctrlKey&&!kt.button}function Or(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Er(){return this.__zoom||xr}function Nr(){return-kt.deltaY*(1===kt.deltaMode?.05:kt.deltaMode?1:.002)}function $r(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pr(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],n=t.invertY(e[1][1])-n[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<n?(o+n)/2:Math.min(0,o)||Math.max(0,n))}function jr(){var h,c,u=kr,s=Or,p=Pr,i=Nr,e=$r,o=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],a=250,f=He,n=Pn("start","zoom","end"),l=500,g=0;function m(t){t.property("__zoom",Er).on("wheel.zoom",x).on("mousedown.zoom",M).on("dblclick.zoom",A).filter(e).on("touchstart.zoom",S).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(o[0],Math.min(o[1],e)))===t.k?t:new wr(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,n=e[1]-n[1]*t.k;return r===t.x&&n===t.y?t:new wr(t.k,r,n)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,u,l){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=this,e=arguments,r=w(t,e),n=s.apply(t,e),i=null==l?b(n):"function"==typeof l?l.apply(t,e):l,o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),n=t.__zoom,a="function"==typeof u?u.apply(t,e):u,c=f(n.invert(i).concat(o/n.k),a.invert(i).concat(o/a.k));return function(t){var e,n;t=1===t?a:(e=c(t),new wr(n=o/e[2],i[0]-e[0]*n,i[1]-e[1]*n)),r.zoom(null,t)}})}function w(t,e,n){return!n&&t.__zooming||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.active=0,this.extent=s.apply(t,e),this.taps=0}function x(){if(u.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,n=Math.max(o[0],Math.min(o[1],e.k*Math.pow(2,i.apply(this,arguments)))),r=Y(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],cr(this),t.start()}Sr(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},150),t.zoom("mouse",p(v(y(e,n),t.mouse[0],t.mouse[1]),t.extent,d))}}function M(){var n,t,e,r,i,o,a;!c&&u.apply(this,arguments)&&(n=w(this,arguments,!0),t=H(kt.view).on("mousemove.zoom",function(){{var t,e;Sr(),n.moved||(t=kt.clientX-r,e=kt.clientY-i,n.moved=g<t*t+e*e)}n.zoom("mouse",p(v(n.that.__zoom,n.mouse[0]=Y(n.that),n.mouse[1]),n.extent,d))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),function(t,e){var n=t.document.documentElement,r=H(t).on("dragstart.drag",null);e&&(r.on("click.drag",Tn,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(kt.view,n.moved),Sr(),n.end()},!0),e=Y(this),r=kt.clientX,i=kt.clientY,o=kt.view,a=o.document.documentElement,o=H(o).on("dragstart.drag",Tn,!0),"onselectstart"in a?o.on("selectstart.drag",Tn,!0):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none"),Ar(),n.mouse=[e,this.__zoom.invert(e)],cr(this),n.start())}function A(){var t,e,n,r;u.apply(this,arguments)&&(t=this.__zoom,e=Y(this),r=t.invert(e),n=t.k*(kt.shiftKey?.5:2),r=p(v(y(t,n),e,r),s.apply(this,arguments),d),Sr(),0<a?H(this).transition().duration(a).call(_,r,e):H(this).call(m.transform,r))}function S(){if(u.apply(this,arguments)){var t,e,n,r,i=kt.touches,o=i.length,a=w(this,arguments,kt.changedTouches.length===o);for(Ar(),e=0;e<o;++e)r=[r=q(this,i,(n=i[e]).identifier),this.__zoom.invert(r),n.identifier],a.touch0?a.touch1||a.touch0[2]===r[2]||(a.touch1=r,a.taps=0):(a.touch0=r,t=!0,a.taps=1+!!h);h=h&&clearTimeout(h),t&&(a.taps<2&&(h=setTimeout(function(){h=null},l)),cr(this),a.start())}}function k(){if(this.__zooming){var t,e=w(this,arguments),n=kt.changedTouches,r=n.length;for(Sr(),h=h&&clearTimeout(h),t=e.taps=0;t<r;++t)f=q(this,n,(s=n[t]).identifier),e.touch0&&e.touch0[2]===s.identifier?e.touch0[0]=f:e.touch1&&e.touch1[2]===s.identifier&&(e.touch1[0]=f);if(s=e.that.__zoom,e.touch1)var i=e.touch0[0],o=e.touch0[1],a=e.touch1[0],c=e.touch1[1],u=(u=a[0]-i[0])*u+(u=a[1]-i[1])*u,l=(l=c[0]-o[0])*l+(l=c[1]-o[1])*l,s=y(s,Math.sqrt(u/l)),f=[(i[0]+a[0])/2,(i[1]+a[1])/2],c=[(o[0]+c[0])/2,(o[1]+c[1])/2];else{if(!e.touch0)return;f=e.touch0[0],c=e.touch0[1]}e.zoom("touch",p(v(s,f,c),e.extent,d))}}function O(){if(this.__zooming){var t,e,n,r=w(this,arguments),i=kt.changedTouches,o=i.length;for(Ar(),c&&clearTimeout(c),c=setTimeout(function(){c=null},l),t=0;t<o;++t)e=i[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):(r.end(),2===r.taps&&(n=H(this).on("dblclick.zoom"))&&n.apply(this,arguments))}}return m.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",Er),t!==r?_(t,e,n):r.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},m.scaleBy=function(t,e,n){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n)},m.scaleTo=function(t,o,a){m.transform(t,function(){var t=s.apply(this,arguments),e=this.__zoom,n=null==a?b(t):"function"==typeof a?a.apply(this,arguments):a,r=e.invert(n),i="function"==typeof o?o.apply(this,arguments):o;return p(v(y(e,i),n,r),t,d)},a)},m.translateBy=function(t,e,n){m.transform(t,function(){return p(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),s.apply(this,arguments),d)})},m.translateTo=function(t,r,i,o){m.transform(t,function(){var t=s.apply(this,arguments),e=this.__zoom,n=null==o?b(t):"function"==typeof o?o.apply(this,arguments):o;return p(xr.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,d)},o)},r.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,e,n,r){var i=kt;t.sourceEvent=kt,kt=t;try{e.apply(n,r)}finally{kt=i}}(new _r(m,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:br(+t),m):i},m.filter=function(t){return arguments.length?(u="function"==typeof t?t:br(!!t),m):u},m.touchable=function(t){return arguments.length?(e="function"==typeof t?t:br(!!t),m):e},m.extent=function(t){return arguments.length?(s="function"==typeof t?t:br([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):s},m.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],m):[o[0],o[1]]},m.translateExtent=function(t){return arguments.length?(d[0][0]=+t[0][0],d[1][0]=+t[1][0],d[0][1]=+t[0][1],d[1][1]=+t[1][1],m):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},m.constrain=function(t){return arguments.length?(p=t,m):p},m.duration=function(t){return arguments.length?(a=+t,m):a},m.interpolate=function(t){return arguments.length?(f=t,m):f},m.on=function(){var t=n.on.apply(n,arguments);return t===n?m:t},m.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,m):Math.sqrt(g)},m}function zr(n,r){var t=this.node();return t?t.getBBox?this.attr("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+","+e[1]+")"}):this.style("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+"px,"+e[1]+"px)"}):this}function Tr(t){if("string"!=typeof t)return t;var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}function Lr(t){var e,n="function"==typeof t?t:c((e=Tr(t)).tag),r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r}function Dr(){return null}function Rr(t,n){return this.selectAll("tspan").data(function(e){return("function"==typeof t?t(e):t).map(function(t){return{line:t,parent:e}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,e){return e?("function"==typeof n?n(t.parent,t.line,e):n)||15:0})}function Cr(t,e){if("object"!=Yn(t))return 1==arguments.length?this.attr(t):this.attr(t,e);for(var n in t)this.attr(n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}function Ir(){for(var r=arguments,t=0,e=r.length;t<e;)"string"!=typeof r[t]&&"number"!=typeof r[t]||(r[t]=function(e){return function(t){return t[e]}}(r[t])),t++;return function(t){for(var e=0,n=r.length;e++<n;)t=r[e-1].call(this,t);return t}}function Br(t,e){if("object"!=Yn(t))return 1==arguments.length?this.style(t):r(this,t,e);for(var n in t)r(this,n,t[n]);return this;function r(t,e,n){return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border border-radius max-width min-width".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){return i(r.apply(this,arguments))}):i(n)):t.style(e,n),t;var r}function i(t){return t.match?t:t+"px"}}Mr.prototype=wr.prototype,Ir.not=function(t){return!t},Ir.run=function(t){return t()},Ir.objToFn=function(e,n){return 1==arguments.length&&(n=void 0),function(t){return void 0!==e[t]?e[t]:n}};var Wr={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function Hr(t,e,n,r){var i,o,a,c,u=[],l=[],s=[];return(o=t.split(" ")).forEach(function(t,e){var n=t.split("-"),r=e<o.length-1?" ":"";1<n.length?n.forEach(function(t,e){l.push(t+(e<n.length-1?"-":r))}):l.push(t+r)}),e=e||40,n=n||Math.max(3,Math.min(.5*e,.75*l.map(function(t){return t.length}).sort(function(t,e){return t-e})[Math.round(l.length/2)])),a=e*Wr.a,c=n*Wr.a,i=0,l.forEach(function(t){var e=function(t){var e,n=t.length,r=-1,i=0;for(1;++r<n;)(e=+t[r])&&(i+=e);return i}(t.split("").map(f));return a<i+e&&c<i&&(u.push(s.join("")),s.length=0,i=0),i+=e,s.push(t)}),s.length&&u.push(s.join("")),u.filter(function(t){return""!==t});function f(t){return!r&&Wr[t]||Wr.a}}function Fr(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Yr(t){t.length;return 1}function qr(){return new Ur}function Ur(){this.reset()}Fr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Fr("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Fr("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Fr("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),qe(ye(300,.5,0),ye(-240,.5,1)),qe(ye(-100,.75,.35),ye(80,1.5,.8)),qe(ye(260,.75,.35),ye(80,1.5,.8)),ye(),Yr(Fr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Yr(Fr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Yr(Fr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Yr(Fr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),I.prototype.translate=zr,I.prototype.append=Lr,I.prototype.insert=function(t,e){var n,r=Tr(t),i=c(r.tag),o=null==e?Dr:"function"==typeof e?e:p(e),a=this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)});for(n in r.attr)a.attr(n,r.attr[n]);return a},I.prototype.parent=function(){var t=[];return this.filter(function(){return!(-1<t.indexOf(this.parentNode)||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},I.prototype.selectAppend=function(t){var e,n,r=p(t),i=Tr(t);for(n in t=c(i.tag),e=this.select(function(){return r.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),i.attr)e.attr(n,i.attr[n]);return e},I.prototype.tspans=Rr,I.prototype.appendMany=function(t,e){var n;return"string"==typeof e&&(console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on"),n=e,e=t,t=n),this.selectAll(null).data(e).enter().append(t)},I.prototype.at=Cr,I.prototype.st=Br,I.prototype.prop=I.prototype.property,Ur.prototype={constructor:Ur,reset:function(){this.s=this.t=0},add:function(t){Gr(Vr,t,this.t),Gr(this,Vr.s,this.s),this.s?this.t+=Vr.t:this.s=Vr.t},valueOf:function(){return this.s}};var Vr=new Ur;function Gr(t,e,n){var r=t.s=e+n,i=r-e,r=r-i;t.t=e-r+(n-i)}var Xr=1e-6,Zr=1e-12,Kr=Math.PI,Jr=Kr/2,Qr=Kr/4,ti=2*Kr,ei=180/Kr,ni=Kr/180,ri=Math.abs,ii=Math.atan,oi=Math.atan2,ai=Math.cos,ci=Math.ceil,ui=Math.exp,li=Math.log,si=Math.pow,fi=Math.sin,hi=Math.sign||function(t){return 0<t?1:t<0?-1:0},pi=Math.sqrt,di=Math.tan;function gi(t){return 1<t?0:t<-1?Kr:Math.acos(t)}function mi(t){return 1<t?Jr:t<-1?-Jr:Math.asin(t)}function yi(t){return(t=fi(t/2))*t}function vi(){}function bi(t,e){t&&wi.hasOwnProperty(t.type)&&wi[t.type](t,e)}var _i={Feature:function(t,e){bi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)bi(n[r].geometry,e)}},wi={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){xi(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xi(n[r],e,0)},Polygon:function(t,e){Mi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Mi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)bi(n[r],e)}};function xi(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Mi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)xi(t[n],e,1);e.polygonEnd()}function Ai(t,e){t&&_i.hasOwnProperty(t.type)?_i[t.type](t,e):bi(t,e)}var Si,ki,Oi,Ei,Ni,$i=qr(),Pi=qr(),ji={point:vi,lineStart:vi,lineEnd:vi,polygonStart:function(){$i.reset(),ji.lineStart=zi,ji.lineEnd=Ti},polygonEnd:function(){var t=+$i;Pi.add(t<0?ti+t:t),this.lineStart=this.lineEnd=this.point=vi},sphere:function(){Pi.add(ti)}};function zi(){ji.point=Li}function Ti(){Di(Si,ki)}function Li(t,e){ji.point=Di,Si=t,ki=e,Oi=t*=ni,Ei=ai(e=(e*=ni)/2+Qr),Ni=fi(e)}function Di(t,e){var n=(t*=ni)-Oi,r=0<=n?1:-1,i=r*n,o=ai(e=(e*=ni)/2+Qr),a=fi(e),n=Ni*a,e=Ei*o+n*ai(i),i=n*r*fi(i);$i.add(oi(i,e)),Oi=t,Ei=o,Ni=a}function Ri(t){return[oi(t[1],t[0]),mi(t[2])]}function Ci(t){var e=t[0],n=t[1],t=ai(n);return[t*ai(e),t*fi(e),fi(n)]}function Ii(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bi(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Wi(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fi(t){var e=pi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Yi,qi,Ui,Vi,Gi,Xi,Zi,Ki,Ji,Qi,to,eo,no,ro,io,oo,ao,co,uo,lo,so,fo,ho,po,go,mo,yo=qr(),vo={point:bo,lineStart:wo,lineEnd:xo,polygonStart:function(){vo.point=Mo,vo.lineStart=Ao,vo.lineEnd=So,yo.reset(),ji.polygonStart()},polygonEnd:function(){ji.polygonEnd(),vo.point=bo,vo.lineStart=wo,vo.lineEnd=xo,$i<0?(Yi=-(Ui=180),qi=-(Vi=90)):Xr<yo?Vi=90:yo<-Xr&&(qi=-90),Qi[0]=Yi,Qi[1]=Ui},sphere:function(){Yi=-(Ui=180),qi=-(Vi=90)}};function bo(t,e){Ji.push(Qi=[Yi=t,Ui=t]),e<qi&&(qi=e),Vi<e&&(Vi=e)}function _o(t,e){var n,r,i,o,a,c=Ci([t*ni,e*ni]);Ki?(o=Bi(Ki,c),Fi(n=Bi([o[1],-o[0],0],o)),n=Ri(n),i=0<(a=t-Gi)?1:-1,o=n[0]*ei*i,(a=180<ri(a))^(i*Gi<o&&o<i*t)?(r=n[1]*ei)>Vi&&(Vi=r):a^(i*Gi<(o=(o+360)%360-180)&&o<i*t)?(r=-n[1]*ei)<qi&&(qi=r):(e<qi&&(qi=e),Vi<e&&(Vi=e)),a?t<Gi?ko(Yi,t)>ko(Yi,Ui)&&(Ui=t):ko(t,Ui)>ko(Yi,Ui)&&(Yi=t):Yi<=Ui?(t<Yi&&(Yi=t),Ui<t&&(Ui=t)):Gi<t?ko(Yi,t)>ko(Yi,Ui)&&(Ui=t):ko(t,Ui)>ko(Yi,Ui)&&(Yi=t)):Ji.push(Qi=[Yi=t,Ui=t]),e<qi&&(qi=e),Vi<e&&(Vi=e),Ki=c,Gi=t}function wo(){vo.point=_o}function xo(){Qi[0]=Yi,Qi[1]=Ui,vo.point=bo,Ki=null}function Mo(t,e){var n;Ki?(n=t-Gi,yo.add(180<ri(n)?n+(0<n?360:-360):n)):(Xi=t,Zi=e),ji.point(t,e),_o(t,e)}function Ao(){ji.lineStart()}function So(){Mo(Xi,Zi),ji.lineEnd(),ri(yo)>Xr&&(Yi=-(Ui=180)),Qi[0]=Yi,Qi[1]=Ui,Ki=null}function ko(t,e){return(e-=t)<0?e+360:e}function Oo(t,e){return t[0]-e[0]}function Eo(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var No={sphere:vi,point:$o,lineStart:jo,lineEnd:Lo,polygonStart:function(){No.lineStart=Do,No.lineEnd=Ro},polygonEnd:function(){No.lineStart=jo,No.lineEnd=Lo}};function $o(t,e){t*=ni;var n=ai(e*=ni);Po(n*ai(t),n*fi(t),fi(e))}function Po(t,e,n){no+=(t-no)/++to,ro+=(e-ro)/to,io+=(n-io)/to}function jo(){No.point=zo}function zo(t,e){t*=ni;var n=ai(e*=ni);po=n*ai(t),go=n*fi(t),mo=fi(e),No.point=To,Po(po,go,mo)}function To(t,e){t*=ni;var n=ai(e*=ni),r=n*ai(t),n=n*fi(t),t=fi(e),e=oi(pi((e=go*t-mo*n)*e+(e=mo*r-po*t)*e+(e=po*n-go*r)*e),po*r+go*n+mo*t);eo+=e,oo+=e*(po+(po=r)),ao+=e*(go+(go=n)),co+=e*(mo+(mo=t)),Po(po,go,mo)}function Lo(){No.point=$o}function Do(){No.point=Co}function Ro(){Io(fo,ho),No.point=$o}function Co(t,e){fo=t,ho=e,t*=ni,e*=ni,No.point=Io;var n=ai(e);po=n*ai(t),go=n*fi(t),mo=fi(e),Po(po,go,mo)}function Io(t,e){t*=ni;var n=ai(e*=ni),r=n*ai(t),i=n*fi(t),o=fi(e),a=go*o-mo*i,c=mo*r-po*o,n=po*i-go*r,t=pi(a*a+c*c+n*n),e=mi(t),t=t&&-e/t;uo+=t*a,lo+=t*c,so+=t*n,eo+=e,oo+=e*(po+(po=r)),ao+=e*(go+(go=i)),co+=e*(mo+(mo=o)),Po(po,go,mo)}function Bo(t){return function(){return t}}function Wo(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ho(t,e){return[ri(t)>Kr?t+Math.round(-t/ti)*ti:t,e]}function Fo(t,e,n){return(t%=ti)?e||n?Wo(qo(t),Uo(e,n)):qo(t):e||n?Uo(e,n):Ho}function Yo(n){return function(t,e){return[(t+=n)>Kr?t-ti:t<-Kr?t+ti:t,e]}}function qo(t){var e=Yo(t);return e.invert=Yo(-t),e}function Uo(t,e){var i=ai(t),o=fi(t),a=ai(e),c=fi(e);function n(t,e){var n=ai(e),r=ai(t)*n,t=fi(t)*n,n=fi(e),e=n*i+r*o;return[oi(t*a-e*c,r*i-n*o),mi(e*a+t*c)]}return n.invert=function(t,e){var n=ai(e),r=ai(t)*n,t=fi(t)*n,n=fi(e),e=n*a-t*c;return[oi(t*a+n*c,r*i+e*o),mi(e*i-r*o)]},n}function Vo(e){function t(t){return(t=e(t[0]*ni,t[1]*ni))[0]*=ei,t[1]*=ei,t}return e=Fo(e[0]*ni,e[1]*ni,2<e.length?e[2]*ni:0),t.invert=function(t){return(t=e.invert(t[0]*ni,t[1]*ni))[0]*=ei,t[1]*=ei,t},t}function Go(t,e,n,r,i,o){if(n){var a=ai(e),c=fi(e),u=r*n;null==i?(i=e+r*ti,o=e-u/2):(i=Xo(a,i),o=Xo(a,o),(0<r?i<o:o<i)&&(i+=r*ti));for(var l,s=i;0<r?o<s:s<o;s-=u)l=Ri([a,-c*ai(s),-c*fi(s)]),t.point(l[0],l[1])}}function Xo(t,e){(e=Ci(e))[0]-=t,Fi(e);t=gi(-e[1]);return((-e[2]<0?-t:t)+ti-Xr)%ti}function Zo(){var r,e=[];return{point:function(t,e,n){r.push([t,e,n])},lineStart:function(){e.push(r=[])},lineEnd:vi,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],r=null,t}}}function Ko(t,e){return ri(t[0]-e[0])<Xr&&ri(t[1]-e[1])<Xr}function Jo(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Qo(t,e,n,r,o){var a,i,c=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if(Ko(r,i)){if(!r[2]&&!i[2]){for(o.lineStart(),a=0;a<e;++a)o.point((r=t[a])[0],r[1]);return void o.lineEnd()}i[0]+=2e-6}c.push(n=new Jo(r,t,null,!0)),u.push(n.o=new Jo(r,null,n,!1)),c.push(n=new Jo(i,t,null,!1)),u.push(n.o=new Jo(i,null,n,!0))}}),c.length){for(u.sort(e),ta(c),ta(u),a=0,i=u.length;a<i;++a)u[a].e=n=!n;for(var l,s,f=c[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,i=l.length;a<i;++a)o.point((s=l[a])[0],s[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(l=h.p.z,a=l.length-1;0<=a;--a)o.point((s=l[a])[0],s[1]);else r(h.x,h.p.x,-1,o);h=h.p}}while(l=(h=h.o).z,p=!p,!h.v);o.lineEnd()}}}function ta(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}Ho.invert=Ho;var ea=qr();function na(t){return ri(t[0])<=Kr?t[0]:hi(t[0])*((ri(t[0])+Kr)%ti-Kr)}function ra(t,e){var n=na(e),r=e[1],e=fi(r),i=[fi(n),-ai(n),0],o=0,a=0;ea.reset(),1===e?r=Jr+Xr:-1===e&&(r=-Jr-Xr);for(var c=0,u=t.length;c<u;++c)if(s=(l=t[c]).length)for(var l,s,f=l[s-1],h=na(f),p=f[1]/2+Qr,d=fi(p),g=ai(p),m=0;m<s;++m,h=v,d=_,g=w,f=y){var y=l[m],v=na(y),b=y[1]/2+Qr,_=fi(b),w=ai(b),x=v-h,M=0<=x?1:-1,A=M*x,S=Kr<A,b=d*_;ea.add(oi(b*M*fi(A),g*w+b*ai(A))),o+=S?x+M*ti:x,S^n<=h^n<=v&&(Fi(A=Bi(Ci(f),Ci(y))),Fi(M=Bi(i,A)),((M=(S^0<=x?-1:1)*mi(M[2]))<r||r===M&&(A[0]||A[1]))&&(a+=S^0<=x?1:-1))}return(o<-Xr||o<Xr&&ea<-Xr)^1&a}function ia(m,y,v,b){return function(c){var u,l,s,n=y(c),f=Zo(),h=y(f),p=!1,e={point:r,lineStart:i,lineEnd:o,polygonStart:function(){e.point=d,e.lineStart=a,e.lineEnd=g,l=[],u=[]},polygonEnd:function(){e.point=r,e.lineStart=i,e.lineEnd=o,l=et(l);var t=ra(u,b);l.length?(p||(c.polygonStart(),p=!0),Qo(l,aa,t,v,c)):t&&(p||(c.polygonStart(),p=!0),c.lineStart(),v(null,null,1,c),c.lineEnd()),p&&(c.polygonEnd(),p=!1),l=u=null},sphere:function(){c.polygonStart(),c.lineStart(),v(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function r(t,e){m(t,e)&&c.point(t,e)}function t(t,e){n.point(t,e)}function i(){e.point=t,n.lineStart()}function o(){e.point=r,n.lineEnd()}function d(t,e){s.push([t,e]),h.point(t,e)}function a(){h.lineStart(),s=[]}function g(){d(s[0][0],s[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),o=f.result(),a=o.length;if(s.pop(),u.push(s),s=null,a)if(1&i){if(0<(e=(n=o[0]).length-1)){for(p||(c.polygonStart(),p=!0),c.lineStart(),t=0;t<e;++t)c.point((r=n[t])[0],r[1]);c.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),l.push(o.filter(oa))}return e}}function oa(t){return 1<t.length}function aa(t,e){return((t=t.x)[0]<0?t[1]-Jr-Xr:Jr-t[1])-((e=e.x)[0]<0?e[1]-Jr-Xr:Jr-e[1])}var ca=ia(function(){return 1},function(l){var s,f=NaN,h=NaN,p=NaN;return{lineStart:function(){l.lineStart(),s=1},point:function(t,e){var n,r,i,o,a,c=0<t?Kr:-Kr,u=ri(t-f);ri(u-Kr)<Xr?(l.point(f,h=0<(h+e)/2?Jr:-Jr),l.point(p,h),l.lineEnd(),l.lineStart(),l.point(c,h),l.point(t,h),s=0):p!==c&&Kr<=u&&(ri(f-p)<Xr&&(f-=p*Xr),ri(t-c)<Xr&&(t-=c*Xr),r=h,o=e,a=fi((n=f)-(i=t)),h=ri(a)>Xr?ii((fi(r)*(u=ai(o))*fi(i)-fi(o)*(i=ai(r))*fi(n))/(i*u*a)):(r+o)/2,l.point(p,h),l.lineEnd(),l.lineStart(),l.point(c,h),s=0),l.point(f=t,h=e),p=c},lineEnd:function(){l.lineEnd(),f=h=NaN},clean:function(){return 2-s}}},function(t,e,n,r){var i;null==t?(i=n*Jr,r.point(-Kr,i),r.point(0,i),r.point(Kr,i),r.point(Kr,0),r.point(Kr,-i),r.point(0,-i),r.point(-Kr,-i),r.point(-Kr,0),r.point(-Kr,i)):ri(t[0]-e[0])>Xr?(i=n*(t=t[0]<e[0]?Kr:-Kr)/2,r.point(-t,i),r.point(0,i),r.point(t,i)):r.point(e[0],e[1])},[-Kr,-Jr]);function ua(i){var p=ai(i),o=6*ni,h=0<p,d=ri(p)>Xr;function g(t,e){return ai(t)*ai(e)>p}function m(t,e,n){var r=[1,0,0],i=Bi(Ci(t),Ci(e)),o=Ii(i,i),a=i[0],c=o-a*a;if(!c)return!n&&t;var u=p*o/c,l=-p*a/c,s=Bi(r,i),f=Hi(r,u);Wi(f,Hi(i,l));o=s,a=Ii(f,o),c=Ii(o,o),r=a*a-c*(Ii(f,f)-1);if(!(r<0)){u=pi(r),i=Hi(o,(-a-u)/c);if(Wi(i,f),i=Ri(i),!n)return i;var h,l=t[0],s=e[0],r=t[1],n=e[1];s<l&&(h=l,l=s,s=h);t=s-l,e=ri(t-Kr)<Xr;if(!e&&n<r&&(h=r,r=n,n=h),e||t<Xr?e?0<r+n^i[1]<(ri(i[0]-l)<Xr?r:n):r<=i[1]&&i[1]<=n:Kr<t^(l<=i[0]&&i[0]<=s)){c=Hi(o,(-a+u)/c);return Wi(c,f),[i,Ri(c)]}}}function y(t,e){var n=h?i:Kr-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return ia(g,function(a){var c,u,l,s,f;return{lineStart:function(){s=l=!1,f=1},point:function(t,e){var n,r,i=[t,e],o=g(t,e),e=h?o?0:y(t,e):o?y(t+(t<0?Kr:-Kr),e):0;!c&&(s=l=o)&&a.lineStart(),o===l||(n=m(c,i))&&!Ko(c,n)&&!Ko(i,n)||(i[2]=1),o!==l?(f=0,o?(a.lineStart(),n=m(i,c),a.point(n[0],n[1])):(n=m(c,i),a.point(n[0],n[1],2),a.lineEnd()),c=n):d&&c&&h^o&&(e&u||!(r=m(i,c,!0))||(f=0,h?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1],3)))),!o||c&&Ko(c,i)||a.point(i[0],i[1]),c=i,l=o,u=e},lineEnd:function(){l&&a.lineEnd(),c=null},clean:function(){return f|(s&&l)<<1}}},function(t,e,n,r){Go(r,i,o,n,t,e)},h?[0,-i]:[-Kr,i-Kr])}var la=1e9,sa=-la;function fa(y,v,b,_){function w(t,e){return y<=t&&t<=b&&v<=e&&e<=_}function x(t,e,n,r){var i=0,o=0;if(null==t||(i=a(t,n))!==(o=a(e,n))||c(t,e)<0^0<n)for(;r.point(0===i||3===i?y:b,1<i?_:v),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return ri(t[0]-y)<Xr?0<e?0:3:ri(t[0]-b)<Xr?0<e?2:1:ri(t[1]-v)<Xr?0<e?1:0:0<e?3:2}function M(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var i,f,o,a,c,u,l,s,h,p,d,g=r,t=Zo(),e={point:n,lineStart:function(){e.point=m,f&&f.push(o=[]),h=!(p=!0),l=s=NaN},lineEnd:function(){i&&(m(a,c),u&&h&&t.rejoin(),i.push(t.result())),e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],f=[],d=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,i,o=f[e],a=1,c=o.length,u=o[0],l=u[0],s=u[1];a<c;++a)r=l,i=s,l=(u=o[a])[0],s=u[1],i<=_?_<s&&(s-i)*(y-r)<(l-r)*(_-i)&&++t:s<=_&&(l-r)*(_-i)<(s-i)*(y-r)&&--t;return t}(),e=d&&t,n=(i=et(i)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),x(null,null,1,r),r.lineEnd()),n&&Qo(i,M,t,x,r),r.polygonEnd()),g=r,i=f=o=null}};function n(t,e){w(t,e)&&g.point(t,e)}function m(t,e){var n,r,i=w(t,e);f&&o.push([t,e]),p?(a=t,c=e,p=!1,(u=i)&&(g.lineStart(),g.point(t,e))):i&&h?g.point(t,e):!function(t,e){var n=t[0],r=t[1],i=0,o=1,a=e[0]-n,c=e[1]-r,u=y-n;if(a||!(0<u)){if(u/=a,a<0){if(u<i)return;u<o&&(o=u)}else if(0<a){if(o<u)return;i<u&&(i=u)}if(u=b-n,a||!(u<0)){if(u/=a,a<0){if(o<u)return;i<u&&(i=u)}else if(0<a){if(u<i)return;u<o&&(o=u)}if(u=v-r,c||!(0<u)){if(u/=c,c<0){if(u<i)return;u<o&&(o=u)}else if(0<c){if(o<u)return;i<u&&(i=u)}if(u=_-r,c||!(u<0)){if(u/=c,c<0){if(o<u)return;i<u&&(i=u)}else if(0<c){if(u<i)return;u<o&&(o=u)}return 0<i&&(t[0]=n+i*a,t[1]=r+i*c),o<1&&(e[0]=n+o*a,e[1]=r+o*c),1}}}}}(n=[l=Math.max(sa,Math.min(la,l)),s=Math.max(sa,Math.min(la,s))],r=[t=Math.max(sa,Math.min(la,t)),e=Math.max(sa,Math.min(la,e))])?i&&(g.lineStart(),g.point(t,e),d=!1):(h||(g.lineStart(),g.point(n[0],n[1])),g.point(r[0],r[1]),i||g.lineEnd(),d=!1),l=t,s=e,h=i}return e}}var ha,pa,da,ga=qr(),ma={sphere:vi,point:vi,lineStart:function(){ma.point=va,ma.lineEnd=ya},lineEnd:vi,polygonStart:vi,polygonEnd:vi};function ya(){ma.point=ma.lineEnd=vi}function va(t,e){ha=t*=ni,pa=fi(e*=ni),da=ai(e),ma.point=ba}function ba(t,e){t*=ni;var n=fi(e*=ni),r=ai(e),i=ri(t-ha),o=ai(i),e=r*fi(i),i=da*n-pa*r*o,o=pa*n+da*r*o;ga.add(oi(pi(e*e+i*i),o)),ha=t,pa=n,da=r}function _a(t){return ga.reset(),Ai(t,ma),+ga}var wa=[null,null],xa={type:"LineString",coordinates:wa};function Ma(t,e){return wa[0]=t,wa[1]=e,_a(xa)}var Aa={Feature:function(t,e){return ka(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(ka(n[r].geometry,e))return!0;return!1}},Sa={Sphere:function(){return!0},Point:function(t,e){return Oa(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Oa(n[r],e))return!0;return!1},LineString:function(t,e){return Ea(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ea(n[r],e))return!0;return!1},Polygon:function(t,e){return Na(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Na(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(ka(n[r],e))return!0;return!1}};function ka(t,e){return!(!t||!Sa.hasOwnProperty(t.type))&&Sa[t.type](t,e)}function Oa(t,e){return 0===Ma(t,e)}function Ea(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=Ma(t[o],e)))return!0;if(0<o&&0<(i=Ma(t[o],t[o-1]))&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Zr*i)return!0;n=r}return!1}function Na(t,e){return!!ra(t.map($a),Pa(e))}function $a(t){return(t=t.map(Pa)).pop(),t}function Pa(t){return[t[0]*ni,t[1]*ni]}function ja(t,e,n){var r=Z(t,e-Xr,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function za(t,e,n){var r=Z(t,e-Xr,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function Ta(){var e,n,r,i,o,a,c,u,l,s,f,h,p=10,d=p,g=90,m=360,y=2.5;function v(){return{type:"MultiLineString",coordinates:t()}}function t(){return Z(ci(i/g)*g,r,g).map(f).concat(Z(ci(u/m)*m,c,m).map(h)).concat(Z(ci(n/p)*p,e,p).filter(function(t){return ri(t%g)>Xr}).map(l)).concat(Z(ci(a/d)*d,o,d).filter(function(t){return ri(t%m)>Xr}).map(s))}return v.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(c).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],c=+t[1][1],r<i&&(t=i,i=r,r=t),c<u&&(t=u,u=c,c=t),v.precision(y)):[[i,u],[r,c]]},v.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),v.precision(y)):[[n,a],[e,o]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(g=+t[0],m=+t[1],v):[g,m]},v.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],v):[p,d]},v.precision=function(t){return arguments.length?(y=+t,l=ja(a,o,90),s=za(n,e,y),f=ja(u,c,90),h=za(i,r,y),v):y},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function La(t){return t}var Da,Ra,Ca,Ia,Ba=qr(),Wa=qr(),Ha={point:vi,lineStart:vi,lineEnd:vi,polygonStart:function(){Ha.lineStart=Fa,Ha.lineEnd=Ua},polygonEnd:function(){Ha.lineStart=Ha.lineEnd=Ha.point=vi,Ba.add(ri(Wa)),Wa.reset()},result:function(){var t=Ba/2;return Ba.reset(),t}};function Fa(){Ha.point=Ya}function Ya(t,e){Ha.point=qa,Da=Ca=t,Ra=Ia=e}function qa(t,e){Wa.add(Ia*t-Ca*e),Ca=t,Ia=e}function Ua(){qa(Da,Ra)}var Va,Ga,Xa,Za,Ka=1/0,Ja=Ka,Qa=-Ka,tc=Qa,ec={point:function(t,e){t<Ka&&(Ka=t),Qa<t&&(Qa=t),e<Ja&&(Ja=e),tc<e&&(tc=e)},lineStart:vi,lineEnd:vi,polygonStart:vi,polygonEnd:vi,result:function(){var t=[[Ka,Ja],[Qa,tc]];return Qa=tc=-(Ja=Ka=1/0),t}},nc=0,rc=0,ic=0,oc=0,ac=0,cc=0,uc=0,lc=0,sc=0,fc={point:hc,lineStart:pc,lineEnd:mc,polygonStart:function(){fc.lineStart=yc,fc.lineEnd=vc},polygonEnd:function(){fc.point=hc,fc.lineStart=pc,fc.lineEnd=mc},result:function(){var t=sc?[uc/sc,lc/sc]:cc?[oc/cc,ac/cc]:ic?[nc/ic,rc/ic]:[NaN,NaN];return nc=rc=ic=oc=ac=cc=uc=lc=sc=0,t}};function hc(t,e){nc+=t,rc+=e,++ic}function pc(){fc.point=dc}function dc(t,e){fc.point=gc,hc(Xa=t,Za=e)}function gc(t,e){var n=t-Xa,r=e-Za,r=pi(n*n+r*r);oc+=r*(Xa+t)/2,ac+=r*(Za+e)/2,cc+=r,hc(Xa=t,Za=e)}function mc(){fc.point=hc}function yc(){fc.point=bc}function vc(){_c(Va,Ga)}function bc(t,e){fc.point=_c,hc(Va=Xa=t,Ga=Za=e)}function _c(t,e){var n=t-Xa,r=e-Za,r=pi(n*n+r*r);oc+=r*(Xa+t)/2,ac+=r*(Za+e)/2,cc+=r,uc+=(r=Za*t-Xa*e)*(Xa+t),lc+=r*(Za+e),sc+=3*r,hc(Xa=t,Za=e)}function wc(t){this._context=t}wc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ti)}},result:vi};var xc,Mc,Ac,Sc,kc,Oc=qr(),Ec={point:vi,lineStart:function(){Ec.point=Nc},lineEnd:function(){xc&&$c(Mc,Ac),Ec.point=vi},polygonStart:function(){xc=!0},polygonEnd:function(){xc=null},result:function(){var t=+Oc;return Oc.reset(),t}};function Nc(t,e){Ec.point=$c,Mc=Sc=t,Ac=kc=e}function $c(t,e){Sc-=t,kc-=e,Oc.add(pi(Sc*Sc+kc*kc)),Sc=t,kc=e}function Pc(){this._string=[]}function jc(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function zc(e,n){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Ai(t,r(i))),i.result()}return a.area=function(t){return Ai(t,r(Ha)),Ha.result()},a.measure=function(t){return Ai(t,r(Ec)),Ec.result()},a.bounds=function(t){return Ai(t,r(ec)),ec.result()},a.centroid=function(t){return Ai(t,r(fc)),fc.result()},a.projection=function(t){return arguments.length?(r=null==t?(e=null,La):(e=t).stream,a):e},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Pc):new wc(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(e).context(n)}function Tc(t){return{stream:Lc(t)}}function Lc(r){return function(t){var e,n=new Dc;for(e in r)n[e]=r[e];return n.stream=t,n}}function Dc(){}function Rc(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Ai(n,t.stream(ec)),e(ec.result()),null!=r&&t.clipExtent(r),t}function Cc(i,o,t){return Rc(i,function(t){var e=o[1][0]-o[0][0],n=o[1][1]-o[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),e=+o[0][0]+(e-r*(t[1][0]+t[0][0]))/2,t=+o[0][1]+(n-r*(t[1][1]+t[0][1]))/2;i.scale(150*r).translate([e,t])},t)}function Ic(t,e,n){return Cc(t,[[0,0],e],n)}function Bc(r,i,t){return Rc(r,function(t){var e=+i,n=e/(t[1][0]-t[0][0]),e=(e-n*(t[1][0]+t[0][0]))/2,t=-n*t[0][1];r.scale(150*n).translate([e,t])},t)}function Wc(i,o,t){return Rc(i,function(t){var e=+o,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],t=(e-n*(t[1][1]+t[0][1]))/2;i.scale(150*n).translate([r,t])},t)}Pc.prototype={_radius:4.5,_circle:jc(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=jc(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Dc.prototype={constructor:Dc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hc=ai(30*ni);function Fc(t,e){return+e?(O=t,E=e,function(r){var n,i,o,a,c,u,l,s,f,h,p,d,g={point:t,lineStart:e,lineEnd:y,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=O(t,e),r.point(t[0],t[1])}function e(){s=NaN,g.point=m,r.lineStart()}function m(t,e){var n=Ci([t,e]),e=O(t,e);N(s,f,l,h,p,d,s=e[0],f=e[1],l=t,h=n[0],p=n[1],d=n[2],16,r),r.point(s,f)}function y(){g.point=t,r.lineEnd()}function v(){e(),g.point=b,g.lineEnd=_}function b(t,e){m(n=t,e),i=s,o=f,a=h,c=p,u=d,g.point=m}function _(){N(s,f,l,h,p,d,i,o,n,a,c,u,16,r),g.lineEnd=y,y()}return g}):(n=t,Lc({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,O,E;function N(t,e,n,r,i,o,a,c,u,l,s,f,h,p){var d,g,m,y,v,b,_,w,x,M,A=a-t,S=c-e,k=A*A+S*S;4*E<k&&h--&&(m=o+f,x=mi(m/=y=pi((d=r+l)*d+(g=i+s)*g+m*m)),v=ri(ri(m)-1)<Xr||ri(n-u)<Xr?(n+u)/2:oi(g,d),b=(M=O(v,x))[0],_=M[1],(E<(M=S*(w=b-t)-A*(x=_-e))*M/k||.3<ri((A*w+S*x)/k-.5)||r*l+i*s+o*f<Hc)&&(N(t,e,n,r,i,o,b,_,v,d/=y,g/=y,m,h,p),p.point(b,_),N(b,_,v,d,g,m,a,c,u,l,s,f,h,p)))}}var Yc=Lc({point:function(t,e){this.stream.point(t*ni,e*ni)}});function qc(t,n,r,i,o,e){var a=ai(e),e=fi(e),c=a*t,u=e*t,l=a/t,s=e/t,f=(e*r-a*n)/t,h=(e*n+a*r)/t;function p(t,e){return[c*(t*=i)-u*(e*=o)+n,r-u*t-c*e]}return p.invert=function(t,e){return[i*(l*t-s*e+f),o*(h-s*t-l*e)]},p}function Uc(t){return Vc(function(){return t})()}function Vc(t){var e,r,n,i,o,a,c,u,l,s,f=150,h=480,p=250,d=0,g=0,m=0,y=0,v=0,b=0,_=1,w=1,x=null,M=ca,A=null,S=La,k=.5;function O(t){return u(t[0]*ni,t[1]*ni)}function E(t){return(t=u.invert(t[0],t[1]))&&[t[0]*ei,t[1]*ei]}function N(){var t=qc(f,0,0,_,w,b).apply(null,e(d,g)),t=(b?qc:function(n,r,i,o,a){function t(t,e){return[r+n*(t*=o),i-n*(e*=a)]}return t.invert=function(t,e){return[(t-r)/n*o,(i-e)/n*a]},t})(f,h-t[0],p-t[1],_,w,b);return r=Fo(m,y,v),c=Wo(e,t),u=Wo(r,c),a=Fc(c,k),$()}function $(){return l=s=null,O}return O.stream=function(t){return l&&s===t?l:l=Yc((n=r,Lc({point:function(t,e){e=n(t,e);return this.stream.point(e[0],e[1])}})(M(a(S(s=t))))));var n},O.preclip=function(t){return arguments.length?(M=t,x=void 0,$()):M},O.postclip=function(t){return arguments.length?(S=t,A=n=i=o=null,$()):S},O.clipAngle=function(t){return arguments.length?(M=+t?ua(x=t*ni):(x=null,ca),$()):x*ei},O.clipExtent=function(t){return arguments.length?(S=null==t?(A=n=i=o=null,La):fa(A=+t[0][0],n=+t[0][1],i=+t[1][0],o=+t[1][1]),$()):null==A?null:[[A,n],[i,o]]},O.scale=function(t){return arguments.length?(f=+t,N()):f},O.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],N()):[h,p]},O.center=function(t){return arguments.length?(d=t[0]%360*ni,g=t[1]%360*ni,N()):[d*ei,g*ei]},O.rotate=function(t){return arguments.length?(m=t[0]%360*ni,y=t[1]%360*ni,v=2<t.length?t[2]%360*ni:0,N()):[m*ei,y*ei,v*ei]},O.angle=function(t){return arguments.length?(b=t%360*ni,N()):b*ei},O.reflectX=function(t){return arguments.length?(_=t?-1:1,N()):_<0},O.reflectY=function(t){return arguments.length?(w=t?-1:1,N()):w<0},O.precision=function(t){return arguments.length?(a=Fc(c,k=t*t),$()):pi(k)},O.fitExtent=function(t,e){return Cc(O,t,e)},O.fitSize=function(t,e){return Ic(O,t,e)},O.fitWidth=function(t,e){return Bc(O,t,e)},O.fitHeight=function(t,e){return Wc(O,t,e)},function(){return e=t.apply(this,arguments),O.invert=e.invert&&E,N()}}function Gc(t){var e=0,n=Kr/3,r=Vc(t),t=r(e,n);return t.parallels=function(t){return arguments.length?r(e=t[0]*ni,n=t[1]*ni):[e*ei,n*ei]},t}function Xc(t,e){var n,r=fi(t),i=(r+fi(e))/2;if(ri(i)<Xr)return n=ai(t),o.invert=function(t,e){return[t/n,mi(e*n)]},o;function o(t,e){return[t*n,fi(e)/n]}var a=1+r*(2*i-r),c=pi(a)/i;function u(t,e){e=pi(a-2*i*fi(e))/i;return[e*fi(t*=i),c-e*ai(t)]}return u.invert=function(t,e){var n=c-e,e=oi(t,ri(n))*hi(n);return n*i<0&&(e-=Kr*hi(t)*hi(n)),[e/i,mi((a-(t*t+n*n)*i*i)/(2*i))]},u}function Zc(){return Gc(Xc).scale(155.424).center([0,33.6442])}function Kc(){return Zc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Jc(i){return function(t,e){var n=ai(t),r=ai(e),n=i(n*r);return[n*r*fi(t),n*fi(e)]}}function Qc(o){return function(t,e){var n=pi(t*t+e*e),r=o(n),i=fi(r),r=ai(r);return[oi(t*i,n*r),mi(n&&e*i/n)]}}var tu=Jc(function(t){return pi(2/(1+t))});tu.invert=Qc(function(t){return 2*mi(t/2)});var eu=Jc(function(t){return(t=gi(t))&&t/fi(t)});function nu(t,e){return[t,li(di((Jr+e)/2))]}function ru(n){var r,i,o,a=Uc(n),e=a.center,c=a.scale,u=a.translate,l=a.clipExtent,s=null;function f(){var t=Kr*c(),e=a(Vo(a.rotate()).invert([0,0]));return l(null==s?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===nu?[[Math.max(e[0]-t,s),r],[Math.min(e[0]+t,i),o]]:[[s,Math.max(e[1]-t,r)],[i,Math.min(e[1]+t,o)]])}return a.scale=function(t){return arguments.length?(c(t),f()):c()},a.translate=function(t){return arguments.length?(u(t),f()):u()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?s=r=i=o=null:(s=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==s?null:[[s,r],[i,o]]},f()}function iu(t){return di((Jr+t)/2)}function ou(t,e){var n=ai(t),i=t===e?fi(t):li(n/ai(e))/li(iu(e)/iu(t)),o=n*si(iu(t),i)/i;return i?(r.invert=function(t,e){var n=o-e,r=hi(i)*pi(t*t+n*n),e=oi(t,ri(n))*hi(n);return n*i<0&&(e-=Kr*hi(t)*hi(n)),[e/i,2*ii(si(o/r,1/i))-Jr]},r):nu;function r(t,e){0<o?e<-Jr+Xr&&(e=-Jr+Xr):Jr-Xr<e&&(e=Jr-Xr);e=o/si(iu(e),i);return[e*fi(i*t),o-e*ai(i*t)]}}function au(t,e){return[t,e]}function cu(t,e){var n=ai(t),r=t===e?fi(t):(n-ai(e))/(e-t),i=n/r+t;return ri(r)<Xr?au:(o.invert=function(t,e){var n=i-e,e=oi(t,ri(n))*hi(n);return n*r<0&&(e-=Kr*hi(t)*hi(n)),[e/r,i-hi(r)*pi(t*t+n*n)]},o);function o(t,e){e=i-e,t*=r;return[e*fi(t),i-e*ai(t)]}}eu.invert=Qc(function(t){return t}),nu.invert=function(t,e){return[t,2*ii(ui(e))-Jr]},au.invert=au;var uu=1.340264,lu=-.081106,su=893e-6,fu=.003796,hu=pi(3)/2;function pu(t,e){var n=mi(hu*fi(e)),r=n*n,e=r*r*r;return[t*ai(n)/(hu*(uu+3*lu*r+e*(7*su+9*fu*r))),n*(uu+lu*r+e*(su+fu*r))]}function du(t,e){var n=ai(e),r=ai(t)*n;return[n*fi(t)/r,fi(e)/r]}function gu(){var r,i,e,n,o,a,c,u=1,l=0,s=0,f=1,h=1,p=0,d=null,g=1,m=1,y=Lc({point:function(t,e){e=_([t,e]);this.stream.point(e[0],e[1])}}),v=La;function b(){return g=u*f,m=u*h,a=c=null,_}function _(t){var e=t[0]*g,n=t[1]*m;return p&&(t=n*r-e*i,e=e*r+n*i,n=t),[e+l,n+s]}return _.invert=function(t){var e=t[0]-l,n=t[1]-s;return p&&(t=n*r+e*i,e=e*r-n*i,n=t),[e/g,n/m]},_.stream=function(t){return a&&c===t?a:a=y(v(c=t))},_.postclip=function(t){return arguments.length?(v=t,d=e=n=o=null,b()):v},_.clipExtent=function(t){return arguments.length?(v=null==t?(d=e=n=o=null,La):fa(d=+t[0][0],e=+t[0][1],n=+t[1][0],o=+t[1][1]),b()):null==d?null:[[d,e],[n,o]]},_.scale=function(t){return arguments.length?(u=+t,b()):u},_.translate=function(t){return arguments.length?(l=+t[0],s=+t[1],b()):[l,s]},_.angle=function(t){return arguments.length?(i=fi(p=t%360*ni),r=ai(p),b()):p*ei},_.reflectX=function(t){return arguments.length?(f=t?-1:1,b()):f<0},_.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},_.fitExtent=function(t,e){return Cc(_,t,e)},_.fitSize=function(t,e){return Ic(_,t,e)},_.fitWidth=function(t,e){return Bc(_,t,e)},_.fitHeight=function(t,e){return Wc(_,t,e)},_}function mu(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function yu(t,e){return[ai(e)*fi(t),fi(e)]}function vu(t,e){var n=ai(e),r=1+ai(t)*n;return[n*fi(t)/r,fi(e)/r]}function bu(t,e){return[li(di((Jr+e)/2)),-t]}pu.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(uu+lu*i+o*(su+fu*i))-e)/(uu+3*lu*i+o*(7*su+9*fu*i)))*r)*i*i,!(ri(n)<Zr));++a);return[hu*t*(uu+3*lu*i+o*(7*su+9*fu*i))/ai(r),mi(fi(r)/hu)]},du.invert=Qc(ii),mu.invert=function(t,e){var n=e,r=25;do{var i=n*n,o=i*i}while(n-=o=(n*(1.007226+i*(.015085+o*(.028874*i-.044475-.005916*o)))-e)/(1.007226+i*(.045255+o*(.259866*i-.311325-.005916*11*o))),ri(o)>Xr&&0<--r);return[t/(.8707+(i=n*n)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),n]},yu.invert=Qc(mi),vu.invert=Qc(function(t){return 2*ii(t)}),bu.invert=function(t,e){return[-e,2*ii(ui(t))-Jr]};var _u=Object.freeze({__proto__:null,geoArea:function(t){return Pi.reset(),Ai(t,ji),2*Pi},geoBounds:function(t){var e,n,r,i,o,a,c;if(Vi=Ui=-(Yi=qi=1/0),Ji=[],Ai(t,vo),n=Ji.length){for(Ji.sort(Oo),e=1,o=[r=Ji[0]];e<n;++e)Eo(r,(i=Ji[e])[0])||Eo(r,i[1])?(ko(r[0],i[1])>ko(r[0],r[1])&&(r[1]=i[1]),ko(i[0],r[1])>ko(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(c=ko(r[1],i[0]))>a&&(a=c,Yi=i[0],Ui=r[1])}return Ji=Qi=null,Yi===1/0||qi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Yi,qi],[Ui,Vi]]},geoCentroid:function(t){to=eo=no=ro=io=oo=ao=co=uo=lo=so=0,Ai(t,No);var e=uo,n=lo,r=so,t=e*e+n*n+r*r;return t<Zr&&(e=oo,n=ao,r=co,eo<Xr&&(e=no,n=ro,r=io),(t=e*e+n*n+r*r)<Zr)?[NaN,NaN]:[oi(n,e)*ei,mi(r/pi(t))*ei]},geoCircle:function(){var r,i,o=Bo([0,0]),a=Bo(90),c=Bo(6),u={point:function(t,e){r.push(t=i(t,e)),t[0]*=ei,t[1]*=ei}};function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*ni,n=c.apply(this,arguments)*ni;return r=[],i=Fo(-t[0]*ni,-t[1]*ni,0).invert,Go(u,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Bo([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Bo(+t),e):a},e.precision=function(t){return arguments.length?(c="function"==typeof t?t:Bo(+t),e):c},e},geoClipAntimeridian:ca,geoClipCircle:ua,geoClipExtent:function(){var e,n,r,i=0,o=0,a=960,c=500;return r={stream:function(t){return e&&n===t?e:e=fa(i,o,a,c)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],c=+t[1][1],e=n=null,r):[[i,o],[a,c]]}}},geoClipRectangle:fa,geoContains:function(t,e){return(t&&Aa.hasOwnProperty(t.type)?Aa[t.type]:ka)(t,e)},geoDistance:Ma,geoGraticule:Ta,geoGraticule10:function(){return Ta()()},geoInterpolate:function(t,e){var n=t[0]*ni,r=t[1]*ni,i=e[0]*ni,o=e[1]*ni,t=ai(r),a=fi(r),e=ai(o),c=fi(o),u=t*ai(n),l=t*fi(n),s=e*ai(i),f=e*fi(i),h=2*mi(pi(yi(o-r)+t*e*yi(i-n))),p=fi(h),i=h?function(t){var e=fi(t*=h)/p,n=fi(h-t)/p,r=n*u+e*s,t=n*l+e*f,e=n*a+e*c;return[oi(t,r)*ei,oi(e,pi(r*r+t*t))*ei]}:function(){return[n*ei,r*ei]};return i.distance=h,i},geoLength:_a,geoPath:zc,geoAlbers:Kc,geoAlbersUsa:function(){var e,n,i,o,a,r,c=Kc(),u=Zc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Zc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],t=t[1];return r=null,i.point(e,t),r||(o.point(e,t),r)||(a.point(e,t),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,e=(t[1]-n[1])/e;return(.12<=e&&e<.234&&-.425<=r&&r<-.214?u:.166<=e&&e<.234&&-.214<=r&&r<-.115?l:c).invert(t)},f.stream=function(t){return e&&n===t?e:(r=[c.stream(n=t),u.stream(t),l.stream(t)],i=r.length,e={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(c.precision(t),u.precision(t),l.precision(t),h()):c.precision()},f.scale=function(t){return arguments.length?(c.scale(t),u.scale(.35*t),l.scale(t),f.translate(c.translate())):c.scale()},f.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],r=+t[1];return i=c.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(s),o=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+Xr,r+.12*e+Xr],[n-.214*e-Xr,r+.234*e-Xr]]).stream(s),a=l.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+Xr,r+.166*e+Xr],[n-.115*e-Xr,r+.234*e-Xr]]).stream(s),h()},f.fitExtent=function(t,e){return Cc(f,t,e)},f.fitSize=function(t,e){return Ic(f,t,e)},f.fitWidth=function(t,e){return Bc(f,t,e)},f.fitHeight=function(t,e){return Wc(f,t,e)},f.scale(1070)},geoAzimuthalEqualArea:function(){return Uc(tu).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:tu,geoAzimuthalEquidistant:function(){return Uc(eu).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:eu,geoConicConformal:function(){return Gc(ou).scale(109.5).parallels([30,30])},geoConicConformalRaw:ou,geoConicEqualArea:Zc,geoConicEqualAreaRaw:Xc,geoConicEquidistant:function(){return Gc(cu).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:cu,geoEqualEarth:function(){return Uc(pu).scale(177.158)},geoEqualEarthRaw:pu,geoEquirectangular:function(){return Uc(au).scale(152.63)},geoEquirectangularRaw:au,geoGnomonic:function(){return Uc(du).scale(144.049).clipAngle(60)},geoGnomonicRaw:du,geoIdentity:gu,geoProjection:Uc,geoProjectionMutator:Vc,geoMercator:function(){return ru(nu).scale(961/ti)},geoMercatorRaw:nu,geoNaturalEarth1:function(){return Uc(mu).scale(175.295)},geoNaturalEarth1Raw:mu,geoOrthographic:function(){return Uc(yu).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:yu,geoStereographic:function(){return Uc(vu).scale(250).clipAngle(142)},geoStereographicRaw:vu,geoTransverseMercator:function(){var t=ru(bu),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:bu,geoRotation:Vo,geoStream:Ai,geoTransform:Tc}),wu=function(n){if(n.__esModule)return n;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var e=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(r,t,e.get?e:{enumerable:!0,get:function(){return n[t]}})}),r}(_u);function xu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return Mu(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Mu(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function Mu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Au=mt(function(t,e){var b;b=wu,(e=e).geoAlbersUsaTerritories=function(){var e,n,i,o,a,c,u,l,r,s=b.geoAlbers(),f=b.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=b.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),p=b.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),d=b.geoConicEqualArea().rotate([-145,0]).center([0,16]).parallels([10,20]),g=b.geoConicEqualArea().rotate([170,0]).center([0,-14]).parallels([-14,0]),m={point:function(t,e){r=[t,e]}};function y(t){var e=t[0],t=t[1];return r=null,i.point(e,t),r||(o.point(e,t),r)||(a.point(e,t),r)||(c.point(e,t),r)||(u.point(e,t),r)||(l.point(e,t),r)}function v(){return e=n=null,y}return y.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,e=(t[1]-n[1])/e;return(.12<=e&&e<.234&&-.225<=r&&r<-.185?f:.166<=e&&e<.234&&-.185<=r&&r<-.08?h:.204<=e&&e<.234&&.3<=r&&r<.38?p:.05<=e&&e<.204&&-.415<=r&&r<-.225?d:.18<=e&&e<.234&&-.415<=r&&r<-.225?g:s).invert(t)},y.stream=function(t){return e&&n===t?e:(i=[s.stream(n=t),f.stream(t),h.stream(t),p.stream(t),d.stream(t),g.stream(t)],e={point:function(t,e){var n,r=xu(i);try{for(r.s();!(n=r.n()).done;)n.value.point(t,e)}catch(t){r.e(t)}finally{r.f()}},sphere:function(){var t,e=xu(i);try{for(e.s();!(t=e.n()).done;)t.value.sphere()}catch(t){e.e(t)}finally{e.f()}},lineStart:function(){var t,e=xu(i);try{for(e.s();!(t=e.n()).done;)t.value.lineStart()}catch(t){e.e(t)}finally{e.f()}},lineEnd:function(){var t,e=xu(i);try{for(e.s();!(t=e.n()).done;)t.value.lineEnd()}catch(t){e.e(t)}finally{e.f()}},polygonStart:function(){var t,e=xu(i);try{for(e.s();!(t=e.n()).done;)t.value.polygonStart()}catch(t){e.e(t)}finally{e.f()}},polygonEnd:function(){var t,e=xu(i);try{for(e.s();!(t=e.n()).done;)t.value.polygonEnd()}catch(t){e.e(t)}finally{e.f()}}});var i},y.precision=function(t){return arguments.length?(s.precision(t),f.precision(t),h.precision(t),p.precision(t),d.precision(t),g.precision(t),v()):s.precision()},y.scale=function(t){return arguments.length?(s.scale(t),f.scale(.35*t),h.scale(t),p.scale(t),d.scale(t),g.scale(t),y.translate(s.translate())):s.scale()},y.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(m),o=f.translate([n-.275*e,r+.201*e]).clipExtent([[n-.425*e+1e-6,r+.12*e+1e-6],[n-.185*e-1e-6,r+.234*e-1e-6]]).stream(m),a=h.translate([n-.18*e,r+.212*e]).clipExtent([[n-.185*e+1e-6,r+.166*e+1e-6],[n-.08*e-1e-6,r+.234*e-1e-6]]).stream(m),c=p.translate([n+.335*e,r+.224*e]).clipExtent([[n+.3*e,r+.204*e],[n+.38*e,r+.234*e]]).stream(m),u=d.translate([n-.415*e,r+.14*e]).clipExtent([[n-.45*e,r+.05*e],[n-.39*e,r+.21*e]]).stream(m),l=g.translate([n-.415*e,r+.215*e]).clipExtent([[n-.45*e,r+.21*e],[n-.39*e,r+.234*e]]).stream(m),v()},y.scale(1070)},Object.defineProperty(e,"__esModule",{value:!0})});function Su(t){return t}function ku(t){if(null==t)return Su;var o,a,c=t.scale[0],u=t.scale[1],l=t.translate[0],s=t.translate[1];return function(t,e){e||(o=a=0);var n=2,r=t.length,i=new Array(r);for(i[0]=(o+=t[0])*c+l,i[1]=(a+=t[1])*u+s;n<r;)i[n]=t[n],++n;return i}}function Ou(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return Eu(e,t)})}:Eu(e,t)}function Eu(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,e=Nu(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:e}:null==r?{type:"Feature",id:n,properties:i,geometry:e}:{type:"Feature",id:n,bbox:r,properties:i,geometry:e}}function Nu(t,e){var o=ku(t.transform),a=t.arcs;function i(t,e){e.length&&e.pop();for(var n=a[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(o(n[r],r));t<0&&function(t){for(var e,n=t.length,r=n-i;r<--n;)e=t[r],t[r++]=t[n],t[n]=e}(e)}function c(t){return o(t)}function u(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function n(t){for(var e=u(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(n)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=c(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(c);break;case"LineString":n=u(e.arcs);break;case"MultiLineString":n=e.arcs.map(u);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}function $u(c,r){var i={},u={},l={},o=[],a=-1;function t(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),o.push(r)}}return r.forEach(function(t,e){var n=c.arcs[t<0?~t:t];n.length<3&&!n[1][0]&&!n[1][1]&&(n=r[++a],r[a]=t,r[e]=n)}),r.forEach(function(t){var e,n,r,i,o,a=(n=t,a=c.arcs[n<0?~n:n],i=a[0],c.transform?(r=[0,0],a.forEach(function(t){r[0]+=t[0],r[1]+=t[1]})):r=a[a.length-1],n<0?[r,i]:[i,r]),n=a[0],i=a[1];(a=l[n])?(delete l[a.end],a.push(t),a.end=i,(e=u[i])?(delete u[e.start],o=e===a?a:a.concat(e),u[o.start=a.start]=l[o.end=e.end]=o):u[a.start]=l[a.end]=a):(a=u[i])?(delete u[a.start],a.unshift(t),a.start=n,(e=l[n])?(delete l[e.end],o=e===a?a:e.concat(a),u[o.start=e.start]=l[o.end=a.end]=o):u[a.start]=l[a.end]=a):u[(a=[t]).start=n]=l[a.end=i]=a}),t(l,u),t(u,l),r.forEach(function(t){i[t<0?~t:t]||o.push([t])}),o}function Pu(t){var e=t[0],n=t[1],t=t[2];return Math.abs((e[0]-t[0])*(n[1]-e[1])-(e[0]-n[0])*(t[1]-e[1]))/2}function ju(t,e){return t[1][2]-e[1][2]}function zu(t){return[t[0],t[1],0]}var Tu=mt(function(t){var e,n;e=Fn,n=function(){var m,o,u,l,t,e,c={},y={},n={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:n.currentLocale,zeroFormat:n.zeroFormat,nullFormat:n.nullFormat,defaultFormat:n.defaultFormat,scalePercentBy100:n.scalePercentBy100};function a(t,e){this._input=t,this._value=e}return(m=function(t){var e,n,r,i;if(m.isNumeral(t))e=t.value();else if(0===t||void 0===t)e=0;else if(null===t||o.isNaN(t))e=null;else if("string"==typeof t)if(s.zeroFormat&&t===s.zeroFormat)e=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(n in c)if((i="function"==typeof c[n].regexps.unformat?c[n].regexps.unformat():c[n].regexps.unformat)&&t.match(i)){r=c[n].unformat;break}e=(r=r||m._.stringToNumber)(t)}else e=Number(t)||null;return new a(t,e)}).version="2.0.6",m.isNumeral=function(t){return t instanceof a},m._=o={numberToFormat:function(t,e,n){var r,i,o,a,c,u,l=y[m.options.currentLocale],s=!1,f=!1,h="",p="",d=!1;if(t=t||0,i=Math.abs(t),m._.includes(e,"(")?(s=!0,e=e.replace(/[\(|\)]/g,"")):(m._.includes(e,"+")||m._.includes(e,"-"))&&(c=m._.includes(e,"+")?e.indexOf("+"):t<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),m._.includes(e,"a")&&(r=!!(r=e.match(/a(k|m|b|t)?/))&&r[1],m._.includes(e," a")&&(h=" "),e=e.replace(new RegExp(h+"a[kmbt]?"),""),1e12<=i&&!r||"t"===r?(h+=l.abbreviations.trillion,t/=1e12):i<1e12&&1e9<=i&&!r||"b"===r?(h+=l.abbreviations.billion,t/=1e9):i<1e9&&1e6<=i&&!r||"m"===r?(h+=l.abbreviations.million,t/=1e6):(i<1e6&&1e3<=i&&!r||"k"===r)&&(h+=l.abbreviations.thousand,t/=1e3)),m._.includes(e,"[.]")&&(f=!0,e=e.replace("[.]",".")),o=t.toString().split(".")[0],a=e.split(".")[1],u=e.indexOf(","),i=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,a?(o=(p=m._.includes(a,"[")?(a=(a=a.replace("]","")).split("["),m._.toFixed(t,a[0].length+a[1].length,n,a[1].length)):m._.toFixed(t,a.length,n)).split(".")[0],p=m._.includes(p,".")?l.delimiters.decimal+p.split(".")[1]:"",f&&0===Number(p.slice(1))&&(p="")):o=m._.toFixed(t,0,n),h&&!r&&1e3<=Number(o)&&h!==l.abbreviations.trillion)switch(o=String(Number(o)/1e3),h){case l.abbreviations.thousand:h=l.abbreviations.million;break;case l.abbreviations.million:h=l.abbreviations.billion;break;case l.abbreviations.billion:h=l.abbreviations.trillion}if(m._.includes(o,"-")&&(o=o.slice(1),d=!0),o.length<i)for(var g=i-o.length;0<g;g--)o="0"+o;return-1<u&&(o=o.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l.delimiters.thousands)),0===e.indexOf(".")&&(o=""),p=o+p+(h||""),s?p=(s&&d?"(":"")+p+(s&&d?")":""):0<=c?p=0===c?(d?"-":"+")+p:p+(d?"-":"+"):d&&(p="-"+p),p},stringToNumber:function(t){var e,n,r,i=y[s.currentLocale],o=t,a={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&t===s.zeroFormat)n=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,a[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:(e=function(t){return"number"==typeof t&&isNaN(t)},r.toString=function(){return e.toString()},r),includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(i<=o)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n},multiplier:function(t){t=t.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){e=o.multiplier(e);return e<t?t:e},1)},toFixed:function(t,e,n,r){var i=t.toString().split("."),o=e-(r||0),i=2===i.length?Math.min(Math.max(i[1].length,o),e):o,o=Math.pow(10,i),o=(n(t+"e+"+i)/o).toFixed(i);return e-i<r&&(i=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),o=o.replace(i,"")),o}},m.options=s,m.formats=c,m.locales=y,m.locale=function(t){return t&&(s.currentLocale=t.toLowerCase()),s.currentLocale},m.localeData=function(t){if(!t)return y[s.currentLocale];if(t=t.toLowerCase(),!y[t])throw new Error("Unknown locale : "+t);return y[t]},m.reset=function(){for(var t in n)s[t]=n[t]},m.zeroFormat=function(t){s.zeroFormat="string"==typeof t?t:null},m.nullFormat=function(t){s.nullFormat="string"==typeof t?t:null},m.defaultFormat=function(t){s.defaultFormat="string"==typeof t?t:"0.0"},m.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n},m.validate=function(t,e){var n,r,i,o,a,c,u;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=m.localeData(e)}catch(t){c=m.localeData(m.locale())}return r=c.currency.symbol,o=c.abbreviations,n=c.delimiters.decimal,a="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,!(null!==(u=t.match(/^[^\d]+/))&&(t=t.substr(1),u[0]!==r)||null!==(u=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),u[0]!==o.thousand&&u[0]!==o.million&&u[0]!==o.billion&&u[0]!==o.trillion)||(a=new RegExp(a+"{2}"),t.match(/[^\d.,]/g)||2<(i=t.split(n)).length||(i.length<2?!i[0].match(/^\d+.*\d$/)||i[0].match(a):1===i[0].length?!i[0].match(/^\d+$/)||i[0].match(a)||!i[1].match(/^\d+$/):!i[0].match(/^\d+.*\d$/)||i[0].match(a)||!i[1].match(/^\d+$/))))},m.fn=a.prototype={clone:function(){return m(this)},format:function(t,e){var n,r,i,o=this._value,a=t||s.defaultFormat;if(e=e||Math.round,0===o&&null!==s.zeroFormat)r=s.zeroFormat;else if(null===o&&null!==s.nullFormat)r=s.nullFormat;else{for(n in c)if(a.match(c[n].regexps.format)){i=c[n].format;break}r=(i=i||m._.numberToFormat)(o,a,e)}return r},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([this._value,t],function(t,e,n,r){return t+Math.round(i*e)},0)/i,this},subtract:function(t){var i=o.correctionFactor.call(null,this._value,t);return this._value=o.reduce([t],function(t,e,n,r){return t-Math.round(i*e)},Math.round(this._value*i))/i,this},multiply:function(t){return this._value=o.reduce([this._value,t],function(t,e,n,r){var i=o.correctionFactor(t,e);return Math.round(t*i)*Math.round(e*i)/Math.round(i*i)},1),this},divide:function(t){return this._value=o.reduce([this._value,t],function(t,e,n,r){var i=o.correctionFactor(t,e);return Math.round(t*i)/Math.round(e*i)}),this},difference:function(t){return Math.abs(m(this._value).subtract(t).value())}},m.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th"},currency:{symbol:"$"}}),m.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,e,n){var r=m._.includes(e," BPS")?" ":"";return t*=1e4,e=e.replace(/\s?BPS/,""),n=m._.numberToFormat(t,e,n),n=m._.includes(n,")")?((n=n.split("")).splice(-1,0,r+"BPS"),n.join("")):n+r+"BPS"},unformat:function(t){return+(1e-4*m._.stringToNumber(t)).toFixed(15)}}),l={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t="("+(t=(u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(l.suffixes.filter(function(t){return u.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",m.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(t,e,n){var r,i,o,a=m._.includes(e,"ib")?l:u,c=m._.includes(e," b")||m._.includes(e," ib")?" ":"";for(e=e.replace(/\s?i?b/,""),r=0;r<=a.suffixes.length;r++)if(i=Math.pow(a.base,r),o=Math.pow(a.base,r+1),null===t||0===t||i<=t&&t<o){c+=a.suffixes[r],0<i&&(t/=i);break}return m._.numberToFormat(t,e,n)+c},unformat:function(t){var e,n,r=m._.stringToNumber(t);if(r){for(e=u.suffixes.length-1;0<=e;e--){if(m._.includes(t,u.suffixes[e])){n=Math.pow(u.base,e);break}if(m._.includes(t,l.suffixes[e])){n=Math.pow(l.base,e);break}}r*=n||1}return r}}),m.register("format","currency",{regexps:{format:/(\$)/},format:function(t,e,n){var r,i,o=m.locales[m.options.currentLocale],a={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(e=e.replace(/\s?\$\s?/,""),r=m._.numberToFormat(t,e,n),0<=t?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!m._.includes(a.before,"-")&&!m._.includes(a.before,"(")&&(a.before="-"+a.before),i=0;i<a.before.length;i++)switch(a.before[i]){case"$":r=m._.insert(r,o.currency.symbol,i);break;case" ":r=m._.insert(r," ",i+o.currency.symbol.length-1)}for(i=a.after.length-1;0<=i;i--)switch(a.after[i]){case"$":r=i===a.after.length-1?r+o.currency.symbol:m._.insert(r,o.currency.symbol,-(a.after.length-(1+i)));break;case" ":r=i===a.after.length-1?r+" ":m._.insert(r," ",-(a.after.length-(1+i)+o.currency.symbol.length-1))}return r}}),m.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,e,n){t=("number"!=typeof t||m._.isNaN(t)?"0e+0":t.toExponential()).split("e");return e=e.replace(/e[\+|\-]{1}0/,""),m._.numberToFormat(Number(t[0]),e,n)+"e"+t[1]},unformat:function(t){var e=m._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(e[0]),e=Number(e[1]),e=m._.includes(t,"e-")?e*=-1:e;return m._.reduce([n,Math.pow(10,e)],function(t,e,n,r){var i=m._.correctionFactor(t,e);return t*i*(e*i)/(i*i)},1)}}),m.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,e,n){var r=m.locales[m.options.currentLocale],i=m._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),i+=r.ordinal(t),m._.numberToFormat(t,e,n)+i}}),m.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,e,n){var r=m._.includes(e," %")?" ":"";return m.options.scalePercentBy100&&(t*=100),e=e.replace(/\s?\%/,""),n=m._.numberToFormat(t,e,n),n=m._.includes(n,")")?((n=n.split("")).splice(-1,0,r+"%"),n.join("")):n+r+"%"},unformat:function(t){t=m._.stringToNumber(t);return m.options.scalePercentBy100?.01*t:t}}),m.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),t=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(t<10?"0"+t:t)},unformat:function(t){var e=t.split(":"),t=0;return 3===e.length?(t+=60*Number(e[0])*60,t+=60*Number(e[1]),t+=Number(e[2])):2===e.length&&(t+=60*Number(e[0]),t+=Number(e[1])),Number(t)}}),m;function r(t){return e.apply(this,arguments)}},t.exports?t.exports=n():e.numeral=n()}),Lu=mt(function(t,e){t.exports=function(){function r(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t}var i="millisecond",f="second",h="minute",p="hour",d="day",g="week",m="month",y="year",v="date",a=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,t={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},e={s:r,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),t=Math.floor(n/60),n=n%60;return(e<=0?"+":"-")+r(t,2,"0")+":"+r(n,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,m),o=n-i<0,e=e.clone().add(r+(o?-1:1),m);return+(-(r+(n-i)/(o?i-e:e-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:m,y:y,w:g,d:d,D:v,h:p,m:h,s:f,ms:i,Q:"quarter"}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},o="en",c={};c[o]=t;function n(t){return t instanceof s}function u(t,e,n){var r;return t?("string"==typeof t?(c[t]&&(r=t),e&&(c[t]=e,r=t)):(e=t.name,c[e]=t,r=e),!n&&r&&(o=r),r||!n&&o):o}function l(t,e){return n(t)?t.clone():((e="object"==Yn(e)?e:{}).date=t,e.args=arguments,new s(e))}var _=e;_.l=u,_.i=n,_.w=function(t,e){return l(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var s=((e=x.prototype).parse=function(o){this.$d=function(){var t=o.date,e=o.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(a);if(n){var r=n[2]-1||0,i=(n[7]||"0").substring(0,3);return e?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(),this.$x=o.x||{},this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return _},e.isValid=function(){return!("Invalid Date"===this.$d.toString())},e.isSame=function(t,e){t=l(t);return this.startOf(e)<=t&&t<=this.endOf(e)},e.isAfter=function(t,e){return l(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<l(t)},e.$g=function(t,e,n){return _.u(t)?this[e]:this.set(n,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){function n(t,e){return t=_.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i),o?t:t.endOf(d)}function r(t,e){return _.w(i.toDate()[t].apply(i.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(e)),i)}var i=this,o=!!_.u(e)||e,t=_.p(t),a=this.$W,c=this.$M,u=this.$D,l="set"+(this.$u?"UTC":"");switch(t){case y:return o?n(1,0):n(31,11);case m:return o?n(1,c):n(0,c+1);case g:var s=this.$locale().weekStart||0,s=(a<s?a+7:a)-s;return n(o?u-s:u+(6-s),c);case d:case v:return r(l+"Hours",0);case p:return r(l+"Minutes",1);case h:return r(l+"Seconds",2);case f:return r(l+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var n=_.p(t),r="set"+(this.$u?"UTC":""),t=((t={})[d]=r+"Date",t[v]=r+"Date",t[m]=r+"Month",t[y]=r+"FullYear",t[p]=r+"Hours",t[h]=r+"Minutes",t[f]=r+"Seconds",t[i]=r+"Milliseconds",t[n]),e=n===d?this.$D+(e-this.$W):e;return n===m||n===y?((n=this.clone().set(v,1)).$d[t](e),n.init(),this.$d=n.set(v,Math.min(this.$D,n.daysInMonth())).$d):t&&this.$d[t](e),this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[_.p(t)]()},e.add=function(n,t){var r=this;n=Number(n);var e=_.p(t),t=function(t){var e=l(r);return _.w(e.date(e.date()+Math.round(t*n)),r)};if(e===m)return this.set(m,this.$M+n);if(e===y)return this.set(y,this.$y+n);if(e===d)return t(1);if(e===g)return t(7);(t={})[h]=6e4,t[p]=36e5,t[f]=1e3,e=t[e]||1,e=this.$d.getTime()+n*e;return _.w(e,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var i=this;if(!this.isValid())return"Invalid Date";function e(t,e,n,r){return t&&(t[e]||t(i,o))||n[e].substr(0,r)}function n(t){return _.s(c%12||12,t,"0")}var o=t||"YYYY-MM-DDTHH:mm:ssZ",r=_.z(this),a=this.$locale(),c=this.$H,u=this.$m,l=this.$M,s=a.weekdays,f=a.months,t=a.meridiem||function(t,e,n){t=t<12?"AM":"PM";return n?t.toLowerCase():t},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:_.s(l+1,2,"0"),MMM:e(a.monthsShort,l,f,3),MMMM:e(f,l),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:e(a.weekdaysMin,this.$W,s,2),ddd:e(a.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(c),HH:_.s(c,2,"0"),h:n(1),hh:n(2),a:t(c,u,!0),A:t(c,u,!1),m:String(u),mm:_.s(u,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:r};return o.replace(b,function(t,e){return e||h[t]||r.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,e,n){var r=_.p(e),i=l(t),o=6e4*(i.utcOffset()-this.utcOffset()),e=this-i,t=_.m(this,i),i={};return i[y]=t/12,i[m]=t,i.quarter=t/3,i.week=(e-o)/6048e5,i[d]=(e-o)/864e5,i[p]=e/36e5,i[h]=e/6e4,i[f]=e/1e3,t=i[r]||e,n?t:_.a(t)},e.daysInMonth=function(){return this.endOf(m).$D},e.$locale=function(){return c[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),e=u(t,e,!0);return e&&(n.$L=e),n},e.clone=function(){return _.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},x),w=s.prototype;function x(t){this.$L=u(t.locale,null,!0),this.parse(t)}return l.prototype=w,[["$ms",i],["$s",f],["$m",h],["$H",p],["$W",d],["$M",m],["$y",y],["$D",v]].forEach(function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),l.extend=function(t,e){return t.$i||(t(e,s,l),t.$i=!0),l},l.locale=u,l.isDayjs=n,l.unix=function(t){return l(1e3*t)},l.en=c[o],l.Ls=c,l.p={},l}()}),ft=mt(function(t,e){t.exports=function(t,e,n){var e=e.prototype,i=e.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},e.format=function(t){var e=this,n=this.$locale(),r=this.$utils(),t=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return r.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}});return i.bind(this)(t)}}}),Du=mt(function(t,e){var o;t.exports=(o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,n){var e=e.prototype,r=e.format;n.en.formats=o,e.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var i,e=this.$locale().formats,t=(i=void 0===e?{}:e,t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,e,n){var r=n&&n.toUpperCase();return e||i[n]||o[n]||i[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})}));return r.call(this,t)}})}),Ru=!1;function Cu(t,e,n){e=1<arguments.length&&void 0!==e?e:null,n=2<arguments.length&&void 0!==n?n:null;if(!e)return t;for(var r=Array.isArray(e)?e:e.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?n:i}function Iu(e){if(!e||"object"!==Yn(e))return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}var Bu=mt(function(t,e){t.exports=function(){function f(){}function c(t){return t()}function h(){return Object.create(null)}function A(t){t.forEach(c)}function u(t){return"function"==typeof t}function e(t,e){return t!=t?e==e:t!==e||t&&"object"==Yn(t)||"function"==typeof t}function S(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function O(t){t.parentNode.removeChild(t)}function n(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function a(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function o(t){return document.createTextNode(t)}function N(){return o(" ")}function p(){return o("")}function $(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function P(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function j(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function l(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e,n){t.classList[n?"add":"remove"](e)}var d,s=function(t){void 0===t&&(t=null),this.a=t,this.e=this.n=null};function g(t){d=t}function H(){if(!d)throw new Error("Function called outside component initialization");return d}function at(t){H().$$.after_update.push(t)}function ct(){var o=H();return function(t,e){var n,r,i=o.$$.callbacks[t];i&&(r=t,t=e,(e=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,t),n=e,i.slice().forEach(function(t){t.call(o,n)}))}}function ut(t,e){t=t.$$.callbacks[e.type];t&&t.slice().forEach(function(t){return t(e)})}s.prototype.m=function(t,e,n){void 0===n&&(n=null),this.e||(this.e=E(e.nodeName),this.t=e,this.h(t)),this.i(n)},s.prototype.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},s.prototype.i=function(t){for(var e=0;e<this.n.length;e+=1)k(this.t,this.n[e],t)},s.prototype.p=function(t){this.d(),this.h(t),this.i(this.a)},s.prototype.d=function(){this.n.forEach(O)};var m=[],lt=[],y=[],v=[],r=Promise.resolve(),b=!1;function st(){b||(b=!0,r.then(T))}function _(t){y.push(t)}function x(t){v.push(t)}var w=!1,M=new Set;function T(){if(!w){w=!0;do{for(var t=0;t<m.length;t+=1){var e=m[t];g(e),i=e.$$,e=void 0,void(null!==i.fragment&&(i.update(),A(i.before_update),e=i.dirty,i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(_)))}for(g(null),m.length=0;lt.length;)lt.pop()();for(var n=0;n<y.length;n+=1){var r=y[n];M.has(r)||(M.add(r),r())}}while(y.length=0,m.length);for(;v.length;)v.pop()();w=b=!1,M.clear()}var i}var i,L=new Set;function D(){i={r:0,c:[],p:i}}function R(){i.r||A(i.c),i=i.p}function C(t,e){t&&t.i&&(L.delete(t),t.i(e))}function I(t,e,n,r){t&&t.o&&(L.has(t)||(L.add(t),i.c.push(function(){L.delete(t),r&&(n&&t.d(1),r())}),t.o(e)))}var t="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:Fn;function B(t,e,n){e=t.$$.props[e];void 0!==e&&(t.$$.bound[e]=n)(t.$$.ctx[e])}function W(t){t&&t.c()}function F(e,t,n){var r=e.$$,i=r.fragment,o=r.on_mount,a=r.on_destroy,r=r.after_update;i&&i.m(t,n),_(function(){var t=o.map(c).filter(u);a?a.push.apply(a,t):A(t),e.$$.on_mount=[]}),r.forEach(_)}function Y(t,e){t=t.$$;null!==t.fragment&&(A(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function q(o,t,e,n,a,r,i){void 0===i&&(i=[-1]);var c=d;g(o);var u=t.props||{},l=o.$$={fragment:null,ctx:null,props:r,update:f,not_equal:a,bound:h(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:h(),dirty:i,skip_bound:!1},s=!1;l.ctx=e?e(o,u,function(t,e){for(var n=[],r=arguments.length-2;0<r--;)n[r]=arguments[r+2];var i=n.length?n[0]:e;return l.ctx&&a(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),s&&(i=t,-1===(t=o).$$.dirty[0]&&(m.push(t),st(),t.$$.dirty.fill(0)),t.$$.dirty[i/31|0]|=1<<i%31)),e}):[],l.update(),s=!0,A(l.before_update),l.fragment=!!n&&n(l.ctx),t.target&&(t.hydrate?(n=t.target,n=Array.from(n.childNodes),l.fragment&&l.fragment.l(n),n.forEach(O)):l.fragment&&l.fragment.c(),t.intro&&C(o.$$.fragment),F(o,t.target,t.anchor),T()),g(c)}function U(){}U.prototype.$destroy=function(){Y(this,1),this.$destroy=f},U.prototype.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},U.prototype.$set=function(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)};var V="http://www.w3.org/1999/xhtml",G={svg:"http://www.w3.org/2000/svg",xhtml:V,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),G.hasOwnProperty(e)?{space:G[e],local:t}:t}function Z(t){t=X(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===V&&t.documentElement.namespaceURI===V?t.createElement(n):t.createElementNS(e,n)}})(t)}function K(){}function J(t){return null==t?K:function(){return this.querySelector(t)}}function Q(){return[]}function tt(t){return new Array(t.length)}function et(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function nt(t,e,n,r,i,o){for(var a,c=0,u=e.length,l=o.length;c<l;++c)(a=e[c])?(a.__data__=o[c],r[c]=a):n[c]=new et(t,o[c]);for(;c<u;++c)(a=e[c])&&(i[c]=a)}function rt(t,e,n,r,i,o,a){for(var c,u,l={},s=e.length,f=o.length,h=new Array(s),p=0;p<s;++p)(c=e[p])&&(h[p]=u="$"+a.call(c,c.__data__,p,e),u in l?i[p]=c:l[u]=c);for(p=0;p<f;++p)(c=l[u="$"+a.call(t,o[p],p,o)])?((r[p]=c).__data__=o[p],l[u]=null):n[p]=new et(t,o[p]);for(p=0;p<s;++p)(c=e[p])&&l[h[p]]===c&&(i[p]=c)}function it(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function ot(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ft(t){return t.trim().split(/^|\s+/)}function ht(t){return t.classList||new pt(t)}function pt(t){this._node=t,this._names=ft(t.getAttribute("class")||"")}function dt(t,e){for(var n=ht(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function gt(t,e){for(var n=ht(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mt(){this.textContent=""}function yt(){this.innerHTML=""}function vt(){this.nextSibling&&this.parentNode.appendChild(this)}function bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _t(){return null}function wt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}et.prototype={constructor:et,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var At={};function St(n,t,e){return n=kt(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function kt(e,n,r){return function(t){e.call(this,this.__data__,n,r)}}function Ot(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function Et(u,l,s){var f=At.hasOwnProperty(u.type)?St:kt;return function(t,e,n){var r,i=this.__on,o=f(l,e,n);if(i)for(var a=0,c=i.length;a<c;++a)if((r=i[a]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=s),void(r.value=l);this.addEventListener(u.type,o,s),r={type:u.type,name:u.name,value:l,listener:o,capture:s},i?i.push(r):this.__on=[r]}}function Nt(t,e,n){var r=ot(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(At={mouseenter:"mouseover",mouseleave:"mouseout"}));var $t=[null];function Pt(t,e){this._groups=t,this._parents=e}function jt(t){return"string"==typeof t?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],$t)}function zt(){window.getSelection().removeAllRanges()}function Tt(t,e,n){t=t.slice();return t[12]=e[n],t}function Lt(n){var r,i,o,a,c,u;function l(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n[10].apply(n,[n[12]].concat(t))}return{c:function(){r=E("div"),i=E("div"),o=N(),j(i,"class","resizer-inner svelte-15xph4v"),j(r,"class",a="resizer "+n[2]+" "+n[12].charAt(0)+" svelte-15xph4v"),z(r,"drag","line"===n[0].display)},m:function(t,e){k(t,r,e),S(r,i),S(r,o),c||(u=$(r,"mousedown",l),c=!0)},p:function(t,e){n=t,6&e&&a!==(a="resizer "+n[2]+" "+n[12].charAt(0)+" svelte-15xph4v")&&j(r,"class",a),7&e&&z(r,"drag","line"===n[0].display)},d:function(t){t&&O(r),c=!1,u()}}}function Dt(t){for(var o,a=t[1],c=[],e=0;e<a.length;e+=1)c[e]=Lt(Tt(t,a,e));return{c:function(){o=E("div");for(var t=0;t<c.length;t+=1)c[t].c();j(o,"class","resizers svelte-15xph4v")},m:function(t,e){k(t,o,e);for(var n=0;n<c.length;n+=1)c[n].m(o,null)},p:function(t,e){var n,r=e[0];if(15&r){for(a=t[1],n=0;n<a.length;n+=1){var i=Tt(t,a,n);c[n]?c[n].p(i,r):(c[n]=Lt(i),c[n].c(),c[n].m(o,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=a.length}},i:f,o:f,d:function(t){t&&O(o),n(c,t)}}}function Rt(t,e,n){var r,i,o=ct(),a=e.annotation,c=e.type,u=e.index,l=e.activeResizer,s=e.resizing,f=e.noOffsetAtEventStart,h=e.orientation;function p(t,e){t.stopPropagation(),zt(),o("selectAnnotation",{type:c,index:u}),void 0===a.width&&o("setWidth"),n(4,l=e),n(5,s=!0),n(6,f=0===a.dx&&0===a.dy)}return t.$$set=function(t){"annotation"in t&&n(0,a=t.annotation),"type"in t&&n(7,c=t.type),"index"in t&&n(8,u=t.index),"activeResizer"in t&&n(4,l=t.activeResizer),"resizing"in t&&n(5,s=t.resizing),"noOffsetAtEventStart"in t&&n(6,f=t.noOffsetAtEventStart),"orientation"in t&&n(9,h=t.orientation)},t.$$.update=function(){513&t.$$.dirty&&n(1,r="y"===h?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),512&t.$$.dirty&&n(2,i="y"===h?"y":"x")},[a,r,i,p,l,s,f,c,u,h,function(t,e){return p(e,t)}]}Pt.prototype={constructor:Pt,select:function(t){"function"!=typeof t&&(t=J(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,c=e[i],u=c.length,l=r[i]=new Array(u),s=0;s<u;++s)(o=c[s])&&(a=t.call(o,o.__data__,s,c))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new Pt(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?Q:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var c,u=n[a],l=u.length,s=0;s<l;++s)(c=u[s])&&(i.push(t.call(c,c.__data__,s,u)),o.push(c));return new Pt(i,o)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,c=n[o],u=c.length,l=i[o]=[],s=0;s<u;++s)(a=c[s])&&t.call(a,a.__data__,s,c)&&l.push(a);return new Pt(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var n,r=e?rt:nt,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,c=new Array(a),u=new Array(a),l=new Array(a),s=0;s<a;++s){var f=i[s],h=o[s],p=h.length,d=t.call(f,f&&f.__data__,s,i),g=d.length,m=u[s]=new Array(g),y=c[s]=new Array(g);r(f,h,m,y,l[s]=new Array(p),d,e);for(var v,b,_=0,w=0;_<g;++_)if(v=m[_]){for(w<=_&&(w=_+1);!(b=y[w])&&++w<g;);v._next=b||null}}return(c=new Pt(c,i))._enter=u,c._exit=l,c},enter:function(){return new Pt(this._enter||this._groups.map(tt),this._parents)},exit:function(){return new Pt(this._exit||this._groups.map(tt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var c,u=e[a],l=n[a],s=u.length,f=o[a]=new Array(s),h=0;h<s;++h)(c=u[h]||l[h])&&(f[h]=c);for(;a<r;++a)o[a]=e[a];return new Pt(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||it;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,c=e[o],u=c.length,l=i[o]=new Array(u),s=0;s<u;++s)(a=c[s])&&(l[s]=a);l.sort(t)}return new Pt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,c=o.length;a<c;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=X(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):(n=this.node(),t=t,n.style.getPropertyValue(t)||ot(n).getComputedStyle(n,null).getPropertyValue(t))},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=ft(t+"");if(arguments.length<2){for(var r=ht(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?dt:gt)(this,t)}}:e?function(t){return function(){dt(this,t)}}:function(t){return function(){gt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?mt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(vt)},lower:function(){return this.each(bt)},append:function(t){var e="function"==typeof t?t:Z(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Z(t),r=null==e?_t:"function"==typeof e?e:J(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(wt)},clone:function(t){return this.select(t?Mt:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(c=e?Et:Ot,null==n&&(n=!1),r=0;r<a;++r)this.each(c(o[r],e,n));return this}var c=this.node().__on;if(c)for(var u,l=0,s=c.length;l<s;++l)for(r=0,u=c[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Nt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Nt(this,t,e)}})(t,e))}};var Ct,It=((Ct=U)&&(Bt.__proto__=Ct),(Bt.prototype=Object.create(Ct&&Ct.prototype)).constructor=Bt);function Bt(t){Ct.call(this),q(this,t,Rt,Dt,e,{annotation:0,type:7,index:8,activeResizer:4,resizing:5,noOffsetAtEventStart:6,orientation:9})}function Wt(){}function Ht(t,e){var n=new Wt;if(t instanceof Wt)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Wt.prototype=Ht.prototype={constructor:Wt,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){t="$"+t;return t in this&&delete this[t]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t,e=[];for(t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)"$"===t[0]&&++e;return e},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Ft=Math.cos(.25*Math.PI),Yt=Math.sin(.25*Math.PI);function qt(t){var e=t[0],t=t[1];return[e*Ft-t*Yt,e*Yt+t*Ft]}function Ut(t){var e=t[0],t=t[1];return[e*Ft+t*Yt,t*Ft-e*Yt]}function Vt(t,e,n,r){void 0===r&&(r=!0);var i=r?1:0,i=(n-t[i])/(e[i]-t[i]);if(i<0||1<i)return null;r=r?0:1;return t[r]+i*(e[r]-t[r])}function Gt(g){return void 0===g&&(g=!0),function(t){var s=t.source,f=t.sourcePadding,h=t.targetPadding,p=t.circle,d=t.circleRadius;return function(t){p&&d&&(h+=d),0<f&&((s=Object.assign({},s)).x-=f,s.y-=f,s.width+=2*f,s.height+=2*f);var e=s.x+.5*s.width,n=s.y+.5*s.height,r=0,i=0,o=Xt(e,n,r,i,.25,g),a=o[0],c=o[1],u=s.height/s.width,l=a-e,o=c-n;Math.abs(o/l)<u?(e+=.5*s.width*(0<l?1:-1),n+=.5*s.width*o/l*(0<l?1:-1)):(e+=.5*s.height*l/o*(0<o?1:-1),n+=.5*s.height*(0<o?1:-1)),a=(o=Xt(e,n,r,i,.25,g))[0],c=o[1],0<h&&(o=Math.atan2(-c,-a),a=(o=Xt(e,n,r=-Math.cos(o)*h,i=-Math.sin(o)*h,.25,g))[0],c=o[1]),t.attr("d","M "+e+","+n+" Q "+a+","+c+" "+r+","+i)}}}function Xt(t,e,n,r,i,o){void 0===i&&(i=.25),void 0===o&&(o=!0);var a=n-t,c=r-e,u=c,l=-a,n=.5*(t+n),e=.5*(e+r),r=Math.sqrt(u*u+l*l),o=Math.sqrt(a*a+c*c)*i/r*(o?-1:1);return[n+u*o,e+l*o]}var Zt=Gt(!0),Kt=Gt(!1),Jt=Object.freeze({__proto__:null,straight:function(t){var A=t.source,S=t.sourcePadding,k=t.targetPadding,O=t.circle,E=t.circleRadius;return function(t){O&&E&&(k+=E),S&&((A=Object.assign({},A)).x-=S,A.y-=S,A.width+=2*S,A.height+=2*S);var e,n,r,i,o,a,c,u,l,s,f,h,p,d,g,m=A.x+.5*A.width,y=A.y+.5*A.height,v=0,b=0,_=!0,w=-m,x=-y,M=A.height/A.width;2*Math.abs(m)<A.width?(b=k*((v=m=0)<y?1:-1),y+=.5*A.height*(y<0?1:-1),_=!1):2*Math.abs(y)<A.height?(v=k*((b=y=0)<m?1:-1),m+=.5*A.width*(m<0?1:-1),_=!1):(e=(c=qt([-.5*A.width,0]))[0],n=c[1],r=(u=qt([.5*A.width,0]))[0],i=u[1],o=(s=qt([0,-.5*A.height]))[0],a=s[1],c=(l=qt([0,.5*A.height]))[0],u=l[1],l=(s=qt([-m,-y]))[0],s=s[1],M=0<m&&0<y&&e<=l&&l<=o?(f=(p=Ut([l,Vt(l<(f=(h=qt([-.5*A.width,-.5*A.height]))[0])?[e,n]:[o,a],[f,h[1]],l,!1)]))[0],p[1]):m<0&&y<0&&c<=l&&l<=r?(f=(l=Ut([l,Vt(l<(p=(h=qt([.5*A.width,.5*A.height]))[0])?[c,u]:[r,i],[p,h[1]],l,!1)]))[0],l[1]):0<m&&y<0&&n<=s&&s<=u?(d=(g=qt([-.5*A.width,.5*A.height]))[0],f=(d=Ut([Vt(s<(g=g[1])?[e,n]:[c,u],[d,g],s,!0),s]))[0],d[1]):m<0&&0<y&&a<=s&&s<=i?(d=(g=qt([.5*A.width,-.5*A.height]))[0],f=(s=Ut([Vt(s<(g=g[1])?[o,a]:[r,i],[d,g],s,!0),s]))[0],s[1]):Math.abs(x/w)<M?(f=.5*A.width*(0<w?1:-1),.5*A.width*x/w*(0<w?1:-1)):(f=.5*A.height*w/x*(0<x?1:-1),.5*A.height*(0<x?1:-1)),m+=f,y+=M),0<k&&_&&(w=-m,x=-y,w=Math.atan2(x,w),v=-Math.cos(w)*k,b=-Math.sin(w)*k),t.attr("d","M "+m+","+y+" L "+v+","+b),t.classed("crisp",m.toFixed(1)===v.toFixed(1)||y.toFixed(1)===b.toFixed(1))}},curveLeft:Zt,curveRight:Kt});function Qt(s){return void 0===s&&(s={}),s=Object.assign({},{sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black"},s),function(t){return t.each(function(t){var e=Object.assign({},s,t),n=jt(this).append("g.callout-line").attr("aria-hidden",!0);e.arrowHead&&(e.targetPadding+=e.strokeWidth,e.circleRadius+=e.strokeWidth);var r,i,o,a,c,u,l=n.append("path").style("stroke-width",e.strokeWidth).style("stroke",e.color).call(Jt[e.type](e));e.arrowHead&&(r=n,i=l.node(),o=e.arrowHead,a=e.strokeWidth,c=e.color,u=ae[o],!i.getTotalLength||0!==(t=i.getTotalLength())&&(l=i.getPointAtLength(t),o=i.getPointAtLength(t-10),i=Math.min(1,t/u.minLen/a),o=(t=[l.x-o.x,l.y-o.y])[0],t=t[1],o=Math.atan2(t,o)/Math.PI*180,a=r.append("path.callout-line-arrow-head").attr("d",u.path).attr("transform","translate("+l.x+", "+l.y+") rotate("+o+") scale("+a*i+") ").classed("callout-line-arrow-head-stroke",u.strokes),u.strokes?a.style("stroke",c).style("fill","none").style("stroke-width",1/i):a.style("fill",c).style("stroke","none"))),e.circle&&n.append("circle").style("stroke",e.color).style("stroke-width",e.strokeWidth).style("stroke-dasharray","dashed"===e.circleStyle?2+(n=e.strokeWidth)+", "+(4+n):void 0).attr("r",e.circleRadius-(e.arrowHead?e.strokeWidth:0))})}}function te(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":de&&de in Object(t)?function(t){var e=se.call(t,he),n=t[he];try{var r=!(t[he]=void 0)}catch(t){}var i=fe.call(t);return r&&(e?t[he]=n:delete t[he]),i}(t):(t=t,pe.call(t))}function ee(t){var e=Yn(t);return null!=t&&("object"==e||"function"==e)}function ne(t){return null!=t&&("number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=9007199254740991)&&!function(t){if(!ee(t))return!1;t=te(t);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(t);var e}function re(t,e,n){if(ee(n)){var r,i,o,a=Yn(e);return!!("number"==a?ne(n)&&(r=e,i=n.length,o=Yn(r),!!(i=null==i?9007199254740991:i)&&("number"==o||"symbol"!=o&&ge.test(r))&&-1<r&&r%1==0&&r<i):"string"==a&&e in n)&&((e=n[e])===(t=t)||e!=e&&t!=t)}}function ie(t){return"symbol"==Yn(t)||null!=(e=t)&&"object"==Yn(e)&&"[object Symbol]"==te(t);var e}function oe(t){return t?(t=function(t){if("number"==typeof t)return t;if(ie(t))return NaN;if(ee(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=ee(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(me,"");var e=ve.test(t);return e||be.test(t)?_e(t.slice(2),e?2:8):ye.test(t)?NaN:+t}(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}var ae={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}},ce=Math.ceil,ue=Math.max,le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:Fn,Zt="object"==Yn(le)&&le&&le.Object===Object&&le,Kt="object"==("undefined"==typeof self?"undefined":Yn(self))&&self&&self.Object===Object&&self,le=(Zt||Kt||Function("return this")()).Symbol,Zt=Object.prototype,se=Zt.hasOwnProperty,fe=Zt.toString,he=le?le.toStringTag:void 0,pe=Object.prototype.toString,de=le?le.toStringTag:void 0,ge=/^(?:0|[1-9]\d*)$/,me=/^\s+|\s+$/g,ye=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,be=/^0o[0-7]+$/i,_e=parseInt,we=function(t,e,n){return n&&"number"!=typeof n&&re(t,e,n)&&(e=n=void 0),t=oe(t),void 0===e?(e=t,t=0):e=oe(e),function(t,e,n,r){for(var i=-1,o=ue(ce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}(t,e,n=void 0===n?t<e?1:-1:oe(n),void 0)};function xe(t,e,n){(t.prototype=e.prototype=n).constructor=t}function Me(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function Ae(){}var Kt="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Se=/^#([0-9a-f]{3,8})$/,ke=new RegExp("^rgb\\("+[Kt,Kt,Kt]+"\\)$"),Oe=new RegExp("^rgb\\("+[le,le,le]+"\\)$"),Ee=new RegExp("^rgba\\("+[Kt,Kt,Kt,Zt]+"\\)$"),Ne=new RegExp("^rgba\\("+[le,le,le,Zt]+"\\)$"),$e=new RegExp("^hsl\\("+[Zt,le,le]+"\\)$"),Pe=new RegExp("^hsla\\("+[Zt,le,le,Zt]+"\\)$"),je={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ze(){return this.rgb().formatHex()}function Te(){return this.rgb().formatRgb()}function Le(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Se.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?De(e):3===n?new Ie(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Re(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Re(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ke.exec(t))?new Ie(e[1],e[2],e[3],1):(e=Oe.exec(t))?new Ie(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ee.exec(t))?Re(e[1],e[2],e[3],e[4]):(e=Ne.exec(t))?Re(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$e.exec(t))?Fe(e[1],e[2]/100,e[3]/100,1):(e=Pe.exec(t))?Fe(e[1],e[2]/100,e[3]/100,e[4]):je.hasOwnProperty(t)?De(je[t]):"transparent"===t?new Ie(NaN,NaN,NaN,0):null}function De(t){return new Ie(t>>16&255,t>>8&255,255&t,1)}function Re(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ie(t,e,n,r)}function Ce(t,e,n,r){return 1===arguments.length?((i=t)instanceof Ae||(i=Le(i)),i?new Ie((i=i.rgb()).r,i.g,i.b,i.opacity):new Ie):new Ie(t,e,n,null==r?1:r);var i}function Ie(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Be(){return"#"+He(this.r)+He(this.g)+He(this.b)}function We(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function He(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Fe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new qe(t,e,n,r)}function Ye(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);if(t instanceof Ae||(t=Le(t)),!t)return new qe;if(t instanceof qe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,c=o-i,u=(o+i)/2;return c?(a=e===o?(n-r)/c+6*(n<r):n===o?(r-e)/c+2:(e-n)/c+4,c/=u<.5?o+i:2-o-i,a*=60):c=0<u&&u<1?0:a,new qe(a,c,u,t.opacity)}function qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ue(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ve(t,e){return"translate("+Math.round(t)+"px, "+Math.round(e)+"px);"}function Ge(t){return!0===t||void 0===t}function Xe(t){return!(!Ge(t.showDesktop)||!1!==t.showMobile)}function Ze(t){return!1===t.showDesktop&&!1===t.showMobile}function Ke(t,e){return"function"==typeof e?e(t):t}xe(Ae,Le,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ze,formatHex:ze,formatHsl:function(){return Ye(this).formatHsl()},formatRgb:Te,toString:Te}),xe(Ie,Ce,Me(Ae,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ie(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ie(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Be,formatHex:Be,formatRgb:We,toString:We})),xe(qe,function(t,e,n,r){return 1===arguments.length?Ye(t):new qe(t,e,n,null==r?1:r)},Me(Ae,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Ie(Ue(240<=t?t-240:120+t,n,e),Ue(t,n,e),Ue(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Je=180/Math.PI;function Qe(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!e)return t;for(var r=e.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?n:i}var tn=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,en=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function nn(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0||t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var e=t,r=t;;)if(r=(e=r).replace(en,"").replace(tn,function(t,e){return-1<n.indexOf("<"+e.toLowerCase()+">")?t:""}),e===r)return r}(t,e),"undefined"==typeof document)return t;e=document.createElement("div");e.innerHTML=t;for(var n=e.querySelectorAll("*"),r=0;r<n.length;r++){"a"===n[r].nodeName.toLowerCase()&&("_self"!==n[r].getAttribute("target")&&n[r].setAttribute("target","_blank"),n[r].setAttribute("rel","nofollow noopener noreferrer"),n[r].getAttribute("href")&&n[r].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&n[r].setAttribute("href",""));for(var i=[],o=0;o<n[r].attributes.length;o++){var a=n[r].attributes[o];a.specified&&"on"===a.name.substr(0,2)&&i.push(a.name)}i.forEach(function(t){return n[r].removeAttribute(t)})}return e.innerHTML}}function rn(n){var r,i,o;return{c:function(){r=E("div"),j(i=a("svg"),"width","1"),j(i,"height","1"),j(i,"class","svelte-t7ef7g"),j(r,"class","connector-line svelte-t7ef7g"),j(r,"aria-hidden","true"),j(r,"style",o="transform: "+Ve(n[9],n[10]))},m:function(t,e){k(t,r,e),S(r,i),n[57](i)},p:function(t,e){1536&e[0]&&o!==(o="transform: "+Ve(t[9],t[10]))&&j(r,"style",o)},d:function(t){t&&O(r),n[57](null)}}}function on(t){var n,r,i,o;return{c:function(){n=E("div"),r=a("svg"),j(i=a("path"),"class","helper-line svelte-t7ef7g"),j(i,"d",o=t[27](t[0])),j(r,"width","1"),j(r,"height","1"),j(r,"class","svelte-t7ef7g"),j(n,"class","helper svelte-t7ef7g")},m:function(t,e){k(t,n,e),S(n,r),S(r,i)},p:function(t,e){134217729&e[0]&&o!==(o=t[27](t[0]))&&j(i,"d",o)},d:function(t){t&&O(n)}}}function an(n){var r,i,o,a;return{c:function(){j(r=E("div"),"class","reference-point svelte-t7ef7g"),j(r,"style",i="transform: "+n[23]()),z(r,"hollow",n[22])},m:function(t,e){k(t,r,e),o||(a=$(r,"mousedown",P(n[32])),o=!0)},p:function(t,e){8388608&e[0]&&i!==(i="transform: "+t[23]())&&j(r,"style",i),4194304&e[0]&&z(r,"hollow",t[22])},d:function(t){t&&O(r),o=!1,a()}}}function cn(t){var n,r;return{c:function(){j(n=E("div"),"class","offset-point svelte-t7ef7g"),j(n,"style",r="transform: "+t[25]())},m:function(t,e){k(t,n,e)},p:function(t,e){33554432&e[0]&&r!==(r="transform: "+t[25]())&&j(n,"style",r)},d:function(t){t&&O(n)}}}function un(t){var n,r,i,o=nn(t[0].text)+"";return{c:function(){n=E("div"),j(r=E("span"),"class","export-text"),j(n,"class","shadow-text svelte-t7ef7g"),j(n,"aria-hidden","true"),j(n,"style",i=t[20](t[0])),z(n,"dw-bold",t[0].bold),z(n,"italic",t[0].italic),z(n,"underline",t[0].underline)},m:function(t,e){k(t,n,e),S(n,r),r.innerHTML=o},p:function(t,e){1&e[0]&&o!==(o=nn(t[0].text)+"")&&(r.innerHTML=o),1048577&e[0]&&i!==(i=t[20](t[0]))&&j(n,"style",i),1&e[0]&&z(n,"dw-bold",t[0].bold),1&e[0]&&z(n,"italic",t[0].italic),1&e[0]&&z(n,"underline",t[0].underline)},d:function(t){t&&O(n)}}}function ln(t){var n;function r(t){return t[12]?hn:fn}var i=r(t),o=i(t);return{c:function(){n=E("span"),o.c(),j(n,"class","export-text")},m:function(t,e){k(t,n,e),o.m(n,null)},p:function(t,e){i===(i=r(t))&&o?o.p(t,e):(o.d(1),(o=i(t))&&(o.c(),o.m(n,null)))},d:function(t){t&&O(n),o.d()}}}function sn(t){var n;function r(t){return t[12]?dn:pn}var i=r(t),o=i(t);return{c:function(){o.c(),n=p()},m:function(t,e){o.m(t,e),k(t,n,e)},p:function(t,e){i===(i=r(t))&&o?o.p(t,e):(o.d(1),(o=i(t))&&(o.c(),o.m(n.parentNode,n)))},d:function(t){o.d(t),t&&O(n)}}}function fn(t){var n,r,i=nn(t[0].text)+"";return{c:function(){r=p(),n=new s(r)},m:function(t,e){n.m(i,t,e),k(t,r,e)},p:function(t,e){1&e[0]&&i!==(i=nn(t[0].text)+"")&&n.p(i)},d:function(t){t&&O(r),t&&n.d()}}}function hn(t){var n,r=t[6].num+"";return{c:function(){n=o(r)},m:function(t,e){k(t,n,e)},p:function(t,e){64&e[0]&&r!==(r=t[6].num+"")&&l(n,r)},d:function(t){t&&O(n)}}}function pn(t){var n;function r(t){return t[1]&&t[13]?mn:gn}var i=r(t),o=i(t);return{c:function(){n=E("div"),o.c(),j(n,"class","text-background svelte-t7ef7g")},m:function(t,e){k(t,n,e),o.m(n,null)},p:function(t,e){i===(i=r(t))&&o?o.p(t,e):(o.d(1),(o=i(t))&&(o.c(),o.m(n,null)))},d:function(t){t&&O(n),o.d()}}}function dn(t){var n,r,i=t[6].num+"";return{c:function(){n=E("span"),r=o(i)},m:function(t,e){k(t,n,e),S(n,r)},p:function(t,e){64&e[0]&&i!==(i=t[6].num+"")&&l(r,i)},d:function(t){t&&O(n)}}}function gn(n){var r,i=nn(n[0].text)+"";return{c:function(){j(r=E("span"),"class","text-inner text-edit svelte-t7ef7g")},m:function(t,e){k(t,r,e),r.innerHTML=i,n[60](r)},p:function(t,e){1&e[0]&&i!==(i=nn(t[0].text)+"")&&(r.innerHTML=i)},d:function(t){t&&O(r),n[60](null)}}}function mn(n){var r,i,o,a=nn(n[17])+"";return{c:function(){j(r=E("span"),"contenteditable",""),j(r,"class","text-inner text-edit svelte-t7ef7g"),void 0===n[16]&&_(function(){return n[59].call(r)})},m:function(t,e){k(t,r,e),r.innerHTML=a,n[58](r),void 0!==n[16]&&(r.innerHTML=n[16]),i||(o=[$(r,"input",n[59]),$(r,"input",n[33]),$(r,"blur",n[34])],i=!0)},p:function(t,e){131072&e[0]&&a!==(a=nn(t[17])+"")&&(r.innerHTML=a),65536&e[0]&&t[16]!==r.innerHTML&&(r.innerHTML=t[16])},d:function(t){t&&O(r),n[58](null),i=!1,A(o)}}}function yn(e){var r,i,o,a,n;function t(t){e[61].call(null,t)}function c(t){e[62].call(null,t)}function u(t){e[63].call(null,t)}var l={type:"text",annotation:e[0],index:e[7]};return void 0!==e[3]&&(l.noOffsetAtEventStart=e[3]),void 0!==e[4]&&(l.activeResizer=e[4]),void 0!==e[5]&&(l.resizing=e[5]),r=new It({props:l}),lt.push(function(){return B(r,"noOffsetAtEventStart",t)}),lt.push(function(){return B(r,"activeResizer",c)}),lt.push(function(){return B(r,"resizing",u)}),r.$on("selectAnnotation",e[64]),r.$on("setWidth",e[36]),{c:function(){W(r.$$.fragment)},m:function(t,e){F(r,t,e),n=!0},p:function(t,e){var n={};1&e[0]&&(n.annotation=t[0]),128&e[0]&&(n.index=t[7]),!i&&8&e[0]&&(i=!0,n.noOffsetAtEventStart=t[3],x(function(){return i=!1})),!o&&16&e[0]&&(o=!0,n.activeResizer=t[4],x(function(){return o=!1})),!a&&32&e[0]&&(a=!0,n.resizing=t[5],x(function(){return a=!1})),r.$set(n)},i:function(t){n||(C(r.$$.fragment,t),n=!0)},o:function(t){I(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function vn(n){var r,i,o,a,c,u,l,s,f,h,p,d,g=n[0].connectorLine&&n[0].connectorLine.enabled&&rn(n),m=n[26]&&on(n),y=n[21]&&an(n),v=n[24]&&cn(n),b=n[0].bg&&n[28]&&!n[12]&&un(n);function _(t){return t[8]?sn:ln}var w=_(n),x=w(n),M=n[8]&&!n[12]&&yn(n);return{c:function(){r=E("div"),g&&g.c(),i=N(),m&&m.c(),o=N(),y&&y.c(),a=N(),v&&v.c(),c=N(),b&&b.c(),u=N(),l=E("div"),x.c(),s=N(),M&&M.c(),j(l,"class","text svelte-t7ef7g"),j(l,"style",f=n[19](n[0])),z(l,"dw-bold",n[0].bold||n[12]),z(l,"italic",n[0].italic&&!n[12]),z(l,"underline",n[0].underline&&!n[12]),z(l,"dw-circle",n[12]),z(l,"num",n[12]),j(r,"class","text-annotation svelte-t7ef7g"),j(r,"role","listitem"),z(r,"hide",n[18]),z(r,"edit-mode",n[8]),z(r,"selected",n[13]),z(r,"editable",n[1]&&n[13]),z(r,"not-editable",!n[1]||!n[13]),z(r,"key",n[12]),z(r,"dragging",n[2]),z(r,"resizing",n[5])},m:function(t,e){k(t,r,e),g&&g.m(r,null),S(r,i),m&&m.m(r,null),S(r,o),y&&y.m(r,null),S(r,a),v&&v.m(r,null),S(r,c),b&&b.m(r,null),S(r,u),S(r,l),x.m(l,null),S(l,s),M&&M.m(l,null),n[65](l),h=!0,p||(d=[$(window,"keydown",n[35]),$(l,"mousedown",P(n[29])),$(l,"click",n[30]),$(l,"contextmenu",n[31])],p=!0)},p:function(t,e){t[0].connectorLine&&t[0].connectorLine.enabled?g?g.p(t,e):((g=rn(t)).c(),g.m(r,i)):g&&(g.d(1),g=null),t[26]?m?m.p(t,e):((m=on(t)).c(),m.m(r,o)):m&&(m.d(1),m=null),t[21]?y?y.p(t,e):((y=an(t)).c(),y.m(r,a)):y&&(y.d(1),y=null),t[24]?v?v.p(t,e):((v=cn(t)).c(),v.m(r,c)):v&&(v.d(1),v=null),t[0].bg&&t[28]&&!t[12]?b?b.p(t,e):((b=un(t)).c(),b.m(r,u)):b&&(b.d(1),b=null),w===(w=_(t))&&x?x.p(t,e):(x.d(1),(x=w(t))&&(x.c(),x.m(l,s))),t[8]&&!t[12]?M?(M.p(t,e),4352&e[0]&&C(M,1)):((M=yn(t)).c(),C(M,1),M.m(l,null)):M&&(D(),I(M,1,1,function(){M=null}),R()),(!h||524289&e[0]&&f!==(f=t[19](t[0])))&&j(l,"style",f),4097&e[0]&&z(l,"dw-bold",t[0].bold||t[12]),4097&e[0]&&z(l,"italic",t[0].italic&&!t[12]),4097&e[0]&&z(l,"underline",t[0].underline&&!t[12]),4096&e[0]&&z(l,"dw-circle",t[12]),4096&e[0]&&z(l,"num",t[12]),262144&e[0]&&z(r,"hide",t[18]),256&e[0]&&z(r,"edit-mode",t[8]),8192&e[0]&&z(r,"selected",t[13]),8194&e[0]&&z(r,"editable",t[1]&&t[13]),8194&e[0]&&z(r,"not-editable",!t[1]||!t[13]),4096&e[0]&&z(r,"key",t[12]),4&e[0]&&z(r,"dragging",t[2]),32&e[0]&&z(r,"resizing",t[5])},i:function(t){h||(C(M),h=!0)},o:function(t){I(M),h=!1},d:function(t){t&&O(r),g&&g.d(),m&&m.d(),y&&y.d(),v&&v.d(),b&&b.d(),x.d(),M&&M.d(),n[65](null),p=!1,A(d)}}}function bn(o,t,f){var h=t.annotation;void 0===h&&(h={});var p,d,a=t.dataToPx,c=t.pxToData,e=t.theme,u=Qe(e,"colors.background",!1),l=Qe(e,"style.chart.mobileAnnotations.icons.background",!1)||!!u&&function(t){void 0===t&&(t=1);var e=Ce(u);return e.opacity=t,e.formatRgb()}(.7)||"transparent",g=Qe(e,"style.chart.textAnnotations.color",!1)||Qe(e,"typography.chart.color",!1),s=t.cm,m=t.visWidth,y=t.isMobileWidth,v=t.key,b=0,_=0,w=0,x=0;function M(){var t,e,n=(t=h.dy,e=h.dx,Math.atan(t/e)*Je+90);return h.dx<0&&(n+=180),function(){switch(!0){case 337.5<n||n<=22.5:return"bc";case 22.5<n&&n<=67.5:return"bl";case 67.5<n&&n<=112.5:return"ml";case 112.5<n&&n<=157.5:return"tl";case 157.5<n&&n<=202.5:return"tc";case 202.5<n&&n<=247.5:return"tr";case 247.5<n&&n<=292.5:return"mr";case 292.5<n&&n<=337.5:return"br";default:return"mc"}}()}function A(t){var e=$(h),n=e[0],e=e[1];return n-t<b&&b<n+w+t&&e-t<_&&_<e+x+t}at(function(){function t(){var t,e,n,r,i,o,a,c,u,l,s;p&&(f(49,w=p.offsetWidth),f(50,x=p.offsetHeight),h.connectorLine&&h.connectorLine.enabled&&((t=jt(d)).selectAll("*").remove(),l=(c=$(h))[0],u=c[1],e={x:l-b,y:u-_,width:w,height:x},n=h.connectorLine.arrowHead,r=function(){if(!N)return 4;var t=M();if(t.includes("c")||t.includes("m"))return 0;t=(w*Math.sqrt(2)-w)/2;return-Math.sqrt(Math.pow(t,2)/2)}(),s=N?0:h.connectorLine.targetPadding,i=h.connectorLine.circle,o=h.connectorLine.circleStyle,a=h.connectorLine.circleRadius,c=h.connectorLine.type,l=N?1:h.connectorLine.stroke,u=g||"#222",h.connectorLine.inheritColor&&!N&&(u=O),l=Qt({source:e,arrowHead:n,sourcePadding:r,targetPadding:s,circle:i,circleStyle:o,circleRadius:a,type:c,strokeWidth:l,color:u}),t.call(l),u=t.select(".callout-line").select("path").attr("d"),l=s,s=u.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),l=Math.max(Math.abs(Number(s[0])),Math.abs(Number(s[1])))-l,isNaN(l)&&(l=0),l<10||A(5)||function(t,e){if(i&&e){var n=t.indexOf("M ")+"M ".length,r=t.indexOf(" ",n),r=t.substring(n,r).split(",").map(function(t){return parseInt(t,10)});return Math.pow(+r[0],2)+Math.pow(+r[1],2)<Math.pow(e,2)}}(u,a)?(t.selectAll("*").remove(),L&&q("updateEditorState",{hideConnectorLine:!0})):L&&q("updateEditorState",{hideConnectorLine:!1})))}V?t():(st(),r.then(t))});var S,k,O,E,N,$,P,j,z,T,L,D,R,C,I,B,W,H,F,Y,q=ct(),U=t.index,V=t.editMode,G=t.isEditable,X=t.editorState,Z=t.moveX,K=t.moveY,J=t.dragging,Q=t.noOffsetAtEventStart,tt=t.forceOffsetDrag,et=t.forceAnchorDrag,nt=t.forceAnchorDragTemp,rt=t.activeResizer,it=t.resizing,ot=h.text;return o.$$set=function(t){"annotation"in t&&f(0,h=t.annotation),"dataToPx"in t&&f(41,a=t.dataToPx),"pxToData"in t&&f(42,c=t.pxToData),"theme"in t&&f(43,e=t.theme),"cm"in t&&f(44,s=t.cm),"visWidth"in t&&f(45,m=t.visWidth),"isMobileWidth"in t&&f(46,y=t.isMobileWidth),"key"in t&&f(6,v=t.key),"index"in t&&f(7,U=t.index),"editMode"in t&&f(8,V=t.editMode),"isEditable"in t&&f(1,G=t.isEditable),"editorState"in t&&f(47,X=t.editorState),"moveX"in t&&f(37,Z=t.moveX),"moveY"in t&&f(38,K=t.moveY),"dragging"in t&&f(2,J=t.dragging),"noOffsetAtEventStart"in t&&f(3,Q=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&f(39,tt=t.forceOffsetDrag),"forceAnchorDrag"in t&&f(40,et=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&f(48,nt=t.forceAnchorDragTemp),"activeResizer"in t&&f(4,rt=t.activeResizer),"resizing"in t&&f(5,it=t.resizing)},o.$$.update=function(){var t,e,n,r,i;1&o.$$.dirty[0]&&f(0,h.dx=+h.dx||0,h),1&o.$$.dirty[0]&&f(0,h.dy=+h.dy||0,h),128&o.$$.dirty[0]|65536&o.$$.dirty[1]&&f(13,L=1===X.selectedTextAnnotations.length&&X.selectedTextAnnotations[0]===U),8205&o.$$.dirty[0]|135104&o.$$.dirty[1]&&L&&J&&(Z||K)&&(Q&&!tt||et||nt?(i=(r=a(h.x,h.y))[0],e=r[1],r=(n=c(i+=Z,e+=K))[0],i=n[1],f(0,h.x=r,h),f(0,h.y=i,h)):(f(0,h.dx+=Z,h),f(0,h.dy+=K,h)),tt&&Q&&!h.connectorLine.enabled&&!A(20)&&(f(0,h.connectorLine.enabled=!0,h),f(0,h.connectorLine.type="curveLeft",h)),f(37,Z=0),f(38,K=0)),8249&o.$$.dirty[0]|19648&o.$$.dirty[1]&&L&&it&&(Z||K)&&(e=Z/m*100,n=0,h.align.includes("c")?(n+=Z/2,"l"===rt&&(e=-e)):h.align.includes("l")?"l"===rt&&(n+=Z,e=-e):h.align.includes("r")&&("l"===rt&&(e=-e),"r"===rt&&(n+=Z)),Q?(i=(r=a(h.x,h.y))[0],r=r[1],r=(i=c(i+=n,r))[0],i=i[1],f(0,h.x=r,h),f(0,h.y=i,h)):f(0,h.dx+=n,h),f(0,h.width+=e,h),f(0,h.width=Math.max(5,h.width),h),f(37,Z=0)),1&o.$$.dirty[0]&&f(51,O=h.color||g||"#222"),1&o.$$.dirty[0]|32768&o.$$.dirty[1]&&f(18,E=Ze(h)||!(!Ge((t=h).showMobile)||!1!==t.showDesktop||y)||Xe(h)&&y),64&o.$$.dirty[0]&&f(12,N=v&&v.render),1&o.$$.dirty[0]|1024&o.$$.dirty[1]&&f(9,(t=a(h.x,h.y),b=t[0],_=t[1],t),b,(f(10,_),f(41,a),f(0,h),f(13,L),f(2,J),f(37,Z),f(38,K),f(3,Q),f(39,tt),f(40,et),f(48,nt),f(42,c),f(5,it),f(45,m),f(4,rt),f(47,X),f(7,U))),1&o.$$.dirty[0]&&f(53,D=0===h.dx&&0===h.dy),5632&o.$$.dirty[0]|4980736&o.$$.dirty[1]&&f(52,$=function(t){var e,n,r=[b,_],i=r[0],o=r[1],a=t.align;N||(i+=t.dx,o+=t.dy),N&&!D&&(e=i,c=o,n=h.connectorLine.circle?Math.max(0,h.connectorLine.circleRadius):0,r=20+n,t=25+n,n=M(),n=(r={br:[-r,-r],bc:[-t,0],bl:[-r,r],mr:[0,-t],mc:[-t-.5*x,0],ml:[0,t],tr:[r,-r],tc:[t,0],tl:[r,r]}[n])[0],i=(c=[e+=r[1],c+=n])[0],o=c[1],a="mc");var c=a.charAt(1),a=a.charAt(0);return[i-=w*{l:0,c:.5,r:1}[c],o-=x*{t:0,m:.5,b:1}[a]]}),2097152&o.$$.dirty[1]&&f(54,P=function(t){t=$(t);return Ve(t[0],t[1])}),4096&o.$$.dirty[0]|26222592&o.$$.dirty[1]&&f(19,z=function(t){var e,n=[];return N?(e=g||"#222",n.push("color: "+Ke(e,s)),n.push("border-color: "+Ke(e,s)),n.push("background-color: "+Ke(l,s))):(n.push.apply(n,j(t)),n.push("color: "+Ke(O,s))),n.push("transform: "+P(t)),n.join("; ")}),25165824&o.$$.dirty[1]&&f(20,T=function(t){var n,r,i,e=[];return e.push.apply(e,j(t)),e.push("text-shadow: "+(n=u,r=[],(i=we(-2,3)).forEach(function(e){i.forEach(function(t){(e||t)&&r.push(e+"px "+t+"px "+(e&&t?0:2)+"px "+n)})}),r.join(", "))),e.push("transform: "+P(t)),e.join("; ")}),2050&o.$$.dirty[0]&&!G&&S&&S.blur(),13824&o.$$.dirty[0]|786432&o.$$.dirty[1]&&L&&q("updateEditorState",{selectedAnnotationProps:{x:b,y:_,width:w,height:x,mobileFallback:N}}),1&o.$$.dirty[0]&&f(56,R="mc"===h.align),12544&o.$$.dirty[0]|37748736&o.$$.dirty[1]&&f(21,C=V&&L&&!N&&!(D&&R)),12544&o.$$.dirty[0]|4194304&o.$$.dirty[1]&&f(22,I=V&&L&&!N&&!D),1536&o.$$.dirty[0]&&f(23,B=function(){var t=[b,_],e=t[0],t=t[1];return Ve(e-=2.5,t-=2.5)}),12544&o.$$.dirty[0]|37748736&o.$$.dirty[1]&&f(24,W=V&&L&&!N&&!D&&!R),1537&o.$$.dirty[0]&&f(25,H=function(){var t=[b,_],e=t[0],t=t[1];return e-=2.5,t-=2.5,Ve(e+=h.dx,t+=h.dy)}),1&o.$$.dirty[0]&&(document.activeElement.classList.contains("text-edit")||(f(16,k=nn(h.text)),f(17,ot=h.text))),12545&o.$$.dirty[0]|4194304&o.$$.dirty[1]&&f(26,F=V&&L&&!h.connectorLine.enabled&&!D&&!N),1536&o.$$.dirty[0]&&f(27,Y=function(t){var e=[b,_],n=e[0],e=e[1];return"M "+n+","+e+" L"+(n+t.dx)+","+(e+t.dy)})},f(55,j=function(t){var e=[];return t.width&&e.push("width: "+m*(t.width/100)+"px"),e.push("font-size: "+(t.size||14)+"px"),e.push("min-height: "+(t.size||14)+"px"),e.push("text-align: "+(t.align?{l:"left",c:"center",r:"right"}[t.align.charAt(1)]:"center")),e}),[h,G,J,Q,rt,it,v,U,V,b,_,S,N,L,p,d,k,ot,E,z,T,C,I,B,W,H,F,Y,u,function(t){var e;V&&(zt(),q("selectAnnotation",{type:"text",index:U}),e="true"===t.target.contentEditable||"true"===t.target.parentNode.contentEditable,N||e&&L||(f(37,Z=0),f(38,K=0),f(2,J=!0),f(39,tt=t.ctrlKey),tt&&q("updateEditorState",{forceOffsetDrag:!0}),f(3,Q=0===h.dx&&0===h.dy)))},function(t){V&&t.preventDefault()},function(t){V&&t.preventDefault()},function(t){V&&(zt(),q("selectAnnotation",{type:"text",index:U}),f(2,J=!0),f(40,et=!0))},function(t){f(0,h.text=k.slice&&"&nbsp;"===k.slice(-6)&&"&nbsp;&nbsp;"!==k.slice(-12)?k.slice(0,-6)+" ":k,h),q("update")},function(){zt()},function(t){var e,n,r;V&&!N&&(n="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key,"Escape"===t.key&&L&&G?(S.blur(),f(1,G=!1)):"Escape"===t.key&&L?q("selectAnnotation",null):n&&L&&!G&&(t.preventDefault(),e="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,r="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0,t.ctrlKey?(f(0,h.dx+=e,h),f(0,h.dy+=r,h)):(t=(n=a(h.x,h.y))[0],n=n[1],n=(r=c(t+=e,n+=r))[0],r=r[1],f(0,h.x=n,h),f(0,h.y=r,h)),q("update")))},function(){f(0,h.width=w/m*100,h)},Z,K,tt,et,a,c,e,s,m,y,X,nt,w,x,O,$,D,P,j,R,function(t){lt[t?"unshift":"push"](function(){f(15,d=t)})},function(t){lt[t?"unshift":"push"](function(){f(11,S=t)})},function(){k=this.innerHTML,f(16,k),f(0,h),f(13,L),f(2,J),f(37,Z),f(38,K),f(3,Q),f(39,tt),f(40,et),f(48,nt),f(41,a),f(42,c),f(5,it),f(45,m),f(4,rt),f(47,X),f(7,U)},function(t){lt[t?"unshift":"push"](function(){f(11,S=t)})},function(t){f(3,Q=t)},function(t){f(4,rt=t)},function(t){f(5,it=t)},function(t){ut(o,t)},function(t){lt[t?"unshift":"push"](function(){f(14,p=t)})}]}var _n,wn=((_n=U)&&(xn.__proto__=_n),(xn.prototype=Object.create(_n&&_n.prototype)).constructor=xn);function xn(t){_n.call(this),q(this,t,bn,vn,e,{annotation:0,dataToPx:41,pxToData:42,theme:43,cm:44,visWidth:45,isMobileWidth:46,key:6,index:7,editMode:8,isEditable:1,editorState:47,moveX:37,moveY:38,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:39,forceAnchorDrag:40,forceAnchorDragTemp:48,activeResizer:4,resizing:5},[-1,-1,-1])}function Mn(t){var n,r,i,o,a,c,u=t[3]&&Sn(t);return{c:function(){n=E("div"),o=N(),u&&u.c(),a=p(),j(n,"class",r="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"),j(n,"style",i=t[6](t[0]))},m:function(t,e){k(t,n,e),k(t,o,e),u&&u.m(t,e),k(t,a,e),c=!0},p:function(t,e){(!c||1&e&&r!==(r="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"))&&j(n,"class",r),(!c||65&e&&i!==(i=t[6](t[0])))&&j(n,"style",i),t[3]?u?(u.p(t,e),8&e&&C(u,1)):((u=Sn(t)).c(),C(u,1),u.m(a.parentNode,a)):u&&(D(),I(u,1,1,function(){u=null}),R())},i:function(t){c||(C(u),c=!0)},o:function(t){I(u),c=!1},d:function(t){t&&O(n),t&&O(o),u&&u.d(t),t&&O(a)}}}function An(n){var r,i,o,a,c,u,l=n[3]&&kn(n);return{c:function(){r=E("div"),l&&l.c(),j(r,"class",i="range-annotation dw-line line "+n[0].type+" svelte-11oj9tu"),j(r,"style",o=n[7](n[0])),z(r,"edit-mode",n[3]),z(r,"no-edit-mode",!n[3]),z(r,"selected",n[5])},m:function(t,e){k(t,r,e),l&&l.m(r,null),a=!0,c||(u=$(r,"mousedown",P(n[21])),c=!0)},p:function(t,e){t[3]?l?(l.p(t,e),8&e&&C(l,1)):((l=kn(t)).c(),C(l,1),l.m(r,null)):l&&(D(),I(l,1,1,function(){l=null}),R()),(!a||1&e&&i!==(i="range-annotation dw-line line "+t[0].type+" svelte-11oj9tu"))&&j(r,"class",i),(!a||129&e&&o!==(o=t[7](t[0])))&&j(r,"style",o),9&e&&z(r,"edit-mode",t[3]),9&e&&z(r,"no-edit-mode",!t[3]),33&e&&z(r,"selected",t[5])},i:function(t){a||(C(l),a=!0)},o:function(t){I(l),a=!1},d:function(t){t&&O(r),l&&l.d(),c=!1,u()}}}function Sn(n){var r,i,o,a,c,u,l,s,f,h,p;function t(t){n[25].call(null,t)}function e(t){n[26].call(null,t)}var d={type:"range",annotation:n[0],index:n[4],orientation:n[0].type};return void 0!==n[2]&&(d.activeResizer=n[2]),void 0!==n[1]&&(d.resizing=n[1]),a=new It({props:d}),lt.push(function(){return B(a,"activeResizer",t)}),lt.push(function(){return B(a,"resizing",e)}),a.$on("selectAnnotation",n[27]),{c:function(){r=E("div"),(i=E("div")).innerHTML='<div class="dot svelte-11oj9tu"></div>',o=N(),W(a.$$.fragment),j(i,"class","dot-drag svelte-11oj9tu"),j(r,"style",l=n[6](n[0])),j(r,"class",s="range-annotation edit-mode range "+n[0].type+" svelte-11oj9tu"),z(r,"edit-mode",n[3]),z(r,"no-edit-mode",!n[3]),z(r,"selected",n[5])},m:function(t,e){k(t,r,e),S(r,i),S(r,o),F(a,r,null),f=!0,h||(p=$(i,"mousedown",P(n[9])),h=!0)},p:function(t,e){var n={};1&e&&(n.annotation=t[0]),16&e&&(n.index=t[4]),1&e&&(n.orientation=t[0].type),!c&&4&e&&(c=!0,n.activeResizer=t[2],x(function(){return c=!1})),!u&&2&e&&(u=!0,n.resizing=t[1],x(function(){return u=!1})),a.$set(n),(!f||65&e&&l!==(l=t[6](t[0])))&&j(r,"style",l),(!f||1&e&&s!==(s="range-annotation edit-mode range "+t[0].type+" svelte-11oj9tu"))&&j(r,"class",s),9&e&&z(r,"edit-mode",t[3]),9&e&&z(r,"no-edit-mode",!t[3]),33&e&&z(r,"selected",t[5])},i:function(t){f||(C(a.$$.fragment,t),f=!0)},o:function(t){I(a.$$.fragment,t),f=!1},d:function(t){t&&O(r),Y(a),h=!1,p()}}}function kn(e){var r,i,o,n;function t(t){e[22].call(null,t)}function a(t){e[23].call(null,t)}var c={annotation:e[0],index:e[4],orientation:e[0].type};return void 0!==e[2]&&(c.activeResizer=e[2]),void 0!==e[1]&&(c.resizing=e[1]),r=new It({props:c}),lt.push(function(){return B(r,"activeResizer",t)}),lt.push(function(){return B(r,"resizing",a)}),r.$on("selectAnnotation",e[24]),{c:function(){W(r.$$.fragment)},m:function(t,e){F(r,t,e),n=!0},p:function(t,e){var n={};1&e&&(n.annotation=t[0]),16&e&&(n.index=t[4]),1&e&&(n.orientation=t[0].type),!i&&4&e&&(i=!0,n.activeResizer=t[2],x(function(){return i=!1})),!o&&2&e&&(o=!0,n.resizing=t[1],x(function(){return o=!1})),r.$set(n)},i:function(t){n||(C(r.$$.fragment,t),n=!0)},o:function(t){I(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function On(n){var r,i,o,a,c,u,l=[An,Mn],s=[];function f(t){return"line"===t[0].display?0:1}return r=f(n),i=s[r]=l[r](n),{c:function(){i.c(),o=p()},m:function(t,e){s[r].m(t,e),k(t,o,e),a=!0,c||(u=$(window,"keydown",n[8]),c=!0)},p:function(t,e){var e=e[0],n=r;(r=f(t))===n?s[r].p(t,e):(D(),I(s[n],1,1,function(){s[n]=null}),R(),(i=s[r])?i.p(t,e):(i=s[r]=l[r](t)).c(),C(i,1),i.m(o.parentNode,o))},i:function(t){a||(C(i),a=!0)},o:function(t){I(i),a=!1},d:function(t){s[r].d(t),t&&O(o),c=!1,u()}}}function En(u,t,l){var s,f,h,p,d,g,m,y=t.annotation,v=t.dataToPx,b=t.pxToData,_=t.editorState,e=t.editMode,w=t.index,x=t.moveX,M=t.moveY,A=t.resizing,S=t.dragging,k=t.activeResizer,O=t.forceAnchorDragTemp,n=ct();return u.$$set=function(t){"annotation"in t&&l(0,y=t.annotation),"dataToPx"in t&&l(13,v=t.dataToPx),"pxToData"in t&&l(14,b=t.pxToData),"editorState"in t&&l(15,_=t.editorState),"editMode"in t&&l(3,e=t.editMode),"index"in t&&l(4,w=t.index),"moveX"in t&&l(10,x=t.moveX),"moveY"in t&&l(11,M=t.moveY),"resizing"in t&&l(1,A=t.resizing),"dragging"in t&&l(12,S=t.dragging),"activeResizer"in t&&l(2,k=t.activeResizer),"forceAnchorDragTemp"in t&&l(16,O=t.forceAnchorDragTemp)},u.$$.update=function(){var t,e,n,r,i,o,a,c;32784&u.$$.dirty&&l(5,s=1===_.selectedRangeAnnotations.length&&_.selectedRangeAnnotations[0]===w),93223&u.$$.dirty&&s&&A&&(x||M)&&(["l","r"].includes(k)?(t=v(y.x0,0)[0],e=v(y.x1,0)[0],"l"===k&&"line"===y.display?r="x0":"l"===k?r=e<t?"x1":"x0":"r"===k&&(r=e<t?"x0":"x1"),0<(e=v(y[r],0)[0])-(t=v(y["x1"===r?"x0":"x1"],0)[0])!=0<e+x-t&&l(2,k="l"===k?"r":"l"),e=b(e+=x,0)[0],l(0,y[r]=e,y),O&&(i=b(t-=x,0)[0],l(0,y["x1"===r?"x0":"x1"]=i,y)),l(10,x=0)):(r=v(0,y.y0)[1],o=v(0,y.y1)[1],"t"===k&&"line"===y.display?n="y0":"t"===k?n=r<o?"y0":"y1":"b"===k&&(n=r<o?"y1":"y0"),r=(i=v(0,y[n]))[0],0<(o=i[1])-(i=v(0,y["y1"===n?"y0":"y1"])[1])!=0<o+M-i&&l(2,k="t"===k?"b":"t"),(o=b(r,o+=M))[0],o=o[1],l(0,y[n]=o,y),l(11,M=0))),31777&u.$$.dirty&&s&&S&&(x||M)&&("x"===y.type?(c=(a=v(y.x0,0))[0],a=(o=(a[1],v(y.x1,0)))[0],o[1],a+=x,c=(o=b(c+=x,0))[0],a=(o=(o[1],b(a,0)))[0],o[1],l(0,y.x0=c,y),l(0,y.x1=a,y),l(10,x=0)):((c=v(0,y.y0))[0],a=c[1],(c=v(0,y.y1))[0],c=c[1],c+=M,(a=b(0,a+=M))[0],a=a[1],(c=b(0,c))[0],c=c[1],l(0,y.y0=a,y),l(0,y.y1=c,y),l(11,M=0))),8193&u.$$.dirty&&l(17,f="x"===y.type?v(y.x0,0)[0]:v(0,y.y0)[1]),8193&u.$$.dirty&&l(18,h="x"===y.type?v(y.x1,0)[0]:v(0,y.y1)[1]),393216&u.$$.dirty&&l(19,p=Math.min(f,h)),393216&u.$$.dirty&&l(20,d=Math.max(f,h)),1572864&u.$$.dirty&&l(6,g=function(t){var e=[],n=Le(t.color),r=t.opacity/100;return e.push("background-color: rgba("+n.r+", "+n.g+", "+n.b+", "+r+")"),e.push(("x"===t.type?"left":"top")+": "+p+"px"),e.push(("x"===t.type?"width":"height")+": "+(d-p)+"px"),e.join("; ")}),131072&u.$$.dirty&&l(7,m=function(t){var e=[];e.push(("x"===t.type?"left":"top")+": "+f+"px");var n=Le(t.color),r=t.opacity/100;return e.push("border-color: rgba("+n.r+", "+n.g+", "+n.b+", "+r+")"),"x"===t.type?e.push("border-left-width: "+(t.strokeWidth||1)+"px"):e.push("border-top-width: "+(t.strokeWidth||1)+"px"),"dashed"===t.strokeType?e.push("border-style: dashed"):"dotted"===t.strokeType?e.push("border-style: dotted"):e.push("border-style: solid"),e.join("; ")})},[y,A,k,e,w,s,g,m,function(t){e&&"Escape"===t.key&&s&&n("selectAnnotation",null)},function(t){e&&(n("selectAnnotation",{type:"range",index:w}),l(12,S=!0))},x,M,S,v,b,_,O,f,h,p,d,function(t){ut(u,t)},function(t){l(2,k=t),l(5,s),l(1,A),l(10,x),l(11,M),l(13,v),l(0,y),l(14,b),l(16,O),l(15,_),l(4,w),l(12,S)},function(t){l(1,A=t)},function(t){ut(u,t)},function(t){l(2,k=t),l(5,s),l(1,A),l(10,x),l(11,M),l(13,v),l(0,y),l(14,b),l(16,O),l(15,_),l(4,w),l(12,S)},function(t){l(1,A=t)},function(t){ut(u,t)}]}var Nn,$n=((Nn=U)&&(Pn.__proto__=Nn),(Pn.prototype=Object.create(Nn&&Nn.prototype)).constructor=Pn);function Pn(t){Nn.call(this),q(this,t,En,On,e,{annotation:0,dataToPx:13,pxToData:14,editorState:15,editMode:3,index:4,moveX:10,moveY:11,resizing:1,dragging:12,activeResizer:2,forceAnchorDragTemp:16})}function jn(e){if(!e||"object"!=Yn(e))return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}var zn,Tn=t.document;function Ln(t,e,n){t=t.slice();return t[67]=e[n],t[69]=n,t}function Dn(t,e,n){t=t.slice();return t[67]=e[n],t[69]=n,t}function Rn(e){var r,i,o,a,c,u,l,s,f,h,n;function t(t){e[43].call(null,t)}function p(t){e[44].call(null,t)}function d(t){e[45].call(null,t)}function g(t){e[46].call(null,t)}function m(t){e[47].call(null,t)}function y(t){e[48].call(null,t)}function v(t){e[49].call(null,t)}function b(t){e[50].call(null,t)}function _(t){e[51].call(null,t)}var w={annotation:e[67],dataToPx:e[1],pxToData:e[2],theme:e[3],cm:e[4],visWidth:e[5],isMobileWidth:e[15],index:e[25].length-1-e[69],editMode:e[7],editorState:e[0],forceAnchorDragTemp:e[22],key:e[16][e[25].length-1-e[69]]};return void 0!==e[19]&&(w.noOffsetAtEventStart=e[19]),void 0!==e[24]&&(w.isEditable=e[24]),void 0!==e[11]&&(w.dragging=e[11]),void 0!==e[21]&&(w.forceAnchorDrag=e[21]),void 0!==e[20]&&(w.forceOffsetDrag=e[20]),void 0!==e[9]&&(w.moveX=e[9]),void 0!==e[10]&&(w.moveY=e[10]),void 0!==e[12]&&(w.resizing=e[12]),void 0!==e[23]&&(w.activeResizer=e[23]),r=new wn({props:w}),lt.push(function(){return B(r,"noOffsetAtEventStart",t)}),lt.push(function(){return B(r,"isEditable",p)}),lt.push(function(){return B(r,"dragging",d)}),lt.push(function(){return B(r,"forceAnchorDrag",g)}),lt.push(function(){return B(r,"forceOffsetDrag",m)}),lt.push(function(){return B(r,"moveX",y)}),lt.push(function(){return B(r,"moveY",v)}),lt.push(function(){return B(r,"resizing",b)}),lt.push(function(){return B(r,"activeResizer",_)}),r.$on("selectAnnotation",e[28]),r.$on("updateEditorState",e[29]),r.$on("update",e[52]),{c:function(){W(r.$$.fragment)},m:function(t,e){F(r,t,e),n=!0},p:function(t,e){var n={};33554432&e[0]&&(n.annotation=t[67]),2&e[0]&&(n.dataToPx=t[1]),4&e[0]&&(n.pxToData=t[2]),8&e[0]&&(n.theme=t[3]),16&e[0]&&(n.cm=t[4]),32&e[0]&&(n.visWidth=t[5]),32768&e[0]&&(n.isMobileWidth=t[15]),33554432&e[0]&&(n.index=t[25].length-1-t[69]),128&e[0]&&(n.editMode=t[7]),1&e[0]&&(n.editorState=t[0]),4194304&e[0]&&(n.forceAnchorDragTemp=t[22]),33619968&e[0]&&(n.key=t[16][t[25].length-1-t[69]]),!i&&524288&e[0]&&(i=!0,n.noOffsetAtEventStart=t[19],x(function(){return i=!1})),!o&&16777216&e[0]&&(o=!0,n.isEditable=t[24],x(function(){return o=!1})),!a&&2048&e[0]&&(a=!0,n.dragging=t[11],x(function(){return a=!1})),!c&&2097152&e[0]&&(c=!0,n.forceAnchorDrag=t[21],x(function(){return c=!1})),!u&&1048576&e[0]&&(u=!0,n.forceOffsetDrag=t[20],x(function(){return u=!1})),!l&&512&e[0]&&(l=!0,n.moveX=t[9],x(function(){return l=!1})),!s&&1024&e[0]&&(s=!0,n.moveY=t[10],x(function(){return s=!1})),!f&&4096&e[0]&&(f=!0,n.resizing=t[12],x(function(){return f=!1})),!h&&8388608&e[0]&&(h=!0,n.activeResizer=t[23],x(function(){return h=!1})),r.$set(n)},i:function(t){n||(C(r.$$.fragment,t),n=!0)},o:function(t){I(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function Cn(e){var r,i,o,a,c,u,n;function t(t){e[54].call(null,t)}function l(t){e[55].call(null,t)}function s(t){e[56].call(null,t)}function f(t){e[57].call(null,t)}function h(t){e[58].call(null,t)}var p={annotation:e[67],dataToPx:e[1],pxToData:e[2],visWidth:e[5],editMode:e[7],editorState:e[0],forceAnchorDragTemp:e[22],index:e[26].length-1-e[69]};return void 0!==e[11]&&(p.dragging=e[11]),void 0!==e[9]&&(p.moveX=e[9]),void 0!==e[10]&&(p.moveY=e[10]),void 0!==e[12]&&(p.resizing=e[12]),void 0!==e[23]&&(p.activeResizer=e[23]),r=new $n({props:p}),lt.push(function(){return B(r,"dragging",t)}),lt.push(function(){return B(r,"moveX",l)}),lt.push(function(){return B(r,"moveY",s)}),lt.push(function(){return B(r,"resizing",f)}),lt.push(function(){return B(r,"activeResizer",h)}),r.$on("selectAnnotation",e[28]),{c:function(){W(r.$$.fragment)},m:function(t,e){F(r,t,e),n=!0},p:function(t,e){var n={};67108864&e[0]&&(n.annotation=t[67]),2&e[0]&&(n.dataToPx=t[1]),4&e[0]&&(n.pxToData=t[2]),32&e[0]&&(n.visWidth=t[5]),128&e[0]&&(n.editMode=t[7]),1&e[0]&&(n.editorState=t[0]),4194304&e[0]&&(n.forceAnchorDragTemp=t[22]),67108864&e[0]&&(n.index=t[26].length-1-t[69]),!i&&2048&e[0]&&(i=!0,n.dragging=t[11],x(function(){return i=!1})),!o&&512&e[0]&&(o=!0,n.moveX=t[9],x(function(){return o=!1})),!a&&1024&e[0]&&(a=!0,n.moveY=t[10],x(function(){return a=!1})),!c&&4096&e[0]&&(c=!0,n.resizing=t[12],x(function(){return c=!1})),!u&&8388608&e[0]&&(u=!0,n.activeResizer=t[23],x(function(){return u=!1})),r.$set(n)},i:function(t){n||(C(r.$$.fragment,t),n=!0)},o:function(t){I(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function In(t){var n,r,i;return{c:function(){j(n=E("div"),"class",r="create-rect "+t[0].createMode+" svelte-1r6aetx"),j(n,"style",i=t[27]())},m:function(t,e){k(t,n,e)},p:function(t,e){1&e[0]&&r!==(r="create-rect "+t[0].createMode+" svelte-1r6aetx")&&j(n,"class",r),134217728&e[0]&&i!==(i=t[27]())&&j(n,"style",i)},d:function(t){t&&O(n)}}}function Bn(o){var a,c,u,l,s,f,h,p,d;_(o[42]);for(var g=o[25],m=[],t=0;t<g.length;t+=1)m[t]=Rn(Dn(o,g,t));for(var y=o[26],v=[],e=0;e<y.length;e+=1)v[e]=Cn(Ln(o,y,e));var b=o[7]&&o[13]&&In(o);return{c:function(){a=N(),c=E("div"),u=E("div");for(var t=0;t<m.length;t+=1)m[t].c();l=N(),s=E("div");for(var e=0;e<v.length;e+=1)v[e].c();f=N(),b&&b.c(),j(u,"class","text-annotations"),j(u,"aria-label",o[6]),j(u,"role","list"),j(s,"class","range-annotations svelte-1r6aetx"),j(c,"class","annotations-inner svelte-1r6aetx"),z(c,"editing",o[14]),z(c,"create-mode",o[0].createMode),z(c,"creating",o[13])},m:function(t,e){k(t,a,e),k(t,c,e),S(c,u);for(var n=0;n<m.length;n+=1)m[n].m(u,null);o[53](u),S(c,l),S(c,s);for(var r,i=0;i<v.length;i+=1)v[i].m(s,null);S(c,f),b&&b.m(c,null),o[59](c),h=!0,p||(d=[$(window,"keydown",o[30]),$(window,"mousedown",o[31]),$(window,"mousemove",o[32]),$(window,"mouseup",o[33]),$(window,"resize",o[42]),$(Tn.body,"mouseleave",o[34]),$(c,"mousedown",(r=o[35],function(t){return t.preventDefault(),r.call(this,t)}))],p=!0)},p:function(t,e){if(871997119&e[0]){var n;for(g=t[25],n=0;n<g.length;n+=1){var r=Dn(t,g,n);m[n]?(m[n].p(r,e),C(m[n],1)):(m[n]=Rn(r),m[n].c(),C(m[n],1),m[n].m(u,null))}for(D(),n=g.length;n<m.length;n+=1)!function(t){I(m[t],1,1,function(){m[t]=null})}(n);R()}if((!h||64&e[0])&&j(u,"aria-label",t[6]),348135079&e[0]){var i;for(y=t[26],i=0;i<y.length;i+=1){var o=Ln(t,y,i);v[i]?(v[i].p(o,e),C(v[i],1)):(v[i]=Cn(o),v[i].c(),C(v[i],1),v[i].m(s,null))}for(D(),i=y.length;i<v.length;i+=1)!function(t){I(v[t],1,1,function(){v[t]=null})}(i);R()}t[7]&&t[13]?b?b.p(t,e):((b=In(t)).c(),b.m(c,null)):b&&(b.d(1),b=null),16384&e[0]&&z(c,"editing",t[14]),1&e[0]&&z(c,"create-mode",t[0].createMode),8192&e[0]&&z(c,"creating",t[13])},i:function(t){if(!h){for(var e=0;e<g.length;e+=1)C(m[e]);for(var n=0;n<y.length;n+=1)C(v[n]);h=!0}},o:function(t){m=m.filter(Boolean);for(var e=0;e<m.length;e+=1)I(m[e]);v=v.filter(Boolean);for(var n=0;n<v.length;n+=1)I(v[n]);h=!1},d:function(t){t&&O(a),t&&O(c),n(m,t),o[53](null),n(v,t),b&&b.d(),o[59](null),p=!1,A(d)}}}function Wn(e,t,c){var u=t.textAnnotations;void 0===u&&(u=[]);var l=t.rangeAnnotations;void 0===l&&(l=[]);var r,s,i=t.dataToPx,f=t.pxToData,n=t.theme,o=t.cm,h=t.visWidth,a=t.annotationKeysSel,p=t.ariaLabel;void 0===p&&(p="");var d=t.editMode;void 0===d&&(d=!1);var g,m=t.editorState;void 0===m&&(m={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,pxToData:null,selectedAnnotationProps:{x:null,y:null,width:null,height:null,mobileFallback:!1}}),at(function(){m&&(c(0,m.width=g.offsetWidth,m),c(0,m.height=g.offsetHeight,m))});var y,v,b,_,w,x=0,M=0,A=!1,S=!1,k=!1,O=0,E=0,N=!1,$=!1;function P(){c(19,y=!1),c(20,v=!1),c(21,b=!1),c(22,_=!1),c(0,m.forceOffsetDrag=!1,m),c(11,A=!1),c(12,k=S=!1)}function j(){c(9,x=0),c(10,M=0),c(39,O=0),c(40,E=0),c(13,N=!1),c(0,m.createMode=!1,m)}var z=ct(),t=function(){d&&z("update")};H().$$.before_update.push(t);var T,L,D,R,C,I,B=!1,W=document.querySelector(".dw-chart-body");return e.$$set=function(t){"textAnnotations"in t&&c(36,u=t.textAnnotations),"rangeAnnotations"in t&&c(37,l=t.rangeAnnotations),"dataToPx"in t&&c(1,i=t.dataToPx),"pxToData"in t&&c(2,f=t.pxToData),"theme"in t&&c(3,n=t.theme),"cm"in t&&c(4,o=t.cm),"visWidth"in t&&c(5,h=t.visWidth),"annotationKeysSel"in t&&c(38,a=t.annotationKeysSel),"ariaLabel"in t&&c(6,p=t.ariaLabel),"editMode"in t&&c(7,d=t.editMode),"editorState"in t&&c(0,m=t.editorState)},e.$$.update=function(){var n;32&e.$$.dirty[1]&&c(25,T=[].concat(u).reverse()),64&e.$$.dirty[1]&&c(26,L=[].concat(l).reverse()),256&e.$$.dirty[0]&&c(15,D=r<=450),32768&e.$$.dirty[0]|32&e.$$.dirty[1]&&c(41,R=function(){var e=0;return u.map(function(t){t=D&&t.mobileFallback&&!Xe(t)&&!Ze(t);return t&&e++,{render:t,num:t?e:null}})}),1024&e.$$.dirty[1]&&c(16,C=R()),98304&e.$$.dirty[0]|160&e.$$.dirty[1]&&(a.classed("hide",!0).html(""),D)&&(n=!1,u.forEach(function(t,e){e=C[e];e.render&&(n=!0,a.append("div.key").html('<div class="num dw-circle dw-bold"><span class="export-text">'+e.num+'</span></div><span class="text export-text">'+nn(t.text)+"</span>"))}),a.classed("hide",!n)),5&e.$$.dirty[0]&&m&&c(0,m.pxToData=f,m),3&e.$$.dirty[0]&&m&&c(0,m.dataToPx=i,m),1537&e.$$.dirty[0]|768&e.$$.dirty[1]&&c(27,I=function(){var t=[];if("text"===m.createMode)return Math.abs(x)<1?void 0:(t.push("top: "+(0<M?E:E+M)+"px"),t.push("height: "+(0<M?M:-M)+"px"),t.push("left: "+(0<x?O:O+x)+"px"),t.push("width: "+(0<x?x:-x)+"px"),t.join("; "));if("range"===m.createMode){if(Math.abs(x)<1&&Math.abs(M)<1)return;Math.abs(M)>Math.abs(x)?(t.push("top: "+(M<0?E+M:E)+"px"),t.push("left: 0px"),t.push("width: 100%"),t.push("height: "+Math.abs(M)+"px")):(t.push("top: 0px"),t.push("left: "+(x<0?O+x:O)+"px"),t.push("height: 100%"),t.push("width: "+Math.abs(x)+"px"))}return t.join("; ")}),30720&e.$$.dirty[0]&&(c(14,B=A||k||N),W&&(B?W.classList.add("editing-annotations"):W.classList.remove("editing-annotations")))},[m,i,f,n,o,h,p,d,r,x,M,A,k,N,B,D,C,s,g,y,v,b,_,w,$,T,L,I,function(t){if(null===t.detail)return c(0,m.selectedTextAnnotations=[],m),c(0,m.selectedRangeAnnotations=[],m),void c(24,$=!1);var e,n;"text"===t.detail.type?(n=1<(e=m.selectedTextAnnotations).length,e[0]===t.detail.index&&!n||(c(24,$=!1),c(0,m.selectedTextAnnotations=[t.detail.index],m),c(0,m.selectedRangeAnnotations=[],m))):(c(0,m.selectedRangeAnnotations=[t.detail.index],m),c(0,m.selectedTextAnnotations=[],m))},function(t){var e=Object.entries(t.detail)[0],t=e[0],e=e[1];c(0,m[t]=e,m)},function(t){d&&"Escape"===t.key&&N&&j()},function(t){d&&(c(0,m.selectedTextAnnotations=[],m),c(0,m.selectedRangeAnnotations=[],m))},function(t){d&&((A||N||k&&["l","r"].includes(w))&&(c(9,x+=t.movementX),t.movementX&&(c(24,$=!1),S=!0)),(A||N||k&&["t","b"].includes(w))&&(c(10,M+=t.movementY),t.movementY&&(c(24,$=!1),S=!0)),c(22,_=!1),t.ctrlKey&&!y&&c(22,_=!0))},function(t){var e,n,r,i,o,a;d&&(S||c(24,$=t.target.classList.contains("text-edit")||t.target.parentNode.classList&&t.target.parentNode.classList.contains("text-edit")),P(),N&&("text"===m.createMode?(e=(r=f(O,E))[0],n=r[1],a=M<0,i=(o=x<0)&&a?"br":o&&!a?"tr":!o&&a?"bl":"tl",r=Math.abs(x/h*100),o=Object.assign({},jn(m.defaults.text),{x:e,y:n,align:i,width:r}),Math.abs(x)<10&&Math.abs(M)<10&&(o.width=25,o.align="mc",o.dy=E<100?50:-50,o.connectorLine.enabled=!0),D&&(o.mobileFallback=!1),u.unshift(o),c(36,u)):"range"===m.createMode&&(e=(a=f(O,E))[0],n=a[1],r=(i=f(O+x,E+M))[0],o=i[1],a="range",("x"==(i=Math.abs(x)>Math.abs(M)?"x":"y")&&Math.abs(x)<10||"y"==i&&Math.abs(M)<10)&&(a="line"),o=Object.assign({},jn(m.defaults[a]),{type:i,display:a,x0:e,x1:r,y0:n,y1:o}),l.unshift(o),c(37,l)),function(){if("text"===m.createMode){if(c(0,m.selectedTextAnnotations=[0],m),c(0,m.selectedRangeAnnotations=[],m),R()[0].render)return;c(24,$=!0),setTimeout(function(){var t=u.length-1,e=s.querySelectorAll(".text-annotation")[t].querySelector(".text-edit");e.focus(),t=e,(e=document.createRange()).selectNodeContents(t),(t=window.getSelection()).removeAllRanges(),t.addRange(e)})}"range"===m.createMode&&(c(0,m.selectedTextAnnotations=[],m),c(0,m.selectedRangeAnnotations=[0],m))}(),j()))},function(){d&&(A||k)&&P()},function(t){d&&m.createMode&&(c(13,N=!0),c(39,O=t.offsetX),c(40,E=t.offsetY))},u,l,a,O,E,R,function(){c(8,r=window.innerWidth)},function(t){c(19,y=t)},function(t){c(24,$=t)},function(t){c(11,A=t)},function(t){c(21,b=t)},function(t){c(20,v=t)},function(t){c(9,x=t)},function(t){c(10,M=t)},function(t){c(12,k=t)},function(t){c(23,w=t)},function(t){ut(e,t)},function(t){lt[t?"unshift":"push"](function(){c(17,s=t)})},function(t){c(11,A=t)},function(t){c(9,x=t)},function(t){c(10,M=t)},function(t){c(12,k=t)},function(t){c(23,w=t)},function(t){lt[t?"unshift":"push"](function(){c(18,g=t)})}]}return(zn=U)&&(Hn.__proto__=zn),(Hn.prototype=Object.create(zn&&zn.prototype)).constructor=Hn;function Hn(t){zn.call(this),q(this,t,Wn,Bn,e,{textAnnotations:36,rangeAnnotations:37,dataToPx:1,pxToData:2,theme:3,cm:4,visWidth:5,annotationKeysSel:38,ariaLabel:6,editMode:7,editorState:0},[-1,-1,-1])}}()});function Wu(t){if("string"!=typeof t)return t;var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}function Hu(){return null}var Fu=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function Yu(e,t){var n=1<arguments.length&&void 0!==t?t:700,r=!1,i=!0;return{set:function(t){r!==t&&setTimeout(function(){i=!1,e(r)},i?n:0),r=t},clear:function(){i=!(r=null),e(null)},get:function(){return r}}}function qu(t,e,n){var r=e.swatches,i=e.swatchWidth,o=e.swatchHeight,a=e.itemMarginBottom,c=e.itemMarginRight,u=e.swatchBorderRadius,l=e.swatchLabelDistance,s=e.fontWeight,f=e.highlight,e=e.reverse,h=t.append("div.legend-categories").st({fontWeight:s}),p=Yu(function(e){null!==e?(f&&(h.classed("highlighted",!0),d.classed("highlight",function(t){return t.key===e.key})),n("mouseenter",e)):(f&&(h.classed("highlighted",!1),d.classed("highlight",!1)),n("mouseleave"))}),r=e?r.slice(0).reverse():r,d=h.appendMany("div.legend-swatch",r).st({marginBottom:a,marginRight:c}).on("mouseenter",function(t){return p.set(t)});h.on("mouseleave",p.clear);a=d.append("div.legend-no-break"),c="50%"===u?"dw-circle":"export-rect";function g(t){var e=t.trim().indexOf(" "),n=t.trim().indexOf("-");return e<0&&n<0?t:n<0||e<n?t.substr(0,e):t.substr(0,n+1)}return a.append("div.legend-color.".concat(c)).st({width:i,height:o,marginRight:l,borderRadius:u,background:function(t){return t.color}}),a.append("div.legend-label").html(function(t){return g(t.label)}),d.append("div.legend-label").html(function(t){return t=g(e=t.label),e.substr(t.length);var e}),{highlight:function(e){h.classed("highlighted",!!e),e?d.classed("highlight",function(t){return t.key===e}):d.classed("highlight",!1)}}}function Uu(i,o){return o=null==o?i.length-1:+o,function(){for(var t=Math.max(arguments.length-o,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+o];switch(o){case 0:return i.call(this,e);case 1:return i.call(this,arguments[0],e);case 2:return i.call(this,arguments[0],arguments[1],e)}for(var r=Array(o+1),n=0;n<o;n++)r[n]=arguments[n];return r[o]=e,i.apply(this,r)}}I.prototype.translate=function(n,r){var t=this.node();return t?t.getBBox?this.attr("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+","+e[1]+")"}):this.style("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+"px,"+e[1]+"px)"}):this},I.prototype.append=function(t){var e,n="function"==typeof t?t:c((e=Wu(t)).tag),r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(e)for(var i in e.attr)r.attr(i,e.attr[i]);return r},I.prototype.insert=function(t,e){var n,r=Wu(t),i=c(r.tag),o=null==e?Hu:"function"==typeof e?e:p(e),a=this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)});for(n in r.attr)a.attr(n,r.attr[n]);return a},I.prototype.parent=function(){var t=[];return this.filter(function(){return!(-1<t.indexOf(this.parentNode)||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},I.prototype.selectAppend=function(t){var e,n,r=p(t),i=Wu(t);for(n in t=c(i.tag),e=this.select(function(){return r.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),i.attr)e.attr(n,i.attr[n]);return e},I.prototype.tspans=function(n,r){return this.selectAll("tspan").data(function(e,t){return("function"==typeof n?n.call(this,e,t):n).map(function(t){return{line:t,parent:e}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,e){return e?("function"==typeof r?r.call(this,t.parent,t.line,e):r)||15:0})},I.prototype.appendMany=function(t,e){var n;return"string"==typeof e&&(console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on"),n=e,e=t,t=n),this.selectAll(null).data(e).enter().append(t)},I.prototype.at=function(t,e){if("object"!=Yn(t))return 1==arguments.length?this.attr(t):this.attr(t,e);for(var n in t)this.attr(Fu.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this},I.prototype.st=function(t,e){if("object"!=Yn(t))return 1==arguments.length?this.style(t):r(this,t,e);for(var n in t)r(this,n,t[n]);return this;function r(t,e,n){return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){return i(r.apply(this,arguments))}):i(n)):t.style(e,n),t;var r}function i(t){return t.match?t:t+"px"}},I.prototype.prop=I.prototype.property;var wt="object"==("undefined"==typeof self?"undefined":Yn(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":Yn(global))&&global.global===global&&global||Function("return this")()||{},Vu=Array.prototype,Gu=Object.prototype,Xu="undefined"!=typeof Symbol?Symbol.prototype:null,Zu=Vu.slice,Ku=Gu.toString,Ju=Gu.hasOwnProperty,Mt="undefined"!=typeof ArrayBuffer,xt="undefined"!=typeof DataView,xn=Array.isArray,Qu=Object.keys,tl=Object.create,el=Mt&&ArrayBuffer.isView,nl=isNaN,rl=!{toString:null}.propertyIsEnumerable("toString"),il=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ol=Math.pow(2,53)-1;function al(t){var e="[object "+t+"]";return function(t){return Ku.call(t)===e}}rs=al("Function"),qe=wt.document&&wt.document.childNodes,"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Yn(Int8Array))&&"function"!=typeof qe&&(rs=function(t){return"function"==typeof t||!1});var cl=rs;function ul(t){return t instanceof ul?t:this instanceof ul?void(this._wrapped=t):new ul(t)}function ll(t){return t}function sl(t){var e=Yn(t);return"function"===e||"object"===e&&t}ul.VERSION="1.13.1",ul.prototype.valueOf=ul.prototype.toJSON=ul.prototype.value=function(){return this._wrapped},ul.prototype.toString=function(){return String(this._wrapped)};var fl=xn||al("Array");function hl(t,e){return null!=t&&Ju.call(t,e)}function pl(t,e){e=function(e){for(var n={},t=e.length,r=0;r<t;++r)n[e[r]]=!0;return{contains:function(t){return n[t]},push:function(t){return n[t]=!0,e.push(t)}}}(e);var n=il.length,r=t.constructor,i=cl(r)&&r.prototype||Gu,o="constructor";for(hl(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=il[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function dl(t){if(!sl(t))return[];if(Qu)return Qu(t);var e,n=[];for(e in t)hl(t,e)&&n.push(e);return rl&&pl(t,n),n}var gl,ml=(gl=dl,function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],i=gl(r),o=i.length,a=0;a<o;a++){var c=i[a];t[c]=r[c]}return t});function yl(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function vl(t){return ul.toPath(t)}function bl(e){return e=vl(e),function(t){return yl(t,e)}}function _l(i,o,t){if(void 0===o)return i;switch(null==t?3:t){case 1:return function(t){return i.call(o,t)};case 3:return function(t,e,n){return i.call(o,t,e,n)};case 4:return function(t,e,n,r){return i.call(o,t,e,n,r)}}return function(){return i.apply(o,arguments)}}function wl(t,e,n){return null==t?ll:cl(t)?_l(t,e,n):sl(t)&&!fl(t)?(r=ml({},r=t),function(t){return function(t,e){var n=dl(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}(t,r)}):bl(t);var r}function xl(t,e){return wl(t,e,1/0)}function Ml(t,e,n){return ul.iteratee!==xl?ul.iteratee(t,e):wl(t,e,n)}function Al(e){return function(t){t=e(t);return"number"==typeof t&&0<=t&&t<=ol}}function Sl(e){return function(t){return null==t?void 0:t[e]}}ul.toPath=function(t){return fl(t)?t:[t]},ul.iteratee=xl;var kl=Sl("length"),Ol=Al(kl);function El(t,e,n){e=Ml(e,n);for(var r=!Ol(t)&&dl(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var c=r?r[a]:a;o[a]=e(t[c],c,t)}return o}var Nl=al("Arguments");!function(){Nl(arguments)||(Nl=function(t){return hl(t,"callee")})}();var $l=Nl;function Pl(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=kl(t);o<a;o++){var c=t[o];if(Ol(c)&&(fl(c)||$l(c)))if(1<e)Pl(c,e-1,n,r),i=r.length;else for(var u=0,l=c.length;u<l;)r[i++]=c[u++];else n||(r[i++]=c)}return r}function jl(t){for(var e=dl(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}var zl=al("Number");function Tl(t){return zl(t)&&nl(t)}var Ll,Dl,Rl=(Ll=wt=function(t,e,n){e=Ml(e,n);for(var r=kl(t),i=0;0<=i&&i<r;i+=1)if(e(t[i],i,t))return i;return-1},Dl=function(t,e,n,r){for(var i=(n=Ml(n,r,1))(e),o=0,a=kl(t);o<a;){var c=Math.floor((o+a)/2);n(t[c])<i?o=c+1:a=c}return o},function(t,e,n){var r=0,i=kl(t);if("number"==typeof n)r=0<=n?n:Math.max(n+i,r);else if(n&&i)return t[n=Dl(t,e)]===e?n:-1;if(e!=e)return 0<=(n=Ll(Zu.call(t,r,i),Tl))?n+r:-1;for(n=r;0<=n&&n<i;n+=1)if(t[n]===e)return n;return-1});function Cl(t,e,n,r){return Ol(t)||(t=jl(t)),"number"==typeof n&&!r||(n=0),0<=Rl(t,e,n)}function Il(t){if(!sl(t))return[];var e,n=[];for(e in t)n.push(e);return rl&&pl(t,n),n}function Bl(t,e,n){return e in n}var Wl=Uu(function(t,e){var n={},r=e[0];if(null==t)return n;cl(r)?(1<e.length&&(r=_l(r,e[1])),e=Il(t)):(r=Bl,e=Pl(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],c=t[a];r(c,a,t)&&(n[a]=c)}return n}),Hl=Uu(function(t,n){var e,r,i=n[0];return cl(i)?(r=i,i=function(){return!r.apply(this,arguments)},1<n.length&&(e=n[1])):(n=El(Pl(n,!1,!1),String),i=function(t,e){return!Cl(n,e)}),Wl(t,i,e)});function Fl(t,e,n){e=1<arguments.length&&void 0!==e?e:null,n=2<arguments.length&&void 0!==n?n:null;if(!e)return t;for(var r=e.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?n:i}function Yl(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ul(t,e){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var n,e=ql(ql({title:"",horizontal:!0,swatches:[{color:"#dd0000",label:"A red swatch",key:"red"},{color:"#0033dd",label:"A blue swatch",key:"blue"}],reverse:!1,width:"100%",height:"auto",swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,paddingTop:0,paddingBottom:10,color:"inherit",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",textAlign:"left",highlight:!1},e.theme?Hl({swatchWidth:Fl(e.theme,"style.chart.legend.swatch.width",14),swatchHeight:Fl(e.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Fl(e.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Fl(e.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Fl(e.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Fl(e.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Fl(e.theme,"style.chart.legend.rowSpacing"),paddingTop:Fl(e.theme,"style.chart.legend.padding.top"),textAlign:Fl(e.theme,"style.chart.legend.alignment"),color:Fl(e.theme,"style.chart.labels.legend.color")},function(t){return null==t}):{}),e),r={},t=H(t).append("div.category-legend").classed("horizontal",e.horizontal).classed("vertical",!e.horizontal).st({paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,textAlign:e.textAlign,color:e.color,fontSize:e.fontSize,fontFamily:e.fontFamily,width:e.width,height:e.height});return e.title&&t.append("div.legend-title.label").append("span").html(e.title),n=ql({container:t,on:function(t,e){return"function"!=typeof e||"string"!=typeof t||(r[t]||(r[t]=[]),r[t].push(e)),n}},n=qu(t,e,function(t,e){r[t]&&r[t].length&&r[t].forEach(function(t){"function"==typeof t&&t(e)})}))}function Vl(){var t=window.navigator.userAgent;return/MSIE|Trident/.test(t)}function Gl(t){var e=Yn(t);return null!=t&&("object"==e||"function"==e)}function Xl(){return ns.Date.now()}function Zl(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":us&&us in Object(t)?function(t){var e=is.call(t,as),n=t[as];try{var r=!(t[as]=void 0)}catch(t){}var i=os.call(t);return r&&(e?t[as]=n:delete t[as]),i}(t):(t=t,cs.call(t))}function Kl(t){return null!=t&&"object"==Yn(t)}function Jl(t){return"symbol"==Yn(t)||Kl(t)&&"[object Symbol]"==Zl(t)}function Ql(t){if("number"==typeof t)return t;if(Jl(t))return NaN;if(Gl(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=Gl(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(ls,"");var e=fs.test(t);return e||hs.test(t)?ps(t.slice(2),e?2:8):ss.test(t)?NaN:+t}function ts(r,n,t){var i,o,a,c,u,l,s=0,f=!1,h=!1,e=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function p(t){var e=i,n=o;return i=o=void 0,s=t,c=r.apply(n,e)}function d(t){var e=t-l;return void 0===l||n<=e||e<0||h&&a<=t-s}function g(){var t,e=Xl();if(d(e))return m(e);u=setTimeout(g,(t=n-(e-l),h?gs(t,a-(e-s)):t))}function m(t){return u=void 0,e&&i?p(t):(i=o=void 0,c)}function y(){var t=Xl(),e=d(t);if(i=arguments,o=this,l=t,e){if(void 0===u)return s=e=l,u=setTimeout(g,n),f?p(e):c;if(h)return clearTimeout(u),u=setTimeout(g,n),p(l)}return void 0===u&&(u=setTimeout(g,n)),c}return n=Ql(n)||0,Gl(t)&&(f=!!t.leading,a=(h="maxWait"in t)?ds(Ql(t.maxWait)||0,n):a,e="trailing"in t?!!t.trailing:e),y.cancel=function(){void 0!==u&&clearTimeout(u),i=l=o=u=void(s=0)},y.flush=function(){return void 0===u?c:m(Xl())},y}var es="object"==Yn(Fn)&&Fn&&Fn.Object===Object&&Fn,qe="object"==("undefined"==typeof self?"undefined":Yn(self))&&self&&self.Object===Object&&self,ns=es||qe||Function("return this")(),rs=ns.Symbol,is=(xn=Object.prototype).hasOwnProperty,os=xn.toString,as=rs?rs.toStringTag:void 0,cs=Object.prototype.toString,us=rs?rs.toStringTag:void 0,ls=/^\s+|\s+$/g,ss=/^[-+]0x[0-9a-f]+$/i,fs=/^0b[01]+$/i,hs=/^0o[0-7]+$/i,ps=parseInt,ds=Math.max,gs=Math.min,ms=[],ys=!1;function vs(){var n;ms.length&&(n=ms.map(function(t){try{return t.measure&&t.measure()}catch(t){return t}}),ms.forEach(function(t,e){try{t.update&&t.update(n[e])}catch(t){}}),ys=!(ms=[]))}function bs(t){ms.push(t),ys||(ys=!0,requestAnimationFrame(vs))}function _s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xs={categories:qu,continuous:function(n,t,r){for(var e=t.colors,i=t.limits,o=t.format,a=t.labels,c=t.horizontal,u=t.width,l=t.height,s=t.rulerSize,f=t.swatchLabelDistance,h=t.highlight,p=t.reverse,d=3===i.length,g=n.parent().append("defs"),m=[],y=0;y<17;y++)m.push(y/16);t="g-".concat(Math.floor(1e6*Math.random()).toString(32));g.append("linearGradient").attr("id",t).attr(c?"y2":"x2",0).attr(c?"x2":"y2",1).appendMany("stop",m).attr("offset",function(t){return"".concat(100*t,"%")}).attr("stop-color",p?function(t){return A(1-t)}:A),n.append("rect").at({width:c?u:s,height:c?s:l}).style("fill","url(#".concat(t,")"));var t=(a||i.map(o)).slice(0),v=i.slice(0);p&&(t.reverse(),v.reverse());a=Vl();n.append("g.labels").translate(c?[0,s+f+(a?8:0)]:[s+f,0]).appendMany("text",t).attr("class",function(t,e){return 0===e?"min":1===e&&d?"center":"max"}).translate(c?function(t,e){return[u*e/(d?2:1),0]}:function(t,e){return[0,l*e/(d?2:1)]}).tspans(function(t){return t.split("<br>")});var b=n.append("g.highlight");b.append("path.triangle").translate(c?[0,s+7]:[s+7,0]).attr("d",c?"M-5,0 L 5,0 L 0,-7 Z":"M0,-5 L-7,0 L 0,5 Z"),b.append("g.text").translate(c?[0,s+12+(a?8:0)]:[s+12,0]).append("text.buffer").parent().append("text");var _=b.selectAll("text"),w=Yu(function(t){var e;null!==t?(h&&(n.classed("highlighted",!0),b.style("transform","translate(".concat((c?[t*u,0]:[0,t*l]).map(function(t){return t+"px"}),")")),b.translate(c?[t*u,0]:[0,t*l]),e=x(t),_.text(o(e))),r("mouseenter",{min:x(t*(p?1.1:.9)),max:x(t*(p?.9:1.1))})):(h&&n.classed("highlighted",!1),r("mouseleave"))});return n.parent().on("mouseenter",function(){n.parent().classed("no-transition",!0)}),n.parent().on("mousemove",function(){var t=Y(n.node())[c?0:1]/(c?u:l);w.set(Math.min(1,Math.max(0,t)))}),n.parent().on("mouseleave",function(){w.clear(),n.parent().classed("no-transition",!1)}),{highlight:function(t){null!=t?(n.parent().classed("no-transition",!n.classed("highlighted")),n.classed("highlighted",!0),b.style("transform","translate(".concat((c?[M(t)*u,0]:[0,M(t)*l]).map(function(t){return t+"px"}),")")),b.translate(c?[M(t)*u,0]:[0,M(t)*l]),_.text(o(t))):n.classed("highlighted",!1)}};function x(t){return d?t<.5?v[0]+2*t*(v[1]-v[0]):v[1]+2*(t-.5)*(v[2]-v[1]):v[0]+t*(v[1]-v[0])}function M(t){return d?t<v[1]?.5*(t-v[0])/(v[1]-v[0]):.5+.5*(t-v[1])/(v[2]-v[1]):(t-v[0])/(v[1]-v[0])}function A(t){t=d?t<=.5?2*t*(i[1]-i[0])+i[0]:2*(t-.5)*(i[2]-i[1])+i[1]:t*(i[1]-i[0])+i[0];return e(t)}},ruler:function(t,e,n){var r=e.colors,i=e.format,o=e.breaks,a=e.width,c=e.height,u=e.rulerSize,l=e.tickLength,s=e.tickWidth,f=e.horizontal,h=e.reverse,p=e.swatchLabelDistance,d=e.highlight,g=[],e=r.map(function(t,e){return{color:t,min:0===e?-1/0:+o[e],max:e===r.length-1?1/0:+o[e+1],label:e===(h?r.length-1:0)?"":"".concat(i(o[h?e+1:e]))}});h&&e.reverse();var m,y,v=f?Math.floor(a/r.length)-1:u,b=f?u:Math.floor(c/r.length)-1,_=t.appendMany("g.swatch",e).translate(f?function(t,e){return[e*(v+s),0]}:function(t,e){return[0,e*(b+s)]}),w=Yu(function(e){null!==e?(d&&(t.classed("highlighted",!0),_.classed("highlight",function(t){return e===t})),n("mouseenter",e)):(d&&(t.classed("highlighted",!1),_.classed("highlight",!1)),n("mouseleave"))});return _.on("mouseenter",function(t){return w.set(t)}),t.parent().on("mouseleave",w.clear),_.append("rect").at({width:v,height:b}).style("fill",function(t){return t.color}),_.append("text").translate(f?[0,b+p+l+(Vl()?8:0)]:[v+p+l,0]).text(function(t){return t.label}),0<l&&_.filter(function(t,e){return 0<e}).append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(Math.ceil(.5*s),",0"):"0,-".concat(Math.ceil(.5*s))).concat(f?"v":"h").concat((f?b:v)+l)),f&&(m=ts(function(){y&&(_.selectAll("text").st({textAnchor:"end"}).at({transform:"translate(".concat(.5*-v,",").concat(b+p+l,") rotate(-90)")}),g.forEach(function(t){return t()}))},20),y=!1,_.selectAll("text").each(function(t){var e=this;bs({measure:function(){return e.getBoundingClientRect()},update:function(t){t.width>v+2&&(y=!0,m())}})})),{highlight:function(e){null!=e?(t.classed("highlighted",!0),_.classed("highlight",function(t){return e>=t.min&&e<t.max})):(t.classed("highlighted",!1),_.classed("highlight",!1))},onupdate:function(t){g.push(t)}}},ranges:function(n,r,t){var i=r.colors,o=r.format,a=r.labels,c=r.breaks,e=r.width,u=r.swatchWidth,l=r.swatchHeight,s=r.itemMarginBottom,f=r.swatchBorderRadius,h=r.swatchLabelDistance,p=r.rulerSize,d=r.horizontal,g=r.highlight,m=r.reverse,y=[],v=i.map(function(t,e){return{color:t,min:0===e?-1/0:+c[e],max:e===i.length-1?1/0:+c[e+1],label:a?a[e]:0===e?"< ".concat(o(c[1])):e===i.length-1?"â¥ ".concat(o(c[e])):"".concat(o(c[e]),"â").concat(o(c[e+1]))}}),b=d?Math.floor(e/i.length)-1:u,_=d?p:l;m&&v.reverse();var w,x,M=n.appendMany("g.swatch",v).translate(d?function(t,e){return[e*(b+1),0]}:function(t,e){return[0,e*(_+s)]}).on("mouseenter",function(t){return A.set(t)}),A=Yu(function(e){null!==e?(g&&(n.classed("highlighted",!0),M.classed("highlight",function(t){return e===t})),t("mouseenter",e)):(g&&(n.classed("highlighted",!1),M.classed("highlight",!1)),t("mouseleave"))});return n.parent().on("mouseleave",A.clear),M.append("rect").at({width:b,height:_,rx:Math.min(f,.5*_),ry:Math.min(f,.5*b)}).style("fill",function(t){return t.color}).parent().append("text").translate(d?[.5*b,_+h]:[b+h,.5*_]).text(function(t){return t.label}),d&&(w=ts(function(){var t,e;x&&(e=(t=n.parent()).parent(),t.remove(),e.classed("ranges",!1).classed("color-legend",!1).classed("category-legend",!0).classed("categories",!0),qu(e,ws(ws({},r),{},{swatches:v,reverse:!1})),y.forEach(function(t){return t()}))},20),x=!1,M.selectAll("text").each(function(t){var e=this;bs({measure:function(){return e.getBoundingClientRect()},update:function(t){t.width>b+2&&(x=!0,w())}})})),{highlight:function(e){null!=e?(n.classed("highlighted",!0),M.classed("highlight",function(t){return e>=t.min&&e<t.max})):(n.classed("highlighted",!1),M.classed("highlight",!1))},onupdate:function(t){y.push(t)}}},winner:function(t,e){var r=e.colors,i=e.format,o=e.breaks,n=e.labels,a=e.width,c=e.height,u=e.rulerSize,l=e.tickLength,s=e.tickWidth,f=e.horizontal,h=e.reverse,p=e.itemMarginBottom,d=e.swatchLabelDistance,e=n.map(function(n){return{label:n,swatches:r[n].map(function(t,e){return{color:t,label:(h?e===r[n].length-1:0===e)?"":"".concat(i(o[h?e+1:e]))}})}});e[e.length-1].isLast=!0;var n=o.length-1,g=f?Math.floor(a/(3+n))-1:u,m=f?u:Math.floor(c/(3+n))-1,e=t.appendMany("g.group",e).translate(function(t,e){return f?[0,(m+p)*e]:[(g+p)*e,0]});e.append("text.label").attr("transform",f?"translate(".concat([(g+s)*n+d,.5*m+1],")"):"translate(".concat([.5*g,(m+s)*n+d],") rotate(-90)")).text(function(t){return t.label});n=e.appendMany("g.swatch",function(t){return h?t.swatches.slice(0).reverse():t.swatches}).translate(f?function(t,e){return[e*(g+s),0]}:function(t,e){return[0,e*(m+s)]});return n.append("rect").at({width:g,height:m}).style("fill",function(t){return t.color}),e.filter(function(t){return t.isLast}).selectAll("g.swatch").append("text").translate(f?[0,m+d+l]:[g+d+l,0]).text(function(t){return t.label}),0<l&&n.append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(Math.ceil(.5*s),",0"):"0,-".concat(Math.ceil(.5*s))).concat(f?"v":"h").concat((f?m:g)+l)),{highlight:function(t){}}}};function Ms(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ss(t,e,n,r){!0!==e&&!1!==e&&"[object Boolean]"!==Ku.call(e)&&(r=n,n=e,e=!1),null!=n&&(n=Ml(n,r));for(var i=[],o=[],a=0,c=kl(t);a<c;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&o===l||i.push(u),o=l):n?Cl(o,l)||(o.push(l),i.push(u)):Cl(i,u)||i.push(u)}return i}var ks=Sl("byteLength"),Os=al("ArrayBuffer"),wt=al("Object"),Es=xt&&wt(new DataView(new ArrayBuffer(8))),qe="undefined"!=typeof Map&&wt(new Map),xn=al("DataView"),Ns=Es?function(t){return null!=t&&cl(t.getInt8)&&Os(t.buffer)}:xn,$s=Al(ks),Ps=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,js=Mt?function(t){return el?el(t)&&!Ns(t):$s(t)&&Ps.test(Ku.call(t))}:function(){return!1};function zs(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,ks(t))}var Ts="[object DataView]";function Ls(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null!=t&&null!=e){if(t!=t)return e!=e;var i=Yn(t);return("function"===i||"object"===i||"object"==Yn(e))&&function t(e,n,r,i){e instanceof ul&&(e=e._wrapped),n instanceof ul&&(n=n._wrapped);var o=Ku.call(e);if(o!==Ku.call(n))return!1;if(Es&&"[object Object]"==o&&Ns(e)){if(!Ns(n))return!1;o=Ts}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return Xu.valueOf.call(e)===Xu.valueOf.call(n);case"[object ArrayBuffer]":case Ts:return t(zs(e),zs(n),r,i)}var a="[object Array]"===o;if(!a&&js(e)){if(ks(e)!==ks(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=Yn(e)||"object"!=Yn(n))return!1;var c=e.constructor,o=n.constructor;if(c!==o&&!(cl(c)&&c instanceof c&&cl(o)&&o instanceof o)&&"constructor"in e&&"constructor"in n)return!1}i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return i[u]===n;if(r.push(e),i.push(n),a){if((u=e.length)!==n.length)return!1;for(;u--;)if(!Ls(e[u],n[u],r,i))return!1}else{var l,s=dl(e);if(u=s.length,dl(n).length!==u)return!1;for(;u--;)if(!hl(n,l=s[u])||!Ls(e[l],n[l],r,i))return!1}return r.pop(),i.pop(),!0}(t,e,n,r)}}function Ds(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cs(t){var $,P=t.vis;this.update=function(t){var e,n,r,i,o,a,c,u,l,s,f,h,p,d,g,m,y,v,b,_,w,x=t.container,M=t.colorScale,A=t.map,S=P.colorMap(),k=P.theme(),O=P.size(),E=P.chart().getMetadata("data.column-format",{}),N=Iu({width:O[0],settings:P.get("legend"),column:{type:P.axes(!0).values.type(),name:P.axes(!0).values.name()},cs:{limits:M._limits,colors:M._colors,labels:M._labels,stops:M._stops},zoomable:P.get("zoomable"),zoomBtnPos:P.get("zoom-button-pos"),hideRegions:P.get("hide-empty-regions"),colorscale:P.get("colorscale",{}),colorSim:P.colorMode()||"normal"});Ls(N,$)||($=N,H(x).select(".map-key").remove(),!P.get("legend.enabled",!0)||M._limits&&void 0===M._limits[0])||(e="text"===P.axes(!0).values.type(),n=O[0]<450,r=P.get("legend.interactive"),N="div.map-key.export-rect.map-key-"+(t=P.get("legend.position","mt"))+(["mt","mb"].includes(t)?"":".map-key-inside"),i="mt"===t?H(x).insert(N,".map-outer"):H(x).append(N),N="m"===t.charAt(0),i.classed("mobile",n),r&&i.style("pointer-events","all"),N||i.style("b"===t.charAt(0)?"bottom":"top",P.get("legend.offsetTop",0)+"%").style("r"===t.charAt(1)?"right":"left",P.get("legend.offsetLeft",0)+"%"),b=Rs(Rs({},b={title:P.get("legend.title"),highlight:r,width:n?O[0]-10:220,horizontal:n||N||"horizontal"===P.get("legend.orientation","horizontal"),reverse:!e&&P.get("legend.reverse",!1)}),Hl({rulerSize:Cu(k,"style.chart.legend.ruler.thickness",13),tickWidth:Cu(k,"style.chart.legend.ruler.tickWidth",1),tickLength:Cu(k,"style.chart.legend.ruler.tickLength",0),swatchWidth:Cu(k,"style.chart.legend.swatch.width",14),swatchHeight:Cu(k,"style.chart.legend.swatch.height",14),swatchBorderRadius:Cu(k,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Cu(k,"style.chart.legend.swatch.marginRight"),paddingBottom:Cu(k,"style.chart.legend.padding.bottom"),itemMarginRight:Cu(k,"style.chart.legend.text.marginRight"),itemMarginBottom:Cu(k,"style.chart.legend.rowSpacing"),paddingTop:Cu(k,"style.chart.legend.padding.top"),textAlign:Cu(k,"style.chart.legend.alignment"),color:Cu(k,"style.chart.labels.legend.color")},function(t){return null==t})),O="discrete"===P.get("colorscale.mode")&&"ruler"!==P.get("legend.labels")&&!b.horizontal,a=P.get("legend.hideItems",[]),c=!e&&M._colors&&"ruler"!==P.get("legend.labels")&&("m"===P.get("legend.position","br").charAt(0)||O),n||N?!N||n||"number"!==P.axes(!0).values.type()||"continuous"!==P.get("colorscale.mode")&&"ruler"!==P.get("legend.labels")||(b.width=P.get("legend.size",200)):b[b.horizontal||e||O?"width":"height"]=P.get("legend.size",170),"number"===P.axes(!0).values.type()&&(u=P.get("legend.labelFormat","0.[00]"),l=-1<u.indexOf("%"),O=P.axes().values,s=E[O]?Cu(E[O],"number-prepend",""):"",f=E[O]?Cu(E[O],"number-append",""):"",h=function(t){return"".concat(s).concat(Tu(l?.01*t:t).format(u)).concat(f)}),e?(p=Cu(k,"colors.categories",[[]])[P.get("colorscale.palette",0)],d=P.get("colorscale.map",{}),g=P.get("colorscale.categoryOrder",[]),m=P.get("colorscale.categoryLabels",{}),y=0,(b=Rs(Rs({},b),{},{swatches:Ss(M._labels.sort(function(t,e){return g.indexOf(t)-g.indexOf(e)}).map(function(t,e){var n=null!=m[t]?m[t]:t,r=d[t]||p[y++];return{key:"".concat(r,"///").concat(n),label:n,value:t,index:e,color:S(r)}}),function(t){return t.key}).sort(function(t,e){return t.index-e.index}).filter(function(t){return t.label})})).horizontal||(b.height="auto",b.paddingBottom=0),o=Ul(i.node(),b)):c?(v="discrete"===P.get("colorscale.mode")&&"custom"===P.get("legend.labels")&&P.get("legend.customLabels",[]),b=Rs(Rs({},b),{},{swatches:M._stops.slice(1).map(function(t,e){return{key:"class-".concat(e),color:S(M._colors[e]),index:e,min:0===e?-1/0:+M._stops[e],max:e===M._stops.length-2?1/0:+M._stops[e+1],label:v?v[e]:0===e?"<&nbsp;".concat(h(t)):e<M._colors.length-1?"".concat(h(M._stops[e]),"â").concat(h(t)):"â¥&nbsp;".concat(h(M._stops[e]))}})}),"custom"===P.get("legend.labels")&&(b.swatches=b.swatches.filter(function(t,e){return!a.includes(e)})),b.horizontal||(b.height="auto",b.paddingBottom=0),o=Ul(i.node(),b)):(b=Rs(Rs({},b),{},{limits:M._limits,breaks:M._stops,ruler:"ruler"===P.get("legend.labels"),colors:M._colors?M._colors.map(function(t){return S(t)}):function(t){return S(M(t))},format:h}),"categories"===P.get("colorscale.mode")?b.labels=M._labels:"continuous"===P.get("colorscale.mode")&&"custom"===P.get("legend.labels")?(b.labels=[P.get("legend.labelMin",""),P.get("legend.labelMax","")],""!==P.get("colorscale.rangeCenter")&&void 0!==P.get("colorscale.rangeCenter")&&b.labels.splice(1,0,P.get("legend.labelCenter",""))):"discrete"===P.get("colorscale.mode")&&"custom"===P.get("legend.labels")&&(b.labels=P.get("legend.customLabels",[]).filter(function(t,e){return!a.includes(e)}),b.colors=b.colors.filter(function(t,e){return!a.includes(e)}),b.breaks=b.breaks.filter(function(t,e){return 0===e||e===b.breaks.length-1||!a.includes(e-1)})),o=function(t,e){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var n,r=As(As({title:"",width:100,height:200,horizontal:!0,colors:["white","yellow","red"],breaks:!1,limits:!1,ruler:!1,labels:!1,format:function(t){return String(+t.toFixed(2))},swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,rulerSize:13,tickLength:0,tickWidth:1,highlight:!1,reverse:!1},e.theme?Hl({swatchWidth:Fl(e.theme,"style.chart.legend.swatch.width",14),swatchHeight:Fl(e.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Fl(e.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Fl(e.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Fl(e.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Fl(e.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Fl(e.theme,"style.chart.legend.rowSpacing"),paddingTop:Fl(e.theme,"style.chart.legend.padding.top"),textAlign:Fl(e.theme,"style.chart.legend.alignment"),color:Fl(e.theme,"style.chart.labels.legend.color")},function(t){return null==t}):{}),e),i={},o=Array.isArray(r.colors)&&!r.ruler&&!r.horizontal,e=H(t).append("div.".concat(o?"category":"color","-legend")).classed("horizontal",r.horizontal).classed("vertical",!r.horizontal);r.title&&e.append("div.title.legend-title.label").style("max-width",r.width+"px").append("span").html(r.title);var a,c,u,l,s=o?null:e.append("svg").at({width:r.width,height:r.height}),f=o?null:s.append("g");function h(){bs({measure:function(){return f.node().getBoundingClientRect()},update:function(t){s.attr("height",t.height).attr("width",t.width)}})}function p(t,e){i[t]&&i[t].length&&i[t].forEach(function(t){"function"==typeof t&&t(e)})}return n="function"==typeof r.colors?(e.classed("continuous",!0),xs.continuous(f,r,p)):Array.isArray(r.colors)?(t=r.ruler?"ruler":o?"categories":"ranges",e.classed(t,!0),r.swatches=(a=r.colors,c=r.labels,u=r.breaks,l=r.format,a.map(function(t,e){return{color:t,min:0===e?-1/0:+u[e],max:e===a.length-1?1/0:+u[e+1],label:c?c[e]:0===e?"< ".concat(l(u[1])):e===a.length-1?"â¥ ".concat(l(u[e])):"".concat(l(u[e]),"â").concat(l(u[e+1]))}})),xs[t](o?e:f,r,p)):(e.classed("winner",!0),xs.winner(f,r,p)),h(),n.onupdate&&n.onupdate(h),n=As({container:e,on:function(t,e){return"function"!=typeof e||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(e)),n}},n)}(i.node(),b),setTimeout(function(){bs({measure:function(){return i.select(".color-legend").node().clientHeight},update:function(t){A.setBottomMargin(n?t:0)}})})),r&&(o.on("mouseenter",function(t){A.highlight(t)}),o.on("mouseleave",function(){A.highlight(null)}),_=P.axes(!0).values,w=P.get("colorscale.categoryLabels",{}),A.onHighlight=function(t){if(!t)return o.highlight();var e,n=t.data?t.data[_.name()]:t.properties._cluster?t.properties._val2:t.properties[_.name()];c&&(e=M._stops.filter(function(t,e){return e===M._stops.length-2||0===e?t<=n:t<n}).length-1,n="class-".concat(e)),o.highlight("text"===_.type()?"".concat(t.fill||t.properties._color,"///").concat(w[n]||n):n)}))}}var Is=al("String"),Bs=al("Date");function Ws(t){kl(t);return 1}Mt=(wt=["clear","delete"]).concat(xt="forEach",xn=["get","has","set"]),xn=wt.concat(xn),xt=["add"].concat(wt,xt,"has"),qe?Ws(Mt):al("Map"),qe?Ws(xn):al("WeakMap"),qe?Ws(xt):al("Set");var Hs=Date.now||function(){return(new Date).getTime()};function Fs(t){var e="(?:"+dl(t).join("|")+")";RegExp(e),RegExp(e,"g");return 1}function Ys(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);n=function(t){if(!sl(t))return{};if(tl)return tl(t);function e(){}e.prototype=t;t=new e;return e.prototype=null,t}(t.prototype),i=t.apply(n,i);return sl(i)?i:n}Fs(qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),Fs(function(t){for(var e={},n=dl(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}(qe)),ul.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var qs=Uu(function(o,a){var c=qs.placeholder;return function t(){for(var e=0,n=a.length,r=Array(n),i=0;i<n;i++)r[i]=a[i]===c?arguments[e++]:a[i];for(;e<arguments.length;)r.push(arguments[e++]);return Ys(o,t,this,this,r)}});qs.placeholder=ul;var Us=Uu(function(e,n,r){if(!cl(e))throw new TypeError("Bind must be called on a function");var i=Uu(function(t){return Ys(e,i,n,this,r.concat(t))});return i});function Vs(e,n,r){function i(){var t=Hs()-a;t<n?o=setTimeout(i,n-t):(o=null,r||(u=e.apply(l,c)),o||(c=l=null))}var o,a,c,u,l,t=Uu(function(t){return l=this,c=t,a=Hs(),o||(o=setTimeout(i,n),r&&(u=e.apply(l,c))),u});return t.cancel=function(){clearTimeout(o),o=c=l=null},t}function Gs(t,e,n){if(e=_l(e,n),Ol(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else for(var r=dl(t),i=0,o=r.length;i<o;i++)e(t[r[i]],r[i],t);return t}Uu(function(t,e){var n=(e=Pl(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Us(t[r],t)}return t}),xt=Uu(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),qs(xt,ul,1),qs(function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},2),Uu(function(t,n,r){var i,o;return cl(n)?o=n:(n=vl(n),i=n.slice(0,-1),n=n[n.length-1]),El(t,function(t){var e=o;if(!e){if(i&&i.length&&(t=yl(t,i)),null==t)return;e=t[n]}return null==e?e:e.apply(t,r)})});var Xs=Uu(function(t,e){return e=Pl(e,!0,!0),t=t,i=[],r=Ml(r=function(t){return!Cl(e,t)},void 0),Gs(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i;var r,i});function Zs(t,e){return t._chain?ul(e).chain():e}function Ks(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qs(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function tf(t,e){var n=e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({format:"0.[00]",prepend:"",append:"",minusChar:"â",multiply:1},e),r=n.format,i=n.append,o=n.prepend,a=n.minusChar,e=n.multiply;r.includes("%")&&Number.isFinite(t)&&(t*=.01),t*=e;n=-1<r.indexOf("("),e=Tu(n?t:Math.abs(t)).format(r);return(o&&!n&&t<0&&ef.has(o.trim().toLowerCase())?"".concat(a).concat(o).concat(e.replace("+","")):o&&0<=t&&ef.has(o.trim().toLowerCase())&&r.includes("+")?"".concat(0===t?"Â±":"+").concat(o).concat(e.replace("+","")):0===t&&r.includes("+")?"".concat(o).concat(e.replace("+","Â±")):t<0&&!n?"".concat(o).concat(a).concat(e.replace("+","")):"".concat(o).concat(e)).concat(i)}Uu(function(t,e){return Xs(t,e)}),Uu(function(t){return Ss(Pl(t,!0,!0))}),Uu(function(t){for(var e=t&&function(t,r){var e,i,o=-1/0,a=-1/0;if(null==r||"number"==typeof r&&"object"!=Yn(t[0])&&null!=t)for(var n=0,c=(t=Ol(t)?t:jl(t)).length;n<c;n++)null!=(e=t[n])&&o<e&&(o=e);else r=Ml(r,void 0),Gs(t,function(t,e,n){((i=r(t,e,n))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o}(t,kl).length||0,n=Array(e),r=0;r<e;r++)n[r]=El(t,bl(r));return n}),Gs(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=Vu[e];ul.prototype[e]=function(){var t=this._wrapped;return null!=t&&(n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0]),Zs(this,t)}}),Gs(["concat","join","slice"],function(t){var e=Vu[t];ul.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Zs(this,t)}}),I.prototype.at=Cr,I.prototype.append=Lr,I.prototype.translate=zr,I.prototype.tspans=Rr,Lu.extend(ft),Lu.extend(Du),Lu.extend(function(t,e){var e=e.prototype,n=e.format;e.format=function(t){var i=this,t=t||"YYYY-MM-DDTHH:mm:ssZ",o=this.$locale().seasonSeparator||"-",t=t.replace(/(\[[^\]]+])|BB|B/g,function(t,e){var n=i.$y,r=n+1,t="B"===t,n=t?[String(n).slice(-2),2]:[n,4],r=[String(r).slice(-2),2];return e||"".concat(t?"'":"").concat((e=i.$utils()).s.apply(e,n.concat(["0"]))).concat(o).concat(t?"'":"").concat((t=i.$utils()).s.apply(t,r.concat(["0"])))});return n.bind(this)(t)}}),dw.visualization.register("d3-maps-core",function(){var At;return{init:function(t){this.svg=t.node(),this.mapKey=new Cs({vis:this});try{var e=this.chart().locales.numeral;e&&(Ru||(Tu.register("locale","dw",e),Tu.locale("dw"),Ru=!0));e=this.chart().locales.dayjs;e&&Lu.locale(e)}catch(t){console.warn("Couldnt register locale",t)}},initBaseMap:function(ct,t,ut){var e,n,r,lt=this,st=lt.size(),ft=lt.axes(),ht=lt.theme(),pt=JSON.parse('{"content":{"type":"Topology","bbox":[478.5066834001128,249.10051164345919,481.0245846871813,251.2031460861871],"objects":{"regions":{"type":"GeometryCollection","geometries":[{"type":"Polygon","arcs":[[0]],"properties":{"state_id":"HI","name_lc":"Hawaii","id":15,"name":"HAWAII","cx":6.049999999999999,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[1]],"properties":{"state_id":"AK","name_lc":"Alaska","id":2,"name":"ALASKA","cx":5.949999999999999,"cy":4.249998915681976}},{"type":"Polygon","arcs":[[2]],"properties":{"state_id":"CA","name_lc":"California","id":6,"name":"CALIFORNIA","cx":6.050000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[3]],"properties":{"state_id":"OR","name_lc":"Oregon","id":41,"name":"OREGON","cx":6.050000000000001,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[4]],"properties":{"state_id":"WA","name_lc":"Washington","id":53,"name":"WASHINGTON","cx":6.050000000000001,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[5]],"properties":{"state_id":"AZ","name_lc":"Arizona","id":4,"name":"ARIZONA","cx":6.15,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[6]],"properties":{"state_id":"NV","name_lc":"Nevada","id":32,"name":"NEVADA","cx":6.15,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[7]],"properties":{"state_id":"UT","name_lc":"Utah","id":49,"name":"UTAH","cx":6.15,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[8]],"properties":{"state_id":"ID","name_lc":"Idaho","id":16,"name":"IDAHO","cx":6.15,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[9]],"properties":{"state_id":"NM","name_lc":"New Mexico","id":35,"name":"NEW MEXICO","cx":6.25,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[10]],"properties":{"state_id":"CO","name_lc":"Colorado","id":8,"name":"COLORADO","cx":6.25,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[11]],"properties":{"state_id":"WY","name_lc":"Wyoming","id":56,"name":"WYOMING","cx":6.249999999999998,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[12]],"properties":{"state_id":"MT","name_lc":"Montana","id":30,"name":"MONTANA","cx":6.25,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[13]],"properties":{"state_id":"LA","name_lc":"Louisiana","id":22,"name":"LOUISIANA","cx":6.350000000000001,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[14]],"properties":{"state_id":"KS","name_lc":"Kansas","id":20,"name":"KANSAS","cx":6.35,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[15]],"properties":{"state_id":"NE","name_lc":"Nebraska","id":31,"name":"NEBRASKA","cx":6.350000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[16]],"properties":{"state_id":"SD","name_lc":"South Dakota","id":46,"name":"SOUTH DAKOTA","cx":6.350000000000001,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[17]],"properties":{"state_id":"ND","name_lc":"North Dakota","id":38,"name":"NORTH DAKOTA","cx":6.35,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[18]],"properties":{"state_id":"TX","name_lc":"Texas","id":48,"name":"TEXAS","cx":6.350000000000001,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[19]],"properties":{"state_id":"AR","name_lc":"Arkansas","id":5,"name":"ARKANSAS","cx":6.449999999999999,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[20]],"properties":{"state_id":"MO","name_lc":"Missouri","id":29,"name":"MISSOURI","cx":6.450000000000001,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[21]],"properties":{"state_id":"IL","name_lc":"Illinois","id":17,"name":"ILLINOIS","cx":6.450000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[22]],"properties":{"state_id":"IA","name_lc":"Iowa","id":19,"name":"IOWA","cx":6.449999999999999,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[23]],"properties":{"state_id":"MN","name_lc":"Minnesota","id":27,"name":"MINNESOTA","cx":6.449999999999999,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[24]],"properties":{"state_id":"MS","name_lc":"Mississippi","id":28,"name":"MISSISSIPPI","cx":6.550000000000001,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[25]],"properties":{"state_id":"KY","name_lc":"Kentucky","id":21,"name":"KENTUCKY","cx":6.550000000000001,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[26]],"properties":{"state_id":"IN","name_lc":"Indiana","id":18,"name":"INDIANA","cx":6.550000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[27]],"properties":{"state_id":"WI","name_lc":"Wisconsin","id":55,"name":"WISCONSIN","cx":6.550000000000001,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[28]],"properties":{"state_id":"AL","name_lc":"Alabama","id":1,"name":"ALABAMA","cx":6.649999999999999,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[29]],"properties":{"state_id":"TN","name_lc":"Tennessee","id":47,"name":"TENNESSEE","cx":6.649999999999999,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[30]],"properties":{"state_id":"WV","name_lc":"West Virginia","id":54,"name":"WEST VIRGINIA","cx":6.649999999999999,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[31]],"properties":{"state_id":"OH","name_lc":"Ohio","id":39,"name":"OHIO","cx":6.649999999999999,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[32]],"properties":{"state_id":"MI","name_lc":"Michigan","id":26,"name":"MICHIGAN","cx":6.649999999999999,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[33]],"properties":{"state_id":"GA","name_lc":"Georgia","id":13,"name":"GEORGIA","cx":6.75,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[34]],"properties":{"state_id":"SC","name_lc":"South Carolina","id":45,"name":"SOUTH CAROLINA","cx":6.75,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[35]],"properties":{"state_id":"VA","name_lc":"Virginia","id":51,"name":"VIRGINIA","cx":6.75,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[36]],"properties":{"state_id":"PA","name_lc":"Pennsylvania","id":42,"name":"PENNSYLVANIA","cx":6.75,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[37]],"properties":{"state_id":"FL","name_lc":"Florida","id":12,"name":"FLORIDA","cx":6.850000000000001,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[38]],"properties":{"state_id":"NC","name_lc":"North Carolina","id":37,"name":"NORTH CAROLINA","cx":6.85,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[39]],"properties":{"state_id":"MD","name_lc":"Maryland","id":24,"name":"MARYLAND","cx":6.85,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[40]],"properties":{"state_id":"NJ","name_lc":"New Jersey","id":34,"name":"NEW JERSEY","cx":6.85,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[41]],"properties":{"state_id":"NY","name_lc":"New York","id":36,"name":"NEW YORK","cx":6.85,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[42]],"properties":{"state_id":"DE","name_lc":"Delaware","id":10,"name":"DELAWARE","cx":6.949999999999999,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[43]],"properties":{"state_id":"CT","name_lc":"Connecticut","id":9,"name":"CONNECTICUT","cx":6.949999999999999,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[44]],"properties":{"state_id":"MA","name_lc":"Massachusetts","id":25,"name":"MASSACHUSETTS","cx":6.949999999999999,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[45]],"properties":{"state_id":"VT","name_lc":"Vermont","id":50,"name":"VERMONT","cx":6.95,"cy":4.149998941285872}},{"type":"Polygon","arcs":[[46]],"properties":{"state_id":"RI","name_lc":"Rhode Island","id":44,"name":"RHODE ISLAND","cx":7.050000000000001,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[47]],"properties":{"state_id":"NH","name_lc":"New Hampshire","id":33,"name":"NEW HAMPSHIRE","cx":7.05,"cy":4.149998941285872}},{"type":"Polygon","arcs":[[48]],"properties":{"state_id":"ME","name_lc":"Maine","id":23,"name":"MAINE","cx":7.050000000000001,"cy":4.249998915681976}},{"type":"Polygon","arcs":[[49]],"properties":{"state_id":"OK","name_lc":"Oklahoma","id":40,"name":"OKLAHOMA","cx":6.249999999999998,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[50]],"properties":{"state_id":"MP","name_lc":"Northern Mariana Islands","id":69,"name":"NORTHERN MARIANA ISLANDS","cx":5.949999999999999,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[51]],"properties":{"state_id":"GU","name_lc":"Guam","id":66,"name":"GUAM","cx":5.949999999999999,"cy":3.449999094778627}},{"type":"Polygon","arcs":[[52]],"properties":{"state_id":"AS","name_lc":"American Samoa","id":60,"name":"AMERICAN SAMOA","cx":6.049999999999999,"cy":3.449999094778627}},{"type":"Polygon","arcs":[[53]],"properties":{"state_id":"PR","name_lc":"Puerto Rico","id":72,"name":"PUERTO RICO","cx":6.950000000000001,"cy":3.449999094778627}},{"type":"Polygon","arcs":[[54]],"properties":{"state_id":"VI","name_lc":"US Virgin Islands","id":78,"name":"US VIRGIN ISLANDS","cx":7.050000000000001,"cy":3.449999094778627}}]}},"arcs":[[[479.07490730684236,250.62754179655136,null],[479.074801423456,250.80559454705275,0.015857208198125663],[478.89668340011286,250.80547719025316,0.015857208198125663],[478.8968057524699,250.6274238220224,0.015855798038806383],[479.07490730684236,250.62754179655136,null]],[[478.85573802794346,249.10063414282862,null],[478.8556193063686,249.2786863015201,0.01584583128989794],[478.6776284954599,249.27856441763416,0.01584583128989794],[478.6777656828223,249.10051164345919,0.015844243290304434],[478.85573802794346,249.10063414282862,null]],[[479.07240817661193,249.97143429126163,null],[479.07231891286756,250.14948675528822,0.015853609087227064],[478.89424100978874,250.14938881426613,0.015853609087227064],[478.8943474089347,249.97133584187867,0.015852129712725364],[479.07240817661193,249.97143429126163,null]],[[479.0725189975589,249.75421031450068,null],[479.07242800482663,249.93226274802802,0.015851742124214876],[478.8943710434473,249.9321641868393,0.015851742124214876],[478.89447950348205,249.75411124525732,0.015850233191602763],[479.0725189975589,249.75421031450068,null]],[[479.0726319277965,249.53698652476461,null],[479.0725392061435,249.71503879282352,0.01584982709994997],[478.8945035913813,249.71493961184206,0.01584982709994997],[478.8946141122248,249.53688683603747,0.01584828861144688],[479.0726319277965,249.53698652476461,null]],[[479.28955970368054,250.18875443780254,null],[479.28949266912775,250.36680629744055,0.01585543290781651],[479.1113936548837,250.36672977289123,0.01585543290781651],[479.11147749281724,250.18867751328415,0.01585397324461385],[479.28955970368054,250.18875443780254,null]],[[479.28964295561246,249.97153104824892,null],[479.28957459693737,250.1495830126551,0.01585361401057933],[479.1114961193287,250.1495060001697,0.01585361401057933],[479.11158161329746,249.97145363603306,0.01585212478940445],[479.28964295561246,249.97153104824892,null]],[[479.2897278229154,249.75430768069094,null],[479.2896581401704,249.9323596148988,0.015851747046399398],[479.1116006041294,249.93228211476867,0.015851747046399398],[479.111687754068,249.75422978107113,0.01585022826944787],[479.2897278229154,249.75430768069094,null]],[[479.28981430552653,249.53708449978777,null],[479.289743298763,249.71513626883078,0.015849832020950947],[479.11170710920624,249.71505828134988,0.015849832020950947],[479.1117959150503,249.5370061130601,0.015848283690472934],[479.28981430552653,249.53708449978777,null]],[[479.50682049065455,250.1888250816986,null],[479.506773956135,250.36687657402447,0.01585543783286749],[479.3286745049134,250.36682084529767,0.01585543783286749],[479.32873784273227,250.1887690616965,0.01585396831958364],[479.50682049065455,250.1888250816986,null]],[[479.5068782830696,249.97160214002264,null],[479.50683082936087,250.1496537373358,0.01585361893448188],[479.32875191467525,250.14959765327217,0.01585361893448188],[479.32881650359565,249.97154576485747,0.015852119865517378],[479.5068782830696,249.97160214002264,null]],[[479.50693719685523,249.75437922007282,null],[479.5068888239936,249.93243078740875,0.01585175196913593],[479.3288308507755,249.93237434822046,0.01585175196913593],[479.32889669074785,249.75432248995833,0.015850223346729694],[479.50693719685523,249.75437922007282,null]],[[479.5069972319677,249.53715648650584,null],[479.5069479399889,249.7152078889,0.01584983694250904],[479.32891131315375,249.71515109480114,0.01584983694250904],[479.3289784041296,249.53709940165763,0.0158482787689394],[479.5069972319677,249.53715648650584,null]],[[479.72404969539446,250.4078732459159,null],[479.72402417933046,250.58592426091863,0.015857227901824335],[479.5459041336933,250.58588955263005,0.015857227901824335],[479.545946118355,250.40783835493582,0.01585577833519347],[479.72404969539446,250.4078732459159,null]],[[479.7240816582737,250.18887022217854,null],[479.7240556237166,250.36692147979736,0.015855442758473632],[479.5459558729394,250.36688654681072,0.015855442758473632],[479.54599871074004,250.1888351066092,0.015853963393986974],[479.7240816582737,250.18887022217854,null]],[[479.7241139912591,249.97164756668977,null],[479.7240874424452,250.1496989294359,0.015853623858940187],[479.54600822813586,250.14966377371036,0.015853623858940187],[479.5460519121051,249.97161222849044,0.015852114941078237],[479.7241139912591,249.97164756668977,null]],[[479.72414695161535,249.75442493275492,null],[479.72411988856487,249.93247626566512,0.015851756892429687],[479.5460616156543,249.93244088733363,0.015851756892429687],[479.54610614575876,249.75438937205956,0.015850218423451932],[479.72414695161535,249.75442493275492,null]],[[479.72418053931796,249.53720248502913,null],[479.72415296205094,249.71525365314014,0.015849841864624157],[479.546116035454,249.7152180523369,0.015849841864624157],[479.54616141166076,249.53716670197292,0.01584827384683958],[479.72418053931796,249.53720248502913,null]],[[479.72401862236853,250.6250954473441,null],[479.72399362060344,250.8031460861871,0.015858950256838016],[479.54585385172874,250.8031116009009,0.015858950256838016],[479.5458949901527,250.62506077925946,0.015857530247989016],[479.72401862236853,250.6250954473441,null]],[[479.94133624392737,250.4078927574535,null],[479.94133081951856,250.5859436702926,0.01585723282914787],[479.7632106117847,250.58592962392916,0.01585723282914787],[479.76323250476133,250.4078786371553,0.015855773407880396],[479.94133624392737,250.4078927574535,null]],[[479.94134303885176,250.18888985930957,null],[479.9413375042175,250.3669410148256,0.015855447684649266],[479.7632375913068,250.36692687752748,0.015855447684649266],[479.76325992915446,250.1888756481207,0.015853958467816485],[479.94134303885176,250.18888985930957,null]],[[479.94134991245625,249.9716673283186,null],[479.9413442684972,250.14971858902288,0.015853628783968406],[479.7632648920175,250.1497043615829,0.015853628783968406],[479.76328767110147,249.97165302703198,0.015852110016059243],[479.94134991245625,249.9716673283186,null]],[[479.9413569194323,249.75444481880663,null],[479.9413511661527,249.93249604973641,0.01585176181628961],[479.7632927310346,249.9324817322084,0.01585176181628961],[479.76331595133746,249.75443042747645,0.015850213499596724],[479.9413569194323,249.75444481880663,null]],[[479.9413640597747,249.5372224954281,null],[479.9413581971788,249.7152735616207,0.01584984678730254],[479.7633211083368,249.715259154059,0.01584984678730254],[479.7633447698414,249.5372080141091,0.0158482689241706],[479.9413640597747,249.5372224954281,null]],[[480.1586228377225,250.40788692878337,null],[480.1586375049605,250.58593787214173,0.01585723775704069],[479.98051727252107,250.58594448768287,0.01585723775704069],[479.9805190738463,250.40789357914622,0.01585576847998295],[480.1586228377225,250.40788692878337,null]],[[480.1586044647023,250.18888399312098,null],[480.1586194299825,250.36693517913812,0.015855452611399652],[479.9805194923606,250.3669418375076,0.015855452611399652],[479.9805213302892,250.1888906862914,0.015853953541070928],[480.1586044647023,250.18888399312098,null]],[[480.15858587893626,249.97166142493887,null],[480.15860113982353,250.14971271612603,0.015853633709561603],[479.9805217386271,250.1497194169504,0.015853633709561603],[479.98052361286005,249.97166816054343,0.015852105090459038],[480.15858587893626,249.97166142493887,null]],[[480.1585669325426,249.75443887825813,null],[480.1585824890252,249.93249013965246,0.015851766740715735],[479.9805240291847,249.93249688290638,0.015851766740715735],[479.9805259397206,249.75444565627132,0.01585020857516513],[480.1585669325426,249.75443887825813,null]],[[480.3759093091317,250.40785575989688,null],[480.37594406803913,250.58590686645752,0.01585724268551415],[480.19782394828525,250.58593414391294,0.01585724268551415],[480.19780565796185,250.40788318093058,0.015855763551503487],[480.3759093091317,250.40785575989688,null]],[[480.375865768139,250.18885262360402,null],[480.3759012333564,250.36690397272625,0.015855457538733606],[480.19780140844557,250.36693142677316,0.015855457538733606],[480.197782746458,250.1888802211437,0.015853948613732384],[480.375865768139,250.18885262360402,null]],[[480.3758217229744,249.97162985654168,null],[480.375857888731,250.14968131073664,0.015853638635743763],[480.19777860027125,250.14970893983536,0.015853638635743763],[480.1977595696561,249.97165762904757,0.015852100164274845],[480.3758217229744,249.97162985654168,null]],[[480.3757768231828,249.7544071111004,null],[480.3758136894508,249.93245853540432,0.015851771665734586],[480.19775534237283,249.93248633945032,0.015851771665734586],[480.19773594314466,249.7544350584672,0.015850203650151818],[480.3757768231828,249.7544071111004,null]],[[480.3757310687972,249.53718455193592,null],[480.3757686355496,249.7152358113851,0.015849856634383062],[480.19773163476816,249.7152637902729,0.015849856634383062],[480.1977118669413,249.5372126740574,0.0158482590770771],[480.3757310687972,249.53718455193592,null]],[[480.59319549050707,250.40779925074804,null],[480.5932503411374,250.58585065319463,0.015857247614580558],[480.41513047146003,250.58589859260422,0.015857247614580558],[480.4150920894599,250.40784744249308,0.015855758622425074],[480.59319549050707,250.40779925074804,null]],[[480.5931267814756,250.18879575071193,null],[480.593182746684,250.36684739554386,0.015855462466648332],[480.4150831719066,250.3668956453088,0.015855462466648332],[480.4150440099744,250.18884425266202,0.01585394368580675],[480.5931267814756,250.18879575071193,null]],[[480.59305727684597,249.97157262307957,null],[480.5931143475263,250.1496243728078,0.015853643562512183],[480.4150353092567,250.1496729302221,0.015853643562512183],[480.4149953737648,249.97162143252856,0.015852095237497452],[480.59305727684597,249.97157262307957,null]],[[480.59298642358925,249.75434951728525,null],[480.59304459969775,249.93240123694443,0.01585177659133593],[480.4149865028673,249.9324501018244,0.01585177659133593],[480.41494579384613,249.7543986340481,0.015850198724537506],[480.59298642358925,249.75434951728525,null]],[[480.81057247781854,250.6249405982721,null],[480.8106459097274,250.8029920536073,0.015858974904860795],[480.63250670415425,250.80306021427248,0.015858974904860795],[480.63244940900717,250.62500912024217,0.015857505599938714],[480.81057247781854,250.6249405982721,null]],[[480.8103873370257,250.18871337436002,null],[480.81046380231055,250.36676544750733,0.015855467395164847],[480.6323646150885,250.36683449306162,0.015855467395164847],[480.63230495315213,250.18878278079276,0.015853938757265547],[480.8103873370257,250.18871337436002,null]],[[480.8102923728263,249.97148972446644,null],[480.81037034851647,250.14954190225453,0.01585364848987285],[480.63229169789037,250.1496113880569,0.01585364848987285],[480.6322308574614,249.97155957093196,0.015852090310116224],[480.8102923728263,249.97148972446644,null]],[[480.8101955659988,249.7542660967252,null],[480.8102750520345,249.9323182441864,0.015851781517530996],[480.6322173429364,249.932388169974,0.015851781517530996],[480.63215532406156,249.75433638295866,0.015850193798321817],[480.8101955659988,249.7542660967252,null]],[[480.81009691661484,249.5370426557968,null],[480.8101779129375,249.71509463796352,0.015849866483821196],[480.6321415502835,249.71516500347104,0.015849866483821196],[480.6320783530084,249.53711338153104,0.01584824922761369],[480.81009691661484,249.5370426557968,null]],[[481.0275268431913,249.9713811605776,null],[481.0276257240087,250.14943389895373,0.01585365341783794],[480.8495475984791,250.1495243132479,0.01585365341783794],[480.8494658530215,249.9714720441647,0.01585208538212671],[481.0275268431913,249.9713811605776,null]],[[481.0274040826485,249.75415684929362,null],[481.0275048787299,249.93220955700525,0.01585178644432966],[480.8494476948488,249.93230054380575,0.01585178644432966],[480.84936436602766,249.75424830510443,0.015850188871498],[481.0274040826485,249.75415684929362,null]],[[481.0272789855661,249.5369327252378,null],[481.02738169683727,249.71498526731423,0.01584987140943686],[480.84934585952175,249.715076826276,0.01584987140943686],[480.84926094739853,249.53702475292462,0.015848244301974516],[481.0272789855661,249.5369327252378,null]],[[481.0271504978421,249.31792843226094,null],[481.02725513992755,249.49598067071003,0.015847892029536965],[480.8492412340429,249.49607280617036,0.015847892029536965],[480.8491547257006,249.31802103615627,0.01584623514791568],[481.0271504978421,249.31792843226094,null]],[[481.2444602608099,249.53679680614124,null],[481.2445846871813,249.7148500404973,0.01584987633565999],[481.0665495127203,249.71496279305254,0.01584987633565999],[481.06644288562353,249.53691013592163,0.01584823937571283],[481.2444602608099,249.53679680614124,null]],[[481.2443046083608,249.31779166213803,null],[481.2444313737539,249.4958445924383,0.01584789695456166],[481.0664181308797,249.4959580549395,0.01584789695456166],[481.06630949935766,249.3179057015072,0.015846230222859158],[481.2443046083608,249.31779166213803,null]],[[481.244147379469,249.10056756786216,null],[481.24427646478046,249.27862006105138,0.015845885419501445],[481.0662853817343,249.27873422729223,0.015845885419501445],[481.0661747621575,249.10068231061348,0.015844189160717965],[481.244147379469,249.10056756786216,null]],[[479.50676335977175,250.40782839414177,null],[479.5067177520133,250.5858796439914,0.015857222975064755],[479.3285980058638,250.5858242737269,0.015857222975064755],[479.3286600822751,250.40777273242833,0.015855783261941026],[479.50676335977175,250.40782839414177,null]],[[478.85573802794346,250.62754179655136,null],[478.8556193063686,250.80559454705275,0.01584583128989794],[478.6776284954599,250.80547719025316,0.01584583128989794],[478.6777656828223,250.6274238220224,0.015844243290304434],[478.85573802794346,250.62754179655136,null]],[[478.85573802794346,250.84754179655135,null],[478.8556193063686,251.02559454705275,0.01584583128989794],[478.6776284954599,251.02547719025316,0.01584583128989794],[478.6777656828223,250.8474238220224,0.015844243290304434],[478.85573802794346,250.84754179655135,null]],[[479.07490730684236,250.84754179655135,null],[479.074801423456,251.02559454705275,0.015857208198125663],[478.89668340011286,251.02547719025316,0.015857208198125663],[478.8968057524699,250.8474238220224,0.015855798038806383],[479.07490730684236,250.84754179655135,null]],[[481.03057247781857,250.8449405982721,null],[481.0306459097274,251.0229920536073,0.015858974904860795],[480.8525067041542,251.02306021427248,0.015858974904860795],[480.8524494090072,250.84500912024217,0.015857505599938714],[481.03057247781857,250.8449405982721,null]],[[481.25057247781854,250.8449405982721,null],[481.2506459097274,251.0229920536073,0.015858974904860795],[481.07250670415425,251.02306021427248,0.015858974904860795],[481.07244940900716,250.84500912024217,0.015857505599938714],[481.25057247781854,250.8449405982721,null]]]},"meta":{"label":"USA Â» States (squares)","regions":"regions","tags":["cartogram","tilegram"],"projection":{"type":"geoAzimuthalEqualArea","rotate":[-6.51798260225669,-3.8779912827201346]},"weight":-99,"keys":[{"value":"name_lc","label":"Names","description":"The written name of the state."},{"value":"id","label":"ID","description":"Numerical code of the state."},{"value":"state_id","label":"Codes","description":"Abbreviation of the state."}],"extent":{"padding":false,"exclude":{}},"slug":"usa-states-squares"},"__id":"us-states-square"}'),dt=0,gt=0,mt=st[0],yt=st[1],vt=lt.get("max-map-height",650),i=new URLSearchParams(window.location.search),bt="1"===i.get("fitchart")||"1"===i.get("fitheight"),o="1"===i.get("svgonly"),_t="custom_upload"===t?lt.get("layers",{}):{};function wt(t,e,n){var r=xt(t,e,n),e=r.extent,r=r.h;return t.fitExtent(e,n),r||yt}function xt(t,e,n){var r,i,e=(r=e,i=(yt-yt*(1-dt))/2,[parseInt((mt-mt*(1-dt))/2,10)+r,parseInt(i,10)+r]),i=St(e,2),r=i[0],e=i[1],i=lt.get("map-align","center");return bt?function(t,e,n,r,i,o,a){t=zc().projection(t).bounds(a),a=(t[1][1]-t[0][1])/(t[1][0]-t[0][0]),t=e/n;return{extent:[[i+(a<t&&"right"===r?(n-2*o)*a:0),o],[e-i-(a<t&&"left"===r?(n-2*o)*a:0),n-o]],h:n}}(t,mt||50,yt||50,i,r||0,e||0,n):function(t,e,n,r,i,o,a){a=zc().projection(t).bounds(a),a=(a[1][1]-a[0][1])/(a[1][0]-a[0][0]),n=Math.min(n,e*a),a=e-2*i-n/a;return a<0&&(r="left"===r?"right":"right"===r?"left":r),{extent:[[i+("right"===r?a:0),o],[e-i-("left"===r?a:0),n-o]],h:n}}(t,mt||50,+vt,i,r||0,e||0,n)}function Mt(){return lt.theme().colors.background}pt?(e=H(ct),ne(Mt()).l<50&&e.classed("color-invert",!0),n=e.append("div.map-outer"),r=!1,i=window.devicePixelRatio||1,o||(r=n.append("canvas").at({width:mt*i,height:yt*i}).st({width:mt,height:yt})),t=n.append("svg.svg-main").classed(t,!0).st({overflow:"hidden",position:"relative"}).at({width:mt,height:yt}),lt.init(t),["borders","exteriorBorders","innerborders"].forEach(function(t){_t[t]&&(pt.meta[t]=_t[t])}),function(a,c,f,i,u,h){var t=lt.get("basemap");c.maxZoom=c.maxZoom||("custom_upload"===t?20:8);var n,r,e=(y=(r=ht,{getBorder:function(t,e){return Cu(r,"vis.".concat(n.meta.id,".borders.").concat(t),Cu(r,"vis.d3-maps-core.borders.".concat(t),e))},getThemeProp:function(t,e){return Cu(r,"vis.".concat(n.meta.id,".").concat(t),Cu(r,"vis.d3-maps-core.".concat(t),e))}})).getBorder,l=y.getThemeProp,o="d3-maps-choropleth"===(n=lt).meta.id?Cu(ht,"colors.background","#ffffff"):"#888",s="d3-maps-choropleth"===lt.meta.id?"#eeeeed":"#f8f8f8",p="d3-maps-choropleth"===lt.meta.id?.5:1,d=u?u.node().getContext("2d"):null,g=[],m=[],y=c.projection,v=c.extent;"custom_upload"===t&&"string"==typeof _t.extent&&(v.layer=_t.extent);var b,_,w,x,M,t=!function(t){if(null==t)return 1;var e=kl(t);return"number"==typeof e&&(fl(t)||Is(t)||$l(t))?0===e:0===kl(dl(t))}(v.exclude);function A(t,e){for(;0<e;){var n=(e+1>>1)-1,r=_[n];if(0<=ju(t,r))break;_[r._=e]=r,_[t._=e=n]=t}}function S(t,e){for(;;){var n=e+1<<1,r=n-1,i=e,o=_[i];if(r<w&&ju(_[r],o)<0&&(o=_[i=r]),n<w&&ju(_[n],o)<0&&(o=_[i=n]),i===e)break;_[o._=e]=o,_[t._=e=i]=t}}function k(t){M.remove(t),t[1][2]=b(t),M.push(t)}u&&(x=(N=a).transform?ku(N.transform):zu,_=[],w=0,(E={}).push=function(t){return A(_[t._=w]=t,w++),w},E.pop=function(){if(!(w<=0)){var t,e=_[0];return 0<--w&&(t=_[w],S(_[t._=0]=t,0)),e}},E.remove=function(t){var e,n=t._;if(_[n]===t)return n!==--w&&(ju(e=_[w],t)<0?A:S)(_[e._=n]=e,n),n},M=E,null==b&&(b=Pu),N.arcs.map(function(t){for(var e,n=[],r=0,i=1,o=(t=t.map(x)).length-1;i<o;++i)(e=[t[i-1],t[i],t[i+1]])[1][2]=b(e),n.push(e),M.push(e);for(t[0][2]=t[o][2]=1/0,i=0,o=n.length;i<o;++i)(e=n[i]).previous=n[i-1],e.next=n[i+1];for(;e=M.pop();){var a=e.previous,c=e.next;e[1][2]<r?e[1][2]=r:r=e[1][2],a&&(a.next=c,a[2]=e[2],k(a)),c&&(c.previous=a,c[0]=e[0],k(c))}return t}),N.bbox,N.objects);var O=Ou(a,a.objects[c.regions]),E="geoNaturalEarth"===y.type?"geoNaturalEarth1":y.type,N=y.rotate,y=y.center,$=!1===v.padding||void 0===v.padding?0:v.padding,P=Js(Js({},_u),{},{geoAlbersUsaTerritories:Au.geoAlbersUsaTerritories})[E]();N&&P.rotate&&P.rotate(N);var j,N=JSON.stringify(pt.content).length,z=u?function(t){var n,r,e=0<arguments.length&&void 0!==t?t:.5,i=e,o=Tc({point:function(t,e,n){(!n||i<=n)&&(e=c([t,e]),this.stream.point(e[0],e[1]))}}),a=gu().stream,c=gu();return c.stream=function(t){var e=c.postclip()||a;return n&&r===t?n:n=o.stream(e(r=t))},c.areaThreshold=function(t){i=t*e},c.log=function(){},c}(5e5<N?c.weight||.01:-99):gu(),T=t?(j=O.features,Object.keys(v.exclude).forEach(function(n){v.exclude[n].forEach(function(e){j=j.filter(function(t){return t.properties[n]!==e})})}),{type:"FeatureCollection",features:j}):O;v.layer&&!lt.get("hide-empty-regions")&&(T=Ou(a,a.objects[v.layer])),yt=wt(z,$,T),y&&z.center&&console.warn("todo: what to do with projection center?");var L=zc().projection(z),D=i.append("g.map"),R=D.append("rect.background").attr("width",mt).attr("height",yt);v.layer&&!lt.get("hide-empty-regions")&&(I=l("backgroundLayer.color",s),C=l("backgroundLayer.opacity",p),u?(s=(y=Bt(I)).r,p=y.g,y=y.b,g.push({id:"bg",style:{fill:"rgba(".concat(s,",").concat(p,",").concat(y,",").concat(C,")")},features:[Ou(a,a.objects[v.layer])]})):m.push({id:"bg",selection:D.append("path.bg.geo").datum(Ou(a,a.objects[v.layer])).attr("d",L).st({fill:I,opacity:C})}));var C,I,B=(H=((I=O.features).forEach(function(t){t.anchor=nt(t)}),u?g.push({id:"region",features:I,style:{fill:"#999999"}}):(C=(B=(H=D.append("g.regions")).selectAll(".region").data(I).enter().append("g.region")).append("path.geo.region").attr("d",function(t){return L(t)}).classed("highlight",function(t){return"#id="===location.hash.substr(0,4)&&-1<location.hash.substr(4).split(",").indexOf(t.properties.RS)}),m.push({id:"gregion",selection:B}),m.push({id:"region",selection:C})),{regionShapes:I,regions:H,gregion:B,region:void 0})).regionShapes,W=H.regions,H=[{id:"regions",defaultStyle:{lineWidth:1,stroke:o},meshFunc:function(t,e){return t!==e}},{id:"borders",defaultStyle:{lineWidth:3.33,stroke:o},meshFunc:function(t,e){return t!==e}},{id:"innerborders",defaultStyle:{lineWidth:.3,stroke:o,opacity:.9},meshFunc:function(t,e){return!0}},{id:"exteriorBorders",defaultStyle:{lineWidth:2,stroke:o,strokeDasharray:"2,8"},meshFunc:function(t,e){return!0}}];e("outerBorder")&&(c.outerBorder=c.regions,H.push({id:"outerBorder",defaultStyle:{lineWidth:1,stroke:o},meshFunc:function(t,e){return t===e}})),H.forEach(function(t){var e,n,r=t.id,i=t.defaultStyle,o=t.meshFunc;c[r]&&(e={stroke:l("borders.".concat(r,".stroke"),i.stroke),lineWidth:l("borders.".concat(r,".scale"),i.lineWidth),strokeDasharray:l("borders.".concat(r,".strokeDasharray"),i.strokeDasharray),opacity:i.opacity},n=function(t){return Nu(t,function(t,e,n){var r,i,o,a,c,u,l;if(1<arguments.length)a=n,u=[],l=[],function t(e){switch((c=e).type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":f(e.arcs);break;case"MultiLineString":case"Polygon":h(e.arcs);break;case"MultiPolygon":e.arcs.forEach(h)}}(e),l.forEach(null==a?function(t){u.push(t[0].i)}:function(t){a(t[0].g,t[t.length-1].g)&&u.push(t[0].i)}),r=u;else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;function s(t){var e=t<0?~t:t;(l[e]||(l[e]=[])).push({i:t,g:c})}function f(t){t.forEach(s)}function h(t){t.forEach(f)}return{type:"MultiLineString",arcs:$u(t,r)}}.apply(this,arguments))}(a,a.objects[c[r]],o),u?(i=(t=Bt(e.stroke)).r,o=t.g,t=t.b,g.push({id:r,style:{stroke:"rgba(".concat(i,",").concat(o,",").concat(t,",").concat(e.opacity||1,")"),lineWidth:.45*e.lineWidth,dash:e.strokeDasharray?e.strokeDasharray.split(",").map(function(t){return.45*Number(t)}):null},features:[n]})):(n=D.append("path.geo.borders.".concat(r)).datum(n).st(e).attr("d",L),m.push({id:r,type:"border",selection:n,style:e})))}),u||"d3-maps-choropleth"!==lt.meta.id||(H=D.append("g.outlines").selectAll(".region-outline").data(B).enter().append("path.geo.region-outline").attr("d",L),m.push({id:"outlines",type:"border",selection:H,style:{lineWidth:Cu(ht,"vis.d3-maps-choropleth.borders.hoverOutline.scale",3)}}));var F,Y=[],q={};bt||(i.at({height:yt}),u&&u.at({height:yt*h}).st({height:yt}));var U={svg:i,canvas:u,scale:1,meta:c,getZoom:Q,g:D,data:B,proj:z,mapProj:P,path:L,feat:O,svgBorderList:m.filter(function(t){return"border"===t.type}),svgLayers:m,canvasLayers:g,isDatawrapperEditor:lt.chart().inEditor(),draw:J,getThemeBgColor:Mt,SVG_TO_CANVAS_SCALE:.45,renderPlaces:function(){function t(){r.each(function(t){var e=t.text.replace(/-/g,"- ");t.__lines=(e?e.match(f)?e.trim().split(f):Hr(e,10):[]).map(function(t){return t.replace(/- /g,"-")}),"t"===t.align.split("")[0]&&t.__lines.reverse()}),a.attr("transform",function(t){var e=t.align.split(""),n=St(e,2),r=n[0],i=n[1],e=Cu(l,"vis.d3-maps-core.places.".concat(t.type,".label.translateX"),0),n=Cu(l,"vis.d3-maps-core.places.".concat(t.type,".label.translateY"),0),i=(t.symbolSize+e)*{l:1,c:0,r:-1}[i],r=(t.fontSize+t.symbolSize+n)*{t:-1,m:0,b:1}[r];return"translate(".concat(i,",").concat(r,")")}),r.selectAll("text").style("text-anchor",function(t){return{l:"end",c:"middle",r:"start"}[t.align.split("")[1]]}),c.g.selectAll("tspan").remove(),r.selectAll("text").tspans(function(t){return t.__lines},function(t){var e=t.align;return((t.fontSize||10)+4)*{t:-1,m:1,b:1}[e.split("")[0]]})}var e,n,r,i,o,a,c,u,l,s,f,h;c=(e={map:U,vis:lt,theme:ht,getZoom:Q}).map,u=e.vis,l=e.theme,s=(0,e.getZoom)(),f=/<br *\/?>|\n/g,h=Iu(u.get("labels.places")).filter(function(t,e){return t.origAlign=t.align,t.visible}),c.g.selectAll("g.places").remove(),h.length&&u.get("labels.enabled")&&"places"===u.get("labels.type")&&(n=c.g.append("g.places"),r=n.appendMany("g.place",h).attr("class",function(t){return["place",t.inverted?"inverted":"",t.type,t._visible?"":"place-hidden"].join(" ")}),i={country:13},o={capital:"M-0.88622,-0.88622L0.88622,-0.88622L0.88622,0.88622L-0.88622,0.88622Z",point:"M -1,0 a 1,1 0 1,0 2,0 a 1,1 0 1,0 -2,0 Z"},r.each(function(t){t.fontSize=Cu(l,"vis.d3-maps-core.places.".concat(t.type,".label.fontSize"),Cu(l,"vis.d3-maps-core.places.general.label.fontSize",i[t.type]||10)),t.symbolSize=Cu(l,"vis.d3-maps-core.places.".concat(t.type,".symbol.size"),Cu(l,"vis.d3-maps-core.places.general.symbol.size",3)),t.symbolPath=Cu(l,"vis.d3-maps-core.places.".concat(t.type,".symbol.path"),o[t.type]||!1)}),r.attr("transform",function(t){var e=c.proj(c.mapProj([t.x,t.y]));return t.anchor=e,"translate(".concat(t.anchor,") scale(").concat(1/s.k,")")}),(a=r.append("g.text-wrapper")).append("text.buffer"),a.append("text.place-label"),r.append("path.place-symbol").attr("d",function(t){return t.symbolPath||""}).attr("transform",function(t){return"scale(".concat(t.symbolSize,")")}),t(),c.updateLabelOverlaps(n,"g.place"),t(),r.classed("place-hidden",function(t){return!t._visible}),c.addZoomLayer("place-labels-layer",n,r),c.updatePlacesAfterZoom=Vs(function(){c.updateLabelOverlaps(n,"g.place"),t(),r.classed("place-hidden",function(t){return!t._visible});var e=!1;h.forEach(function(t){t.align!==t.origAlign&&(t.align=t.origAlign,e=!0)}),e&&t(),c.updateLabelOverlaps(n,"g.place"),t(),r.classed("place-hidden",function(t){return!t._visible})},200),c.onZoom(c.updatePlacesAfterZoom))},updateLabelOverlaps:function(t,e){var c=Q(),a=!1;if(lt.get("avoid-label-overlap",!0)||"column"!==lt.get("labels.type","places")){var u=[],l=lt.__chart.getElementBounds(U.svg.node()),n=f.selectAll(".text-annotation .text");return n.each(function(t){var e=lt.__chart.getElementBounds(this),n=e.top-l.top-2,r=e.bottom-l.top+2,i=e.left-l.left-2,e=e.right-l.left+2;u.push({t:n,l:i,b:r,r:e})}),t.selectAll(e).each(function(e){var n,r,i,t=lt.__chart.getElementBounds(this),o=s(t,e);!o||"point"!==e.type&&"capital"!==e.type||"places"!==lt.get("labels.type","places")||1!==c.k||(n=Iu(t),r=e.anchor,i=e.symbolSize,Ss(["tr","br","bl","tl"]).forEach(function(t){if(o){switch(t){case"tr":n.left=r[0]-i,n.right=r[0]+n.width-i,n.top=r[1]-n.height+l.top+2*i,n.bottom=r[1]+l.top;break;case"tl":n.left=r[0]-n.width+i,n.right=r[0]+i,n.top=r[1]-n.height+l.top+2*i,n.bottom=r[1]+l.top;break;case"bl":n.left=r[0]-n.width+i,n.right=r[0]+i,n.top=r[1]+l.top,n.bottom=r[1]+n.height+l.top-2*i;break;case"br":n.left=r[0]-i,n.right=r[0]+n.width-i,n.top=r[1]+l.top,n.bottom=r[1]+n.height+l.top-2*i}s(n,e)||(e.align=t,o=!(a=!0))}})),e._visible=!o}),{alignmentChanged:a}}function s(t,e){var n=t.top-l.top-2,r=t.bottom-l.top+2,i=t.left-l.left-2,o=t.right-l.left+2,a=!1;return(i<0||n<0||r>l.height||o>l.width)&&1===c.k&&(a=!0),a||u.forEach(function(t){n>t.b||o<t.l||r<t.t||i>t.r||e!==t.data&&(a=!0)}),a||u.push({t:n,l:i,b:r,r:o,data:e}),a}},clearZoomLayer:function(){Y.forEach(function(t){return t.g.remove()}),Y.length=0},addZoomLayer:function(t,e,n){q[t]={g:e,feat:n},Y.push(q[t])},updateZoomLayerSelection:function(t,e){q[t].feat=e},onZoom:function(t){F=t},setBottomMargin:function(t){return gt=t,tt(lt.size()),U},setUserPadding:function(t){return dt=t,tt(lt.size()),U},zoomVisRegions:function(){T=U.getVisRegions(),wt(z,$,T),tt(lt.size())},getVisRegions:function(){return{type:"FeatureCollection",features:T.features.filter(function(t){return!U.hasNoData(t)})}},hasNoData:function(t){return!t.data||void 0===t.data[ft.values]||null===t.data[ft.values]||"null"===t.data[ft.values]||"-"===t.data[ft.values]},sizeTooltip:rt(st),resizeMap:tt,fixZoom:et,zoomBehavior:!1};u&&J();var B=f.select(".map-outer").append("div.annotations"),V=it(),G="";!function(t){var e=(o=lt.chart().inEditor())&&it(),n=Iu(lt.get("text-annotations",[]));if(n.length||o){var r=ot(),i=at(),o=f.append("div.annotation-keys");if(At)try{At.$destroy()}catch(t){}At=new Bu({target:t.node(),props:{textAnnotations:n,dataToPx:r,pxToData:i,theme:lt.theme(),cm:lt.colorMap(),visWidth:mt,annotationKeysSel:o}}),e&&(At.$set({editMode:!0}),e.syncAnnotationLayer(At),D.on("mousedown",function(){var t=e.get().editorState;t.selectedTextAnnotations=[],e.set({editorState:t})}))}}(B);var X,Z,K=Vs(U.renderPlaces,100);function J(){var t,a,c,u,e,n,r,i,o,l,s,f;a=(t={context:d,getZoom:Q,proj:z,mapProj:P,width:mt,height:yt,canvasScale:h,canvasLayers:g,theme:ht}).context,c=t.proj,u=t.mapProj,e=t.width,n=t.height,r=t.canvasScale,i=t.canvasLayers,o=t.theme,l=(0,t.getZoom)(),s=[Cu(o,"".concat((t=["vis.d3-maps-symbols.labels.clusters","typography.chart"])[0],".fontWeight"),Cu(o,"".concat(t[1],".fontWeight"),400)),Cu(o,"".concat(t[0],".fontSize"),Cu(o,"".concat(t[1],".fontSize"),14))/l.k+"px",Cu(o,"".concat(t[0],".typeface"),Cu(o,"".concat(t[1],".typeface"),"sans-serif"))].filter(function(t){return t}).join(" "),f=zc(c,a),a.clearRect(0,0,e*r,n*r),a.lineJoin="round",a.lineCap="round",a.save(),a.scale(r,r),a.translate(l.x,l.y),a.scale(l.k,l.k),i.forEach(function(o){var t=o.features.filter(function(t){return!t.__hidden});a.globalCompositeOperation=o.blendMode||"source-over",t.forEach(function(t){a.beginPath();var e="function"==typeof o.style?o.style(t):o.style,n="Feature"===t.type?t.geometry:t;if(n){if("Point"===n.type){if(t.properties.__projCache?r=t.properties.__projCache:t.properties.__projCache=r=u(t.geometry.coordinates),!r)return;var r=c(r);a.save(),a.translate(r[0],r[1]);var i=void 0!==t.properties.__r?t.properties.__r:1;if(t.properties.__symbol){switch(t.properties.__symbolProps.scale){case"y":a.scale(2.5/l.k,i/l.k);break;case"area":default:a.scale(i/l.k,i/l.k)}t.properties.__symbol(a),t.properties.__symbolProps.fill&&a.closePath()}a.restore()}else f(t);a.strokeStyle=e.stroke||null,e.fill&&(a.fillStyle=e.fill,a.fill()),e.stroke&&(a.lineWidth=(e.lineWidth||1)/l.k,a.strokeStyle=e.stroke,a.setLineDash(e.dash?e.dash.map(function(t){return t/l.k}):[]),a.stroke())}}),a.globalCompositeOperation="source-over",a.font=s,a.textAlign="center",a.textBaseline="middle",t.forEach(function(t){var e,n="Feature"===t.type?t.geometry:t;n&&"Point"===n.type&&t.properties.__label&&(e="function"==typeof o.style?o.style(t):o.style,a.fillStyle=e.labelFill||"#000000",(n=t.properties.__projCache)&&(e=c(n),a.save(),"marker"===t.properties.__symbolProps.id?(n=void 0!==t.properties.__r?t.properties.__r:1,l.k,n=.85*n/l.k,a.translate(e[0],e[1]-n)):a.translate(e[0],e[1]),a.fillText(t.properties.__label,0,0),a.restore()))})}),a.restore(),c.log()}function Q(){return U&&void 0!==U.zoomBehavior&&!1!==U.zoomBehavior?Mr(i.node()):xr}function tt(t){var e,n;vt=lt.get("max-map-height",650),lt.size(t[0],t[1]),mt=t[0],yt=t[1]-gt,bt&&(n=(e=ct.querySelector(".annotation-keys:not(.hide)"))&&0<e.clientHeight?e.clientHeight+0:0,e=(e=ct.querySelector(".map-key-mt,.map-key-mb"))&&0<e.clientHeight?e.clientHeight+5:0,yt-=e+n),yt=wt(z,$,T),U.zoomBehavior&&U.zoomBehavior.extent(xt(z,$,O).extent).translateExtent(xt(z,$,O).extent),u?J():i.selectAll("path.geo").attr("d",function(t){return L(t)}),i.at({width:mt,height:yt}),u&&u.at({width:mt*h,height:yt*h}).st({width:mt,height:yt}),R.attr("width",mt).attr("height",yt),U.sizeTooltip=rt(t),u?U.data.forEach(function(t){t.anchor=nt(t)}):W.selectAll("g.region").each(function(t){return t.anchor=nt(t)}),At&&(n=ot(),t=at(),At.$set({dataToPx:n,pxToData:t,visWidth:mt})),et()}return At&&V&&At.$on("update",function(){var t=V.get().editorState,e=JSON.stringify(Cu(t,"selectedAnnotationProps",""));Cu(t,"selectedTextAnnotations",[]).length&&e!==G&&K(),G=e}),lt.get("zoomable",!1)&&(U.zoomBehavior=jr().scaleExtent([1,c.maxZoom]).extent(xt(z,$,O).extent).translateExtent(xt(z,$,O).extent).filter(function(){var t="wheel"===kt.type&&!kt.ctrlKey,e=kt.touches&&1===kt.touches.length;return!kt.button&&!t&&!e}).on("zoom",function(){var t=kt.transform;{var e,n;f.classed("d3-maps-zoomed-in",1<t.k),et(),At&&(e=ot(),n=at(),At.$set({dataToPx:e,pxToData:n}))}F&&F(t.k,[t.x,t.y])}),i.call(U.zoomBehavior).style("touch-action","auto"),X={in:"M1,5 h4 v-4 h2 v4 h4 v2 h-4 v4 h-2 v-4 h-4 v-2 Z",out:"M1,5 h10 v2 h-10 v-2 Z",home:"M0,2h2v-2h2v4h-4v-2Z M0,8h4v4h-2v-2h-2v-2z M8,0h2v2h2v2h-4v-4z M8,8h4v2h-2v2h-2v-4z"},B=lt.get("zoom-button-pos","br"),f.select(".map-outer").append("div.zoom-buttons.zoom-buttons-".concat(B)).selectAll(".zoom-btn").data("b"===B.charAt(0)?["home","in","out"]:["in","out","home"]).enter().append("button").attr("class",function(t){return"zoom-btn zoom-btn-".concat(t)}).on("click",function(t){"home"===t?U.zoomBehavior.transform(i.transition().duration(750),xr):(t=function(t,e,n){return Math.max(e,Math.min(n,t))}(Q().k*Math.pow(2,+("in"===t?1:-1)),1,c.maxZoom),Math.abs(t-1)<1e-4?U.zoomBehavior.transform(i.transition().duration(750),xr):U.zoomBehavior.scaleTo(i.transition().duration(750),t))}).append("svg").at({width:12,height:12}).append("path").attr("d",function(t){return X[t]}),Z=!1,f.on("keypress",function(){var t,e,n,r;Z||!kt.target.classList.contains("zoom-btn")||" "!==kt.key&&"Enter"!==kt.key||(t=f.append("div").st({position:"absolute",left:0,right:0,top:0,fontSize:15,textAlign:"center",padding:"10px 40px",zIndex:9,background:"rgba(255,255,255,0.8)",color:"black"}).html("Hint: you can use the <tt>w</tt>,<tt>a</tt>,<tt>s</tt>,<tt>d</tt> keys to pan around the map"),setTimeout(function(){t.remove()},1e4),Z=!0),!"wasd".includes(kt.key)||1<(e=Q()).k&&(n="a"===kt.key?100:"d"===kt.key?-100:0,r="w"===kt.key?100:"s"===kt.key?-100:0,U.zoomBehavior.translateBy(i,n/e.k,r/e.k))})),ut(U);function et(){var t=Q(),e=U.scale=t.k;u&&z.areaThreshold(e===c.maxZoom?0:1/Math.pow(e,1.5)/Math.pow(Math.min(600,mt)/600,2));var r=(.45+.25*Math.pow(Math.min(1,e-1),.5))/e,n=m.filter(function(t){return"border"===t.type});u&&J(),D.attr("transform",t),n.forEach(function(t){var e=t.id,n=t.selection,t=t.style;!c[e]&&"outlines"!==e||n.style("stroke-width",r*t.lineWidth+"px"),t.strokeDasharray&&(t=t.strokeDasharray.split(",").map(function(t){return Number(t)*r}),n.style("stroke-dasharray",t.join(",")))});for(var i=Y.length,o=0;o<i;o++)Y[o].feat.attr("transform",a);function a(t){return"translate("+t.anchor+") scale("+1/e+")"}}function nt(t){if(void 0===t.properties.cx||void 0===t.properties.cy)return L.centroid(t);var e=P([t.properties.cx,t.properties.cy]);return e?z(e):L.centroid(t)}function rt(c){return function(t,e,n){var r,i,o,a;c[0]<400?(o=t[1]/c[1],i=!0===lt.__chart.get("metadata.describe.hide-title")||""===lt.__chart.get("metadata.describe.intro")&&""===lt.__chart.get("title"),n.st({top:o<.5?"auto":i?"0px":"-20px",bottom:o<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*c[1]+"px"})):(a=n.property("offsetWidth"),r=n.property("offsetHeight"),i=e.offsetWidth,o=e.offsetHeight,e=t[0]+10+a<i,a=t[1]+10+r<o,n.st({top:a?t[1]-10+"px":"auto",bottom:a?"auto":Math.min(o-r,o-t[1]+10)+"px",left:e?t[0]+10+"px":"auto",right:e?"auto":i-t[0]+10+"px","max-height":.55*c[1]+"px"}),n.style("max-width",null))}}function it(){if(lt.chart().inEditor()){var t=window.parent.dw.backend.hooks.call("get-annotation-controls").results;if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){window.__annotationLayer.$set({editMode:!0}),t.syncAnnotationLayer(window.__annotationLayer)}}return null}function ot(){var r;return function(t,e){var n=r||[20,20];if(180<Math.abs(t)||90<Math.abs(e))return n;e=P([t,e]);if(!e)return n;n=St(e,2),e=n[0],n=n[1],e=z([e,n]),n=St(e,2),e=n[0],n=n[1],e=Q().apply([e,n]),n=St(e,2),e=n[0],n=n[1];return r=[e,n].map(function(t){return+t.toFixed(1)})}}function at(){return function(t,e){t=Q().invert([t,e]),e=St(t,2),t=e[0],e=e[1],t=z.invert([t,e]),e=St(t,2),t=e[0],e=e[1];return P.invert([t,e])}}}(pt.content,pt.meta,e,t,r,i)):setTimeout(function(){return location.reload()},2e3)},_svgCanvas:function(){return this.svg},getFormat:function(e,n,t){if(!n)return ll;var r=this,i=r.get(e,t),o=-1<i.indexOf("%"),a="number"===n.type()?function(t){return Tu(o?.01*t:t).format((e=i,t={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"},Object.prototype.hasOwnProperty.call(t,e)?t[e]:e));var e}:"date"===n.type()?function(t){return moment(t).format(r.get(e)||"YYYY")}:ll;return function(t){return"date"!==n.type()||Bs(t)?a(t):t}},getColorScale:function(t){var r=this,e=this.dataset,i=this.axes(!0).values,n=i.type(),o=this.get(t+".colors",function(){var t=[{c:"#fff",p:0},{c:"#000",p:1}],e=r.theme(),e=e.colors?e.colors.gradients:null;if(!e)return t;var n=e[0];return!n||!Is(n[0])||n.length<2?t:n.map(function(t,e){return{c:t,p:e/(n.length-1)}})}()),t=this.get(t+".stops",function(t){var e=[{p:0,v:0},{p:1,v:1}],n=i.name();if(!n)return e;n=t.column(n).range();return n?[{p:0,v:n[0]},{p:1,v:n[1]}]:e}(e));if(window.ds=e,"number"===n){var a=En().range(t.map(Ir("p"))).domain(t.map(Ir("v"))),c=En().clamp(!0).domain(o.map(Ir("p"))).range(o.map(Ir("c")));return Ir(a,c)}var u,l,s,t=Ss(i.values()).filter(ll),o=this.__categoryColors=(a=this.get("categories",{}),c=t,t=this.theme(),u=ht(a),l=[].concat(t.colors.palette).concat(t.colors.secondary).filter(function(t){return u.indexOf(t)<0}),s=Object.assign({},a),c.forEach(function(t){var e;s[t]||(e=l.shift(),s[t]=e)}),s);return function t(){var o=ot(),a=[],r=[],i=gt;function c(t){var e=t+"",n=o.get(e);if(!n){if(i!==gt)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return c.domain=function(t){if(!arguments.length)return a.slice();a=[],o=ot();for(var e,n,r=-1,i=t.length;++r<i;)o.has(n=(e=t[r])+"")||o.set(n,a.push(e));return c},c.range=function(t){return arguments.length?(r=dt.call(t),c):r.slice()},c.unknown=function(t){return arguments.length?(i=t,c):i},c.copy=function(){return t(a,r).unknown(i)},nt.apply(c,arguments),c}().domain(function(){var t,e=[];for(t in o)e.push(t);return e}()).range(ht(o))}}});var ef=new Set(["à¸¿","â¿","Â¢","$","â¬","eur","Â£","gbp","Â¥","yen","usd","cad","us$","ca$","can$"]);function nf(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,c,u,l,s,f,h,p=t._root,d={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(s=n>=(a=(m+v)/2))?m=a:v=a,!(p=(i=p)[f=s<<1|l]))return i[f]=d,t;if(c=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===c&&n===u)return d.next=p,i?i[f]=d:t._root=d,t;for(;i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(s=n>=(a=(m+v)/2))?m=a:v=a,(f=s<<1|l)==(h=(a<=u)<<1|o<=c););return i[h]=p,i[f]=d,t}function rf(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function of(t){return t[0]}function af(t){return t[1]}function cf(t,e,n){n=new uf(null==e?of:e,null==n?af:n,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function uf(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function lf(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function sf(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function ff(t,e){var n=zc();t.forEach(function(t){void 0!==t.properties.cx&&void 0!==t.properties.cy&&(t.properties.__centroid=e([t.properties.cx,t.properties.cy])),t.properties.__centroid&&void 0!==t.properties.__centroid[0]||(t.properties.__centroid=n.centroid(t)),t.properties.__bbox=n.bounds(t)});var i=cf(t,function(t){return t.properties.__centroid[0]},function(t){return t.properties.__centroid[1]});return function(n){var t=i.copy(),e=t.find(n[0],n[1]);if(e){for(var r=300;t.size()&&!function(t){if(!t)return!1;var e=t.properties.__bbox;return n[0]>=e[0][0]&&n[0]<=e[1][0]&&n[1]>=e[0][1]&&n[1]<=e[1][1]&&function(t,e){if("MultiPolygon"===t.geometry.type||"Polygon"===t.geometry.type){for(var n="MultiPolygon"===t.geometry.type?t.geometry.coordinates:[t.geometry.coordinates],r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++)if(function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],c=e[1],u=o[0],l=o[1],s=!1,f=0;f<i;++f)n=(o=t[f])[0],(r=o[1])>c!=c<l&&a<(u-n)*(c-r)/(l-r)+n&&(s=!s),u=n,l=r;return s}(i[o],e))return!0;return!1}console.warn(t.geometry.type,"is not supported")}(t,n)}(e)&&0<--r;)t.remove(e),e=t.find(n[0],n[1]);if(r&&t.size())return e}}}function hf(t){return"<div class=\"tooltip-warning\"'>Woops! There's an error in your tooltip formula: ".concat(t.message,"</div>")}function pf(t,e){return Bs(t)?Lu(t).format(e):tf(+t,{format:e})}(qe=cf.prototype=uf.prototype).copy=function(){var t,e,n=new uf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=lf(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=lf(e));return n},qe.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return nf(this.cover(e,n),e,n,t)},qe.addAll=function(t){for(var e,n,r,i=t.length,o=new Array(i),a=new Array(i),c=1/0,u=1/0,l=-1/0,s=-1/0,f=0;f<i;++f)isNaN(n=+this._x.call(null,e=t[f]))||isNaN(r=+this._y.call(null,e))||((o[f]=n)<c&&(c=n),l<n&&(l=n),(a[f]=r)<u&&(u=r),s<r&&(s=r));if(l<c||s<u)return this;for(this.cover(c,u).cover(l,s),f=0;f<i;++f)nf(this,o[f],a[f],t[f]);return this},qe.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,c,u=i-n,l=this._root;t<n||i<=t||e<r||o<=e;)switch(c=(e<r)<<1|t<n,(a=new Array(4))[c]=l,l=a,u*=2,c){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},qe.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},qe.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},qe.find=function(t,e,n){var r,i,o,a,c,u,l,s,f=this._x0,h=this._y0,p=this._x1,d=this._y1,g=[],m=this._root;for(m&&g.push(new rf(m,f,h,p,d)),null==n?n=1/0:(f=t-n,h=e-n,p=t+n,d=e+n,n*=n);l=g.pop();)!(m=l.node)||(r=l.x0)>p||(i=l.y0)>d||(o=l.x1)<f||(a=l.y1)<h||(m.length?(c=(r+o)/2,u=(i+a)/2,g.push(new rf(m[3],c,u,o,a),new rf(m[2],r,u,c,a),new rf(m[1],c,i,o,u),new rf(m[0],r,i,c,u)),(c=(u<=e)<<1|c<=t)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)):(l=(l=t-+this._x.call(null,m.data))*l+(l=e-+this._y.call(null,m.data))*l)<n&&(f=t-(l=Math.sqrt(n=l)),h=e-l,p=t+l,d=e+l,s=m.data));return s},qe.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,c,u,l,s,f,h=this._root,p=this._x0,d=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((u=o>=(l=(p+g)/2))?p=l:g=l,(l=a>=(c=(d+m)/2))?d=c:m=c,!(h=(e=h)[s=l<<1|u]))return this;if(!h.length)break;(e[s+1&3]||e[s+2&3]||e[s+3&3])&&(n=e,f=s)}for(;h.data!==t;)if(!(h=(r=h).next))return this;return(i=h.next)&&delete h.next,r?i?r.next=i:delete r.next:e?(i?e[s]=i:delete e[s],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[f]=h:this._root=h)):this._root=i,this},qe.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},qe.root=function(){return this._root},qe.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},qe.visit=function(t){var e,n,r,i,o,a,c,u=[],l=this._root;for(l&&u.push(new rf(l,this._x0,this._y0,this._x1,this._y1));e=u.pop();)!t(l=e.node,n=e.x0,r=e.y0,i=e.x1,o=e.y1)&&l.length&&(a=(n+i)/2,c=(r+o)/2,(e=l[3])&&u.push(new rf(e,a,c,i,o)),(e=l[2])&&u.push(new rf(e,n,c,a,o)),(e=l[1])&&u.push(new rf(e,a,r,i,c)),(e=l[0])&&u.push(new rf(e,n,r,a,c)));return this},qe.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new rf(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i,o,a,c,u,l,s,f=e.node;f.length&&(o=e.x0,a=e.y0,l=(o+(c=e.x1))/2,s=(a+(u=e.y1))/2,(i=f[0])&&n.push(new rf(i,o,a,l,s)),(i=f[1])&&n.push(new rf(i,l,a,c,s)),(i=f[2])&&n.push(new rf(i,o,s,l,u)),(i=f[3])&&n.push(new rf(i,l,s,c,u))),r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},qe.x=function(t){return arguments.length?(this._x=t,this):this._x},qe.y=function(t){return arguments.length?(this._y=t,this):this._y};var df=function(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()};function gf(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function mf(n){var r,i=n,o=n;function a(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n}return 1===n.length&&(i=function(t,e){return n(t)-e},r=n,o=function(t,e){return gf(r(t),e)}),{left:a,center:function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.length);r=a(t,e,n,r-1);return n<r&&i(t[r-1],e)>-i(t[r],e)?r-1:r},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}}function yf(t){return null===t?NaN:+t}mt(function(t){var e=function(a){var u,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(a){o=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i,o,a,c,e=e&&e.prototype instanceof m?e:m,e=Object.create(e.prototype),r=new S(r||[]);return e._invoke=(i=t,o=n,a=r,c=f,function(t,e){if(c===p)throw new Error("Generator is already running");if(c===d){if("throw"===t)throw e;return O()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===u){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=u,t(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}r=s(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var r=r.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=u),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===f)throw c=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=p;r=s(i,o,a);if("normal"===r.type){if(c=a.done?d:h,r.arg===g)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(c=d,a.method="throw",a.arg=r.arg)}}),e}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",g={};function m(){}function y(){}function v(){}var b={};b[r]=function(){return this};e=Object.getPrototypeOf,e=e&&e(e(k([])));e&&e!==t&&l.call(e,r)&&(b=e);var _=v.prototype=m.prototype=Object.create(b);function w(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function x(a,c){var e;this._invoke=function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,i){t=s(a[t],a,n);if("throw"!==t.type){var o=t.arg,n=o.value;return n&&"object"===Yn(n)&&l.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):c.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return t.next=t}}return{next:O}}function O(){return{value:u,done:!0}}return((y.prototype=_.constructor=v).constructor=y).displayName=o(v,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,o(t,i,"GeneratorFunction")),t.prototype=Object.create(_),t},a.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[n]=function(){return this},a.AsyncIterator=x,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new x(c(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},w(_),o(_,i,"Generator"),_[r]=function(){return this},_.toString=function(){return"[object Generator]"},a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),c=l.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,A(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),g}},a}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});var vf=mf(gf).right,bf=(mf(yf).center,Math.sqrt(50)),_f=Math.sqrt(10),wf=Math.sqrt(2);function xf(t,e,n){var r,i,o,a,c=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Mf(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++c<i;)o[c]=(t+c)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++c<i;)o[c]=(t+c)/a;return r&&o.reverse(),o}function Mf(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(bf<=t?10:_f<=t?5:wf<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(bf<=t?10:_f<=t?5:wf<=t?2:1)}function Af(t,e,n){var r=2<arguments.length&&void 0!==n?n:yf;if(i=t.length){if((e=+e)<=0||i<2)return+r(t[0],0,t);if(1<=e)return+r(t[i-1],i-1,t);var n=(i-1)*e,i=Math.floor(n),e=+r(t[i],i,t);return e+(+r(t[i+1],i+1,t)-e)*(n-i)}}function Sf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function kf(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Of(t){return+t}var Ef=[0,1];function Nf(t){return t}function $f(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Pf(t,e,n){var r=t[0],t=t[1],i=e[0],e=e[1],i=t<r?(r=$f(t,r),n(e,i)):(r=$f(r,t),n(i,e));return function(t){return i(r(t))}}function jf(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=$f(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=vf(n,t,1,r)-1;return o[e](i[e](t))}}function zf(){var n,r,e,i,o,a,c=Ef,u=Ef,l=Ee,s=Nf;function f(){var e,n,t,r=Math.min(c.length,u.length);return s!==Nf&&(e=c[0],(n=c[r-1])<e&&(t=e,e=n,n=t),s=function(t){return Math.max(e,Math.min(n,t))}),i=2<r?jf:Pf,o=a=null,h}function h(t){return isNaN(t=+t)?e:(o=o||i(c.map(n),u,l))(n(s(t)))}return h.invert=function(t){return s(r((a=a||i(u,c.map(n),Ae))(t)))},h.domain=function(t){return arguments.length?(c=Array.from(t,Of),f()):c.slice()},h.range=function(t){return arguments.length?(u=Array.from(t),f()):u.slice()},h.rangeRound=function(t){return u=Array.from(t),l=Ne,f()},h.clamp=function(t){return arguments.length?(s=!!t||Nf,f()):s!==Nf},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,r=e,f()}}function Tf(l){var s=l.domain;return l.ticks=function(t){var e=s();return xf(e[0],e[e.length-1],null==t?10:t)},l.tickFormat=function(t,e){var n=s();return function(t,e,n,r){var i,o,a,c,u=(o=t,a=e,c=n,n=Math.abs(a-o)/Math.max(0,c),c=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),bf<=(n/=c)?c*=10:_f<=n?c*=5:wf<=n&&(c*=2),a<o?-c:c);switch((r=rn(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Sn(u,l))||(r.precision=i),sn(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=kn(u,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=An(u))||(r.precision=i-2*("%"===r.type))}return ln(r)}(n[0],n[n.length-1],null==t?10:t,e)},l.nice=function(t){null==t&&(t=10);var e,n,r=s(),i=0,o=r.length-1,a=r[i],c=r[o],u=10;for(c<a&&(n=a,a=c,c=n,n=i,i=o,o=n);0<u--;){if((n=Mf(a,c,t))===e)return r[i]=a,r[o]=c,s(r);if(0<n)a=Math.floor(a/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;a=Math.ceil(a*n)/n,c=Math.floor(c*n)/n}e=n}return l},l}function Lf(){var e=zf()(Nf,Nf);return e.copy=function(){return t=e,Lf().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},kf.apply(e,arguments),Tf(e)}function Df(){var e,n=[.5],r=[0,1],i=1;function o(t){return t<=t?r[vf(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=Array.from(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=Array.from(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){t=r.indexOf(t);return[n[t-1],n[t]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return Df().domain(n).range(r).unknown(e)},kf.apply(o,arguments)}function Rf(t){return Gl(t)&&("[object Function]"==(t=Zl(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function Cf(t){if(null!=t){try{return Uf.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function If(t){return!(!Gl(t)||(e=t,!!qf&&qf in e))&&(Rf(t)?Gf:Vf).test(Cf(t));var e}function Bf(t,e){return e=e,e=null==(t=t)?void 0:t[e],If(e)?e:void 0}function Wf(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Hf(){return!1}function Ff(t,e){var n=Yn(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&nh.test(t))&&-1<t&&t%1==0&&t<e}function Yf(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}var xt=ns["__core-js_shared__"],qf=(ft=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+ft:"",Uf=Function.prototype.toString,Vf=/^\[object .+?Constructor\]$/,Du=Function.prototype,qe=Object.prototype,xt=Du.toString,ft=qe.hasOwnProperty,Gf=RegExp("^"+xt.call(ft).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xf=function(){try{var t=Bf(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Zf=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var c=o[++r];if(!1===e(i[c],c,i))break}return t},Du=function(t){return Kl(t)&&"[object Arguments]"==Zl(t)},Kf=(qe=Object.prototype).hasOwnProperty,Jf=qe.propertyIsEnumerable,Qf=Du(function(){return arguments}())?Du:function(t){return Kl(t)&&Kf.call(t,"callee")&&!Jf.call(t,"callee")},th=Array.isArray,eh=mt(function(t,e){var n=e&&!e.nodeType&&e,e=n&&t&&!t.nodeType&&t,n=e&&e.exports===n?ns.Buffer:void 0,n=(n?n.isBuffer:void 0)||Hf;t.exports=n}),nh=/^(?:0|[1-9]\d*)$/,rh={};function ih(t,e){var n,r=th(t),i=!r&&Qf(t),o=!r&&!i&&eh(t),a=!r&&!i&&!o&&dh(t),c=r||i||o||a,u=c?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=u.length;for(n in t)!e&&!gh.call(t,n)||c&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Ff(n,l))||u.push(n);return u}function oh(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||mh))return yh(t);var e,n,r,i=[];for(r in Object(t))vh.call(t,r)&&"constructor"!=r&&i.push(r);return i}function ah(t){return null!=t&&Yf(t.length)&&!Rf(t)}function ch(t){return(ah(t)?ih:oh)(t)}function uh(t,r,i,o){return bh(t,function(t,e,n){r(o,t,i(t),n)}),o}function lh(t,e){return t===e||t!=t&&e!=e}function sh(t,e){for(var n=t.length;n--;)if(lh(t[n][0],e))return n;return-1}rh["[object Float32Array]"]=rh["[object Float64Array]"]=rh["[object Int8Array]"]=rh["[object Int16Array]"]=rh["[object Int32Array]"]=rh["[object Uint8Array]"]=rh["[object Uint8ClampedArray]"]=rh["[object Uint16Array]"]=rh["[object Uint32Array]"]=!0,rh["[object Arguments]"]=rh["[object Array]"]=rh["[object ArrayBuffer]"]=rh["[object Boolean]"]=rh["[object DataView]"]=rh["[object Date]"]=rh["[object Error]"]=rh["[object Function]"]=rh["[object Map]"]=rh["[object Number]"]=rh["[object Object]"]=rh["[object RegExp]"]=rh["[object Set]"]=rh["[object String]"]=rh["[object WeakMap]"]=!1;var fh,hh,ph,xt=mt(function(t,e){var e=e&&!e.nodeType&&e,n=e&&t&&!t.nodeType&&t,r=n&&n.exports===e&&es.process,e=function(){try{return n&&n.require&&n.require("util").types||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=e}),dh=(ft=xt&&xt.isTypedArray)?(fh=ft,function(t){return fh(t)}):function(t){return Kl(t)&&Yf(t.length)&&!!rh[Zl(t)]},gh=Object.prototype.hasOwnProperty,mh=Object.prototype,yh=(hh=Object.keys,ph=Object,function(t){return hh(ph(t))}),vh=Object.prototype.hasOwnProperty,bh=function(t,e){if(null==t)return t;if(!ah(t))return r=e,(n=t)&&Zf(n,r,ch);for(var n,r,i=t.length,o=-1,a=Object(t);++o<i&&!1!==e(a[o],o,a););return t},_h=Array.prototype.splice;function wh(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wh.prototype.clear=function(){this.__data__=[],this.size=0},wh.prototype.delete=function(t){var e=this.__data__,t=sh(e,t);return!(t<0||(t==e.length-1?e.pop():_h.call(e,t,1),--this.size,0))},wh.prototype.get=function(t){var e=this.__data__,t=sh(e,t);return t<0?void 0:e[t][1]},wh.prototype.has=function(t){return-1<sh(this.__data__,t)},wh.prototype.set=function(t,e){var n=this.__data__,r=sh(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var xh=wh,Mh=Bf(ns,"Map"),Ah=Bf(Object,"create"),Sh=Object.prototype.hasOwnProperty,kh=Object.prototype.hasOwnProperty;function Oh(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Eh(t,e){var n,r=t.__data__;return("string"==(t=Yn(n=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}Oh.prototype.clear=function(){this.__data__=Ah?Ah(null):{},this.size=0},Oh.prototype.delete=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t},Oh.prototype.get=function(t){var e=this.__data__;if(Ah){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Sh.call(e,t)?e[t]:void 0},Oh.prototype.has=function(t){var e=this.__data__;return Ah?void 0!==e[t]:kh.call(e,t)},Oh.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ah&&void 0===e?"__lodash_hash_undefined__":e,this};var Nh=Oh;function $h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$h.prototype.clear=function(){this.size=0,this.__data__={hash:new Nh,map:new(Mh||xh),string:new Nh}},$h.prototype.delete=function(t){t=Eh(this,t).delete(t);return this.size-=t?1:0,t},$h.prototype.get=function(t){return Eh(this,t).get(t)},$h.prototype.has=function(t){return Eh(this,t).has(t)},$h.prototype.set=function(t,e){var n=Eh(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Ph=$h;function jh(t){t=this.__data__=new xh(t);this.size=t.size}jh.prototype.clear=function(){this.__data__=new xh,this.size=0},jh.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},jh.prototype.get=function(t){return this.__data__.get(t)},jh.prototype.has=function(t){return this.__data__.has(t)},jh.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xh){var r=n.__data__;if(!Mh||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ph(r)}return n.set(t,e),this.size=n.size,this};var zh=jh;function Th(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ph;++e<n;)this.add(t[e])}function Lh(t,e){return t.has(e)}function Dh(t,e,n,r,i,o){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&c<u))return!1;var l=o.get(t),u=o.get(e);if(l&&u)return l==e&&u==t;var s=-1,f=!0,h=2&n?new Bh:void 0;for(o.set(t,e),o.set(e,t);++s<c;){var p,d=t[s],g=e[s];if(r&&(p=a?r(g,d,s,e,t,o):r(d,g,s,t,e,o)),void 0!==p){if(p)continue;f=!1;break}if(h){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,function(t,e){return!Lh(h,e)&&(d===t||i(d,t,n,r,o))&&h.push(e)})){f=!1;break}}else if(d!==g&&!i(d,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Rh(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function Ch(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Ih(t){return function(t,e,n){e=e(t);return th(t)?e:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(e,n(t))}(t,ch,qh)}Th.prototype.add=Th.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Th.prototype.has=function(t){return this.__data__.has(t)};var Bh=Th,Wh=ns.Uint8Array,Hh=(qe=rs?rs.prototype:void 0)?qe.valueOf:void 0,Fh=Object.prototype.propertyIsEnumerable,Yh=Object.getOwnPropertySymbols,qh=Yh?function(e){return null==e?[]:(e=Object(e),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(Yh(e),function(t){return Fh.call(e,t)}))}:function(){return[]},Uh=Object.prototype.hasOwnProperty,Du=Bf(ns,"DataView"),xt=Bf(ns,"Promise"),Vh=Bf(ns,"Set"),ft=Bf(ns,"WeakMap"),Gh="[object Map]",Xh="[object Promise]",Zh="[object Set]",Kh="[object WeakMap]",Jh="[object DataView]",Qh=Cf(Du),tp=Cf(Mh),ep=Cf(xt),np=Cf(Vh),rp=Cf(ft),qe=Zl;function ip(t,e,n,r,i,o){var a=th(t),c=th(e),u=a?hp:sp(t),l=c?hp:sp(e),s=(u=u==fp?pp:u)==pp,c=(l=l==fp?pp:l)==pp;if((l=u==l)&&eh(t)){if(!eh(e))return!1;s=!(a=!0)}if(l&&!s)return o=o||new zh,a||dh(t)?Dh(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Wh(t),new Wh(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lh(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Rh;case"[object Set]":var u=1&r,c=c||Ch;if(t.size!=e.size&&!u)return!1;u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);c=Dh(c(t),c(e),r,i,o,a);return a.delete(t),c;case"[object Symbol]":if(Hh)return Hh.call(t)==Hh.call(e)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){s=s&&dp.call(t,"__wrapped__"),c=c&&dp.call(e,"__wrapped__");if(s||c)return i(s?t.value():t,c?e.value():e,n,r,o=o||new zh)}return!!l&&function(t,e,n,r,i,o){var a=1&n,c=Ih(t),u=c.length;if(u!=Ih(e).length&&!a)return!1;for(var l=u;l--;){var s=c[l];if(!(a?s in e:Uh.call(e,s)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=a;++l<u;){var g,m=t[s=c[l]],y=e[s];if(r&&(g=a?r(y,m,s,e,t,o):r(m,y,s,t,e,o)),!(void 0===g?m===y||i(m,y,n,r,o):g)){p=!1;break}d=d||"constructor"==s}return!p||d||(f=t.constructor)!=(h=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof h&&h instanceof h)&&(p=!1),o.delete(t),o.delete(e),p}(t,e,n,r,i,o=o||new zh)}function op(t,e,n,r,i){return t===e||(null==t||null==e||!Kl(t)&&!Kl(e)?t!=t&&e!=e:ip(t,e,n,r,op,i))}function ap(t){return t==t&&!Gl(t)}function cp(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}function up(e){var n=function(t){for(var e=ch(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ap(i)]}return e}(e);return 1==n.length&&n[0][2]?cp(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var c=n[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var u=(c=n[i])[0],l=t[u],s=c[1];if(a&&c[2]){if(void 0===l&&!(u in t))return!1}else{var f,h=new zh;if(r&&(f=r(l,s,u,t,e,h)),!(void 0===f?op(s,l,3,r,h):f))return!1}}return!0}(t,e,n)}}function lp(t,e){if(!th(t)){var n=Yn(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Jl(t))||mp.test(t)||!gp.test(t)||null!=e&&t in Object(e)}}(Du&&qe(new Du(new ArrayBuffer(1)))!=Jh||Mh&&qe(new Mh)!=Gh||xt&&qe(xt.resolve())!=Xh||Vh&&qe(new Vh)!=Zh||ft&&qe(new ft)!=Kh)&&(qe=function(t){var e=Zl(t),t="[object Object]"==e?t.constructor:void 0,t=t?Cf(t):"";if(t)switch(t){case Qh:return Jh;case tp:return Gh;case ep:return Xh;case np:return Zh;case rp:return Kh}return e});var sp=qe,fp="[object Arguments]",hp="[object Array]",pp="[object Object]",dp=Object.prototype.hasOwnProperty,gp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mp=/^\w*$/;function yp(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");function o(){var t=arguments,e=i?i.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(yp.Cache||Ph),o}function vp(t){if("string"==typeof t)return t;if(th(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,vp)+"";if(Jl(t))return zp?zp.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function bp(t,e){return th(t)?t:lp(t,e)?[t]:jp(null==(t=t)?"":vp(t))}function _p(t){if("string"==typeof t||Jl(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function wp(t,e){for(var n=0,r=(e=bp(e,t)).length;null!=t&&n<r;)t=t[_p(e[n++])];return n&&n==r?t:void 0}function xp(t,e){return null!=t&&e in Object(t)}function Mp(t,e){return null!=t&&function(t,e,n){for(var r=-1,i=(e=bp(e,t)).length,o=!1;++r<i;){var a=_p(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Yf(i)&&Ff(a,i)&&(th(t)||Qf(t))}(t,e,xp)}function Ap(n,r){return lp(n)&&ap(r)?cp(_p(n),r):function(t){var e=function(t,e,n){e=null==t?void 0:wp(t,e);return void 0===e?n:e}(t,n);return void 0===e&&e===r?Mp(t,n):op(r,e,3)}}function Sp(t){return t}function kp(t){return lp(t)?(n=_p(t),function(t){return null==t?void 0:t[n]}):(e=t,function(t){return wp(t,e)});var e,n}yp.Cache=Ph;var Op,Ep,Np,$p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pp=/\\(\\)?/g,jp=(Op=(qe=yp(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace($p,function(t,e,n,r){i.push(n?r.replace(Pp,"$1"):e||t)}),i},function(t){return 500===Op.size&&Op.clear(),t})).cache,qe),zp=(rs=rs?rs.prototype:void 0)?rs.toString:void 0,Tp=Object.prototype.hasOwnProperty,Lp=(Ep=function(t,e,n){var r;Tp.call(t,n)?++t[n]:(r=t,t=1,"__proto__"==(n=n)&&Xf?Xf(r,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[n]=t)},function(t,e){var n=th(t)?Wf:uh,r=Np?Np():{};return n(t,Ep,"function"==typeof(e=e)?e:null==e?Sp:"object"==Yn(e)?th(e)?Ap(e[0],e[1]):up(e):kp(e),r)});function Dp(e){if(!e||"object"!==Yn(e))return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function Rp(t){return t!=t}function Cp(t,e){return!(null==t||!t.length)&&(n=t,t=0,-1<((e=e)==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(n,e,t):function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(n,Rp,t)));var n}function Ip(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Bp={values:[],margins:null,mode:"continuous",rangeMin:null,rangeCenter:null,rangeMax:null,colors:[{color:"#ffffff",position:0},{color:"#000000",position:1}],stops:"equidistant",customStops:[],stopCount:5,palette:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],fallback:"#eeeeee",map:{}},Wp=Vh&&1/Ch(new Vh([,-0]))[1]==1/0?function(t){return new Vh(t)}:function(){},Hp=function(t){return t&&t.length?function(t,e,n){var r=-1,i=Cp,o=t.length,a=!0,c=[],u=c;if(n)a=!1,i=Ip;else if(200<=o){var l=e?null:Wp(t);if(l)return Ch(l);a=!1,i=Lh,u=new Bh}else u=e?[]:c;t:for(;++r<o;){var s=t[r],f=e?e(s):s,s=n||0!==s?s:0;if(a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),c.push(s)}else i(u,f,n)||(u!==c&&u.push(f),c.push(s))}return c}(t):[]};function Fp(e){var n={},r=e.palette,t=e.categoryOrder||[],t=t.length?t:Hp(e.values).sort(),i=0;t.forEach(function(t){t&&(n[t]=e.map[t]||(i>=r.length?e.fallback:r[i++]))});t=function(t){return n[t]||e.fallback};return t._labels=Object.keys(n),t._colors=t._labels.map(function(t){return n[t]}),t}function Yp(t){return(+t).toFixed(Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2))}function qp(t){var e=t.stops,n=t.mode,r=t.stopCount,i=t.customStops,o=t.values,a=t.rangeMin,c=t.rangeCenter,u=t.rangeMax;if(""!==c&&null!=c&&"continuous"===n){if("equidistant"===e)return[a,c,u];r++;var l=[],s=[];o.filter(function(t){return a<=t&&t<=u}).forEach(function(t){return(t<c?l:s).push(t)}),l.push(c),Yp(s[0])>c&&s.unshift(c);var f=Math.floor((r-1)/2)+1,h=Sf(f).map(function(t,e){return e/(f-1)}).map(function(t){return Af(l,t)}),t=Sf(f).map(function(t,e){return e/(f-1)}).map(function(t){return Af(s,t)});return h.length+t.length>r?t.shift():t[0]+=1e-7,[].concat(df(h),df(t))}if("continuous"===n&&"equidistant"===e)return[a,u];var p=Math.LOG10E*Math.log(a),d=Math.LOG10E*Math.log(u),g=o.filter(function(t){return a<=t&&t<=u}),i="custom"===e?i.map(function(t){return+t}):"pretty"===e?xf(a,u,r):"natural"===e?function(t,e){for(var n,r=[],i=[],o=!1,a=0;a<e;a++)r[a]=[];for(var c=Math.round(t.length/(e+1)),u=0;u<e;u++)i[u]=t[c*(u+1)];var l,s,f=20;do{for(var h=0;h<e;h++)r[h].length=0;o=!1;for(var p=-1,d=0;d<t.length;d++){for(var g=-1,m=0;m<e;m++){var y=Math.abs(i[m]-t[d]);(-1===g||y<=g)&&(g=y,p=m)}r[p].push(t[d])}n=i.slice(0);for(var v=0;v<e;v++){for(var b=0,_=0;_<r[v].length;_++)b+=r[v][_];i[v]=b/r[v].length}for(var w=0;w<e;w++)l=i[w],s=n[w],Math.abs(l-s)<1e-6||(o=!0)}while(o&&0<f--);return r.filter(function(t){return t.length})}(g,r).map(function(t){return t[0]}):"logarithmic"===e?Sf(1,r).map(function(t){return Math.pow(10,p+t/r*(d-p))}):"quantiles"===e?Sf(0,1.001,1/r).map(function(t){return Af(g,t)}):Sf(a,u+1e-5,(u-a)/r);return"custom"!==e&&(Yp(i[0])>a&&i.unshift(a),Yp(i[i.length-1])<u&&i.push(u)),i}function Up(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gp(t){var r,i,o,a,c,n=0<arguments.length&&void 0!==t?t:{};if("categories"===(n=Vp(Vp({},Dp(Bp)),Dp(n))).mode)return n.margins?(e=(t=n).margins.sort(function(t,e){return t-e}),s=[e[0],e[e.length-1]],r=Fp(t),i={},o=qp(Vp(Vp({},t),{},{values:e,rangeMin:s[0],rangeMax:s[1]})),a=Sf(o.length-1).map(function(t){return.5*(o[t]+o[t+1])}),c=Lf().domain([a[0],a[a.length-1]]).range([90,20]),u._stops=o,u._colors={},(u._labels=r._labels).forEach(function(n){var e=ne(r(n)),t=a.map(function(t){return ne(c(t),e.a,e.b)+""});i[n]=Df(o.slice(1,-1),t),u._colors[n]=o.slice(0,-1).map(function(t,e){return i[n](.5*(t+o[e+1]))})}),u):Fp(n);function u(t,e){return i[t](e)}var l=Lp(n.values);n.values.forEach(function(t,e){1<l[t]&&l[t]>.1*l.length&&(n.values[e]+=1e-6*(Math.random()-.5))}),n.values=n.values.filter(Number.isFinite).sort(function(t,e){return t-e});var e=n.values[0],s=n.values[n.values.length-1];Xp(n.rangeMin)&&(n.rangeMin=e),Xp(n.rangeMax)&&(n.rangeMax=s),["rangeMin","rangeMax","rangeCenter","stopCount"].forEach(function(t){Xp(n[t])||(n[t]=+n[t])}),(n.ranceCenter<=n.rangeMin||n.ranceCenter>=n.rangeMax)&&(n.rangeCenter=""),n.colors&&n.colors.length||(n.colors=[{color:"#ffffff",position:0},{color:"#000000",position:1}]);var f=Lf().domain(n.colors.map(function(t){return t.position})).range(n.colors.map(function(t){return t.color})).interpolate(Fe),h=qp(Vp(Vp({},n),{},{rangeCenter:"discrete"===n.mode?void 0:n.rangeCenter,stopCount:n.stopCount-("continuous"===n.mode?1:0)}));if("continuous"===n.mode){var p=h.map(function(t,e){return e/(h.length-1)}),d=Lf(h,p).clamp(!0),g=function(t){return f(d(t))+""};return g._limits=Xp(n.rangeCenter)?[n.rangeMin,n.rangeMax]:[n.rangeMin,+n.rangeCenter,n.rangeMax],g._stops=h,g}if("discrete"===n.mode){p=Sf(0,1.0001,1/(h.length-2)).map(f);p.unshift(p[0]),p.push(p[p.length-1]);g=Df(h,p);return g._stops=h,g._colors=p.slice(1,-1),g}}function Xp(t){return""===t||null==t}var Zp="ontouchstart"in window||navigator.msMaxTouchPoints;function Kp(t,n){return t.replace(/{{ *([a-zA-Z0-9_]+) *}}/g,function(t,e){return n[e]?"{{ ".concat(sf(n[e])," }}"):t})}function Jp(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}-1!==window.navigator.userAgent.indexOf("MSIE")||-1<window.navigator.appVersion.indexOf("Internet Explorer/")||window.navigator.appVersion.indexOf("Trident/7.0"),I.prototype.append=Lr,I.prototype.st=Br,dw.visualization.register("d3-maps-choropleth","d3-maps-core",function(){var T,a,c,u,l,s,L,D,R={},C=!1,f={},h=["zoomable","zoom-button-pos","hide-empty-regions"],I=new Map,B=new Map;return{render:function(x){if(a)return!1;a=!0;var M=this,A=x,t=M.chart(),S=M.theme(),k=M.size(),O=M.dataset.list();!function(t,e,n){var r,i,o,a,c,u,l,s=void 0===(f=e.visualize)?{}:f,f=void 0===(f=e.data)?{}:f,e=void 0===(e=e.axes)?{}:e;if((s.gradient||s.categories)&&(o={mode:"continuous",stops:"quantiles",interpolation:"equidistant",colors:[],rangeMin:"",rangeMax:"",rangeCenter:"",stopCount:5,palette:0,categoryOrder:[],categoryLabels:{},map:{}},s.categories&&(o.map=s.categories,delete s.categories),s.gradient&&((i=s.gradient).colors&&(o.colors=i.colors.map(function(t){return{color:t.c,position:t.p}})),i.stops&&((r=i.stops.filter(function(t){return 0===t.p})[0])&&(o.rangeMin=r.v),(r=i.stops.filter(function(t){return 1===t.p})[0])&&(o.rangeMax=r.v),3===i.stops.length?((a=i.stops.filter(function(t){return Math.abs(t.p-.5)<.03})[0])&&(o.rangeCenter=a.v),o.interpolation="quantiles-3"):3<i.stops.length&&(o.interpolation=i.stops.length<6?"quantiles-5":"quantiles-6"))),s.colorscale=o,delete s.gradient),s.colorscale&&!s.colorscale.customStops&&(s.colorscale.customStops=["","","","","","","",""]),s.legend&&!s.legend.hideItems&&(s.legend.hideItems=[]),s.tooltip&&void 0===s.tooltip.enabled&&(r={enabled:!1,sticky:!0,body:"",title:""},s.tooltip&&(i=(a=s.tooltip).title,o=a.body,a=a.fields,(i||o)&&(r.body=a?Kp(o||"",a):o||"",r.title=a?Kp(i||"",a):i||"",r.migrated=!0,r.enabled=!0)),s.tooltip=r),void 0===s["min-label-zoom"]&&s["map-key-position"]&&(s["min-label-zoom"]=1.5),"d3-maps-choropleth"===t&&s.tooltip&&(e.keys&&(s.tooltip.title=String(s.tooltip.title).replace("%REGION_NAME%","{{ ".concat(sf(e.keys)," }}"))),e.values&&(s.tooltip.body=String(s.tooltip.body).replace("%REGION_VALUE%","{{ ".concat(sf(e.values)," }}")))),s["map-key-position"]&&(l="d3-maps-choropleth"===t?"hidden"!==s["map-key-position"]||!1===s["map-key-auto"]&&""===s["map-key-stops"]:!1!==s["show-map-key"],s.legend={enabled:l,orientation:"vertical",position:l?s["map-key-position"]:"mt",title:s["map-key-title"]||"",labelFormat:{"0,0.[00]":"0,0.[00]",f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".2%":"0.00%",".0s":"0a",".1s":"0.0a",".2s":"0.00a",".3s":"0.000a"}[c=s["map-key-format"]]||c,size:100,offsetTop:0,offsetLeft:0,labels:"ranges",reverse:!1,interactive:!1},delete s["map-key-position"],delete s["map-key-title"],delete s["map-key-format"],delete s["map-key-position"]),void 0===s["zoom-button-pos"]&&(s["zoom-button-pos"]="br"===Cu(s,"legend.position")?"tr":"br"),s["cluster-symbols"]&&(u=["noverlap","hexbin"].includes(s["cluster-symbols"]),s.clustering={enabled:u,type:u?s["cluster-symbols"]:"noverlap",showCount:Cu(s,"cluster-count",!0),gridSize:Cu(s,"hexbin-gridsize",15),aggregation:Cu(s,"cluster-aggregation","none"),radius:Cu(s,"cluster-radius",9),iterations:Cu(s,"iterations",1),tolerance:Cu(s,"tolerance",0),color:Cu(s,"cluster-color",0)},delete s["cluster-color"],delete s["cluster-symbols"],delete s["cluster-count"],delete s["hexbin-gridsize"],delete s["cluster-aggregation"],delete s["cluster-radius"],delete s.iterations,delete s.tolerance),null===Cu(s,"clustering.aggregationColor")&&Cu(s,"clustering.aggregationColor",Cu(s,"cluster-aggregation","none")),s["cluster-tooltip"]&&(c=(l=Cu(s,"cluster-tooltip",{})).title,u=l.body,l=l.fields,s.clusterTooltip=(c||u)&&l?{enabled:!0,sticky:!0,title:Kp(c||"",l),body:Kp(u||"",l),migrated:!0}:{enabled:c||u,sticky:!0,title:c||"",body:u||""},delete s["cluster-tooltip"]),s["map-align"]||(s["map-align"]="center"),"d3-maps-symbols"===t&&void 0===s["blend-multiply"]&&(s["blend-multiply"]=!0),n&&e&&!n.hasColumn(e.values)&&delete e.values,e.values&&s["map-key-stops"]&&"number"===n.column(e.values).type()){var h={},p=n.column(e.values).values(),d=!0;s["map-key-stops"].split("\n").forEach(function(t,e){t=t.split(",");h[t[0]]=t[1]});for(var g=0;g<p.length;g++)if("number"==typeof p[g]&&isFinite(p[g])&&void 0===h[p[g]]){d=!1;break}if(d){f["column-format"][e.values]||(f["column-format"][e.values]={}),f["column-format"][e.values].type="text";var m,y=Gp({values:p,mode:"continuous",colors:s.colorscale.colors,stops:s.colorscale.interpolation.split("-")[0],stopCount:+(s.colorscale.interpolation.split("-")[1]||5),rangeMin:s.colorscale.rangeMin,rangeCenter:s.colorscale.rangeCenter,rangeMax:s.colorscale.rangeMax});for(m in s.colorscale.map={},h)void 0!==m&&""!==m&&(s.colorscale.map[m]=y(Number(m)),s.colorscale.categoryLabels[m]=h[m],s.colorscale.categoryOrder.push(m))}delete s["map-key-stops"]}void 0===s["text-annotations"]&&(s["text-annotations"]=[]),void 0===s.labels&&(e=Boolean(e.labels),s.labels={},s.labels.enabled=e,s.labels.type=e?"column":"places",s.labels.places=[],s.labels.max=1)}(t.get("type"),t.get("metadata"),M.dataset),this.chart().dataset(!0);var n,e,r,E=Cu(S,"vis.d3-maps-choropleth.noDataFill","#dddddd"),N=M.get("zoomable",!0)||0<M.get("highlighted-series",[]).length?M.get("min-label-zoom",1):1,$=M.get("avoid-label-overlap",!0),P=M.axes(),j=(n=t.get("id"),function(t,e){window.parent&&window.parent.postMessage&&(e={source:"datawrapper",chartId:n,type:t,data:e},window.parent.postMessage(e,"*"))}),i=!c||c!==M.get("basemap","bl");function o(){var n=[],i=M.colorMap(),e=M.get("highlighted-series");if(T.setUserPadding(M.get("map-padding",0)/100),T.data){T.clearZoomLayer();var r=at().key(function(t){return t[P.keys]}).rollup(function(t){return t[0]}).map(O),o=M.get("map-key-attr",(d=(d=JSON.parse('{"content":{"type":"Topology","bbox":[478.5066834001128,249.10051164345919,481.0245846871813,251.2031460861871],"objects":{"regions":{"type":"GeometryCollection","geometries":[{"type":"Polygon","arcs":[[0]],"properties":{"state_id":"HI","name_lc":"Hawaii","id":15,"name":"HAWAII","cx":6.049999999999999,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[1]],"properties":{"state_id":"AK","name_lc":"Alaska","id":2,"name":"ALASKA","cx":5.949999999999999,"cy":4.249998915681976}},{"type":"Polygon","arcs":[[2]],"properties":{"state_id":"CA","name_lc":"California","id":6,"name":"CALIFORNIA","cx":6.050000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[3]],"properties":{"state_id":"OR","name_lc":"Oregon","id":41,"name":"OREGON","cx":6.050000000000001,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[4]],"properties":{"state_id":"WA","name_lc":"Washington","id":53,"name":"WASHINGTON","cx":6.050000000000001,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[5]],"properties":{"state_id":"AZ","name_lc":"Arizona","id":4,"name":"ARIZONA","cx":6.15,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[6]],"properties":{"state_id":"NV","name_lc":"Nevada","id":32,"name":"NEVADA","cx":6.15,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[7]],"properties":{"state_id":"UT","name_lc":"Utah","id":49,"name":"UTAH","cx":6.15,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[8]],"properties":{"state_id":"ID","name_lc":"Idaho","id":16,"name":"IDAHO","cx":6.15,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[9]],"properties":{"state_id":"NM","name_lc":"New Mexico","id":35,"name":"NEW MEXICO","cx":6.25,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[10]],"properties":{"state_id":"CO","name_lc":"Colorado","id":8,"name":"COLORADO","cx":6.25,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[11]],"properties":{"state_id":"WY","name_lc":"Wyoming","id":56,"name":"WYOMING","cx":6.249999999999998,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[12]],"properties":{"state_id":"MT","name_lc":"Montana","id":30,"name":"MONTANA","cx":6.25,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[13]],"properties":{"state_id":"LA","name_lc":"Louisiana","id":22,"name":"LOUISIANA","cx":6.350000000000001,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[14]],"properties":{"state_id":"KS","name_lc":"Kansas","id":20,"name":"KANSAS","cx":6.35,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[15]],"properties":{"state_id":"NE","name_lc":"Nebraska","id":31,"name":"NEBRASKA","cx":6.350000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[16]],"properties":{"state_id":"SD","name_lc":"South Dakota","id":46,"name":"SOUTH DAKOTA","cx":6.350000000000001,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[17]],"properties":{"state_id":"ND","name_lc":"North Dakota","id":38,"name":"NORTH DAKOTA","cx":6.35,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[18]],"properties":{"state_id":"TX","name_lc":"Texas","id":48,"name":"TEXAS","cx":6.350000000000001,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[19]],"properties":{"state_id":"AR","name_lc":"Arkansas","id":5,"name":"ARKANSAS","cx":6.449999999999999,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[20]],"properties":{"state_id":"MO","name_lc":"Missouri","id":29,"name":"MISSOURI","cx":6.450000000000001,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[21]],"properties":{"state_id":"IL","name_lc":"Illinois","id":17,"name":"ILLINOIS","cx":6.450000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[22]],"properties":{"state_id":"IA","name_lc":"Iowa","id":19,"name":"IOWA","cx":6.449999999999999,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[23]],"properties":{"state_id":"MN","name_lc":"Minnesota","id":27,"name":"MINNESOTA","cx":6.449999999999999,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[24]],"properties":{"state_id":"MS","name_lc":"Mississippi","id":28,"name":"MISSISSIPPI","cx":6.550000000000001,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[25]],"properties":{"state_id":"KY","name_lc":"Kentucky","id":21,"name":"KENTUCKY","cx":6.550000000000001,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[26]],"properties":{"state_id":"IN","name_lc":"Indiana","id":18,"name":"INDIANA","cx":6.550000000000001,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[27]],"properties":{"state_id":"WI","name_lc":"Wisconsin","id":55,"name":"WISCONSIN","cx":6.550000000000001,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[28]],"properties":{"state_id":"AL","name_lc":"Alabama","id":1,"name":"ALABAMA","cx":6.649999999999999,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[29]],"properties":{"state_id":"TN","name_lc":"Tennessee","id":47,"name":"TENNESSEE","cx":6.649999999999999,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[30]],"properties":{"state_id":"WV","name_lc":"West Virginia","id":54,"name":"WEST VIRGINIA","cx":6.649999999999999,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[31]],"properties":{"state_id":"OH","name_lc":"Ohio","id":39,"name":"OHIO","cx":6.649999999999999,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[32]],"properties":{"state_id":"MI","name_lc":"Michigan","id":26,"name":"MICHIGAN","cx":6.649999999999999,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[33]],"properties":{"state_id":"GA","name_lc":"Georgia","id":13,"name":"GEORGIA","cx":6.75,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[34]],"properties":{"state_id":"SC","name_lc":"South Carolina","id":45,"name":"SOUTH CAROLINA","cx":6.75,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[35]],"properties":{"state_id":"VA","name_lc":"Virginia","id":51,"name":"VIRGINIA","cx":6.75,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[36]],"properties":{"state_id":"PA","name_lc":"Pennsylvania","id":42,"name":"PENNSYLVANIA","cx":6.75,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[37]],"properties":{"state_id":"FL","name_lc":"Florida","id":12,"name":"FLORIDA","cx":6.850000000000001,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[38]],"properties":{"state_id":"NC","name_lc":"North Carolina","id":37,"name":"NORTH CAROLINA","cx":6.85,"cy":3.7499990436382022}},{"type":"Polygon","arcs":[[39]],"properties":{"state_id":"MD","name_lc":"Maryland","id":24,"name":"MARYLAND","cx":6.85,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[40]],"properties":{"state_id":"NJ","name_lc":"New Jersey","id":34,"name":"NEW JERSEY","cx":6.85,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[41]],"properties":{"state_id":"NY","name_lc":"New York","id":36,"name":"NEW YORK","cx":6.85,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[42]],"properties":{"state_id":"DE","name_lc":"Delaware","id":10,"name":"DELAWARE","cx":6.949999999999999,"cy":3.849999018059293}},{"type":"Polygon","arcs":[[43]],"properties":{"state_id":"CT","name_lc":"Connecticut","id":9,"name":"CONNECTICUT","cx":6.949999999999999,"cy":3.949998992474373}},{"type":"Polygon","arcs":[[44]],"properties":{"state_id":"MA","name_lc":"Massachusetts","id":25,"name":"MASSACHUSETTS","cx":6.949999999999999,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[45]],"properties":{"state_id":"VT","name_lc":"Vermont","id":50,"name":"VERMONT","cx":6.95,"cy":4.149998941285872}},{"type":"Polygon","arcs":[[46]],"properties":{"state_id":"RI","name_lc":"Rhode Island","id":44,"name":"RHODE ISLAND","cx":7.050000000000001,"cy":4.049998966883285}},{"type":"Polygon","arcs":[[47]],"properties":{"state_id":"NH","name_lc":"New Hampshire","id":33,"name":"NEW HAMPSHIRE","cx":7.05,"cy":4.149998941285872}},{"type":"Polygon","arcs":[[48]],"properties":{"state_id":"ME","name_lc":"Maine","id":23,"name":"MAINE","cx":7.050000000000001,"cy":4.249998915681976}},{"type":"Polygon","arcs":[[49]],"properties":{"state_id":"OK","name_lc":"Oklahoma","id":40,"name":"OKLAHOMA","cx":6.249999999999998,"cy":3.649999069211261}},{"type":"Polygon","arcs":[[50]],"properties":{"state_id":"MP","name_lc":"Northern Mariana Islands","id":69,"name":"NORTHERN MARIANA ISLANDS","cx":5.949999999999999,"cy":3.5499990947786273}},{"type":"Polygon","arcs":[[51]],"properties":{"state_id":"GU","name_lc":"Guam","id":66,"name":"GUAM","cx":5.949999999999999,"cy":3.449999094778627}},{"type":"Polygon","arcs":[[52]],"properties":{"state_id":"AS","name_lc":"American Samoa","id":60,"name":"AMERICAN SAMOA","cx":6.049999999999999,"cy":3.449999094778627}},{"type":"Polygon","arcs":[[53]],"properties":{"state_id":"PR","name_lc":"Puerto Rico","id":72,"name":"PUERTO RICO","cx":6.950000000000001,"cy":3.449999094778627}},{"type":"Polygon","arcs":[[54]],"properties":{"state_id":"VI","name_lc":"US Virgin Islands","id":78,"name":"US VIRGIN ISLANDS","cx":7.050000000000001,"cy":3.449999094778627}}]}},"arcs":[[[479.07490730684236,250.62754179655136,null],[479.074801423456,250.80559454705275,0.015857208198125663],[478.89668340011286,250.80547719025316,0.015857208198125663],[478.8968057524699,250.6274238220224,0.015855798038806383],[479.07490730684236,250.62754179655136,null]],[[478.85573802794346,249.10063414282862,null],[478.8556193063686,249.2786863015201,0.01584583128989794],[478.6776284954599,249.27856441763416,0.01584583128989794],[478.6777656828223,249.10051164345919,0.015844243290304434],[478.85573802794346,249.10063414282862,null]],[[479.07240817661193,249.97143429126163,null],[479.07231891286756,250.14948675528822,0.015853609087227064],[478.89424100978874,250.14938881426613,0.015853609087227064],[478.8943474089347,249.97133584187867,0.015852129712725364],[479.07240817661193,249.97143429126163,null]],[[479.0725189975589,249.75421031450068,null],[479.07242800482663,249.93226274802802,0.015851742124214876],[478.8943710434473,249.9321641868393,0.015851742124214876],[478.89447950348205,249.75411124525732,0.015850233191602763],[479.0725189975589,249.75421031450068,null]],[[479.0726319277965,249.53698652476461,null],[479.0725392061435,249.71503879282352,0.01584982709994997],[478.8945035913813,249.71493961184206,0.01584982709994997],[478.8946141122248,249.53688683603747,0.01584828861144688],[479.0726319277965,249.53698652476461,null]],[[479.28955970368054,250.18875443780254,null],[479.28949266912775,250.36680629744055,0.01585543290781651],[479.1113936548837,250.36672977289123,0.01585543290781651],[479.11147749281724,250.18867751328415,0.01585397324461385],[479.28955970368054,250.18875443780254,null]],[[479.28964295561246,249.97153104824892,null],[479.28957459693737,250.1495830126551,0.01585361401057933],[479.1114961193287,250.1495060001697,0.01585361401057933],[479.11158161329746,249.97145363603306,0.01585212478940445],[479.28964295561246,249.97153104824892,null]],[[479.2897278229154,249.75430768069094,null],[479.2896581401704,249.9323596148988,0.015851747046399398],[479.1116006041294,249.93228211476867,0.015851747046399398],[479.111687754068,249.75422978107113,0.01585022826944787],[479.2897278229154,249.75430768069094,null]],[[479.28981430552653,249.53708449978777,null],[479.289743298763,249.71513626883078,0.015849832020950947],[479.11170710920624,249.71505828134988,0.015849832020950947],[479.1117959150503,249.5370061130601,0.015848283690472934],[479.28981430552653,249.53708449978777,null]],[[479.50682049065455,250.1888250816986,null],[479.506773956135,250.36687657402447,0.01585543783286749],[479.3286745049134,250.36682084529767,0.01585543783286749],[479.32873784273227,250.1887690616965,0.01585396831958364],[479.50682049065455,250.1888250816986,null]],[[479.5068782830696,249.97160214002264,null],[479.50683082936087,250.1496537373358,0.01585361893448188],[479.32875191467525,250.14959765327217,0.01585361893448188],[479.32881650359565,249.97154576485747,0.015852119865517378],[479.5068782830696,249.97160214002264,null]],[[479.50693719685523,249.75437922007282,null],[479.5068888239936,249.93243078740875,0.01585175196913593],[479.3288308507755,249.93237434822046,0.01585175196913593],[479.32889669074785,249.75432248995833,0.015850223346729694],[479.50693719685523,249.75437922007282,null]],[[479.5069972319677,249.53715648650584,null],[479.5069479399889,249.7152078889,0.01584983694250904],[479.32891131315375,249.71515109480114,0.01584983694250904],[479.3289784041296,249.53709940165763,0.0158482787689394],[479.5069972319677,249.53715648650584,null]],[[479.72404969539446,250.4078732459159,null],[479.72402417933046,250.58592426091863,0.015857227901824335],[479.5459041336933,250.58588955263005,0.015857227901824335],[479.545946118355,250.40783835493582,0.01585577833519347],[479.72404969539446,250.4078732459159,null]],[[479.7240816582737,250.18887022217854,null],[479.7240556237166,250.36692147979736,0.015855442758473632],[479.5459558729394,250.36688654681072,0.015855442758473632],[479.54599871074004,250.1888351066092,0.015853963393986974],[479.7240816582737,250.18887022217854,null]],[[479.7241139912591,249.97164756668977,null],[479.7240874424452,250.1496989294359,0.015853623858940187],[479.54600822813586,250.14966377371036,0.015853623858940187],[479.5460519121051,249.97161222849044,0.015852114941078237],[479.7241139912591,249.97164756668977,null]],[[479.72414695161535,249.75442493275492,null],[479.72411988856487,249.93247626566512,0.015851756892429687],[479.5460616156543,249.93244088733363,0.015851756892429687],[479.54610614575876,249.75438937205956,0.015850218423451932],[479.72414695161535,249.75442493275492,null]],[[479.72418053931796,249.53720248502913,null],[479.72415296205094,249.71525365314014,0.015849841864624157],[479.546116035454,249.7152180523369,0.015849841864624157],[479.54616141166076,249.53716670197292,0.01584827384683958],[479.72418053931796,249.53720248502913,null]],[[479.72401862236853,250.6250954473441,null],[479.72399362060344,250.8031460861871,0.015858950256838016],[479.54585385172874,250.8031116009009,0.015858950256838016],[479.5458949901527,250.62506077925946,0.015857530247989016],[479.72401862236853,250.6250954473441,null]],[[479.94133624392737,250.4078927574535,null],[479.94133081951856,250.5859436702926,0.01585723282914787],[479.7632106117847,250.58592962392916,0.01585723282914787],[479.76323250476133,250.4078786371553,0.015855773407880396],[479.94133624392737,250.4078927574535,null]],[[479.94134303885176,250.18888985930957,null],[479.9413375042175,250.3669410148256,0.015855447684649266],[479.7632375913068,250.36692687752748,0.015855447684649266],[479.76325992915446,250.1888756481207,0.015853958467816485],[479.94134303885176,250.18888985930957,null]],[[479.94134991245625,249.9716673283186,null],[479.9413442684972,250.14971858902288,0.015853628783968406],[479.7632648920175,250.1497043615829,0.015853628783968406],[479.76328767110147,249.97165302703198,0.015852110016059243],[479.94134991245625,249.9716673283186,null]],[[479.9413569194323,249.75444481880663,null],[479.9413511661527,249.93249604973641,0.01585176181628961],[479.7632927310346,249.9324817322084,0.01585176181628961],[479.76331595133746,249.75443042747645,0.015850213499596724],[479.9413569194323,249.75444481880663,null]],[[479.9413640597747,249.5372224954281,null],[479.9413581971788,249.7152735616207,0.01584984678730254],[479.7633211083368,249.715259154059,0.01584984678730254],[479.7633447698414,249.5372080141091,0.0158482689241706],[479.9413640597747,249.5372224954281,null]],[[480.1586228377225,250.40788692878337,null],[480.1586375049605,250.58593787214173,0.01585723775704069],[479.98051727252107,250.58594448768287,0.01585723775704069],[479.9805190738463,250.40789357914622,0.01585576847998295],[480.1586228377225,250.40788692878337,null]],[[480.1586044647023,250.18888399312098,null],[480.1586194299825,250.36693517913812,0.015855452611399652],[479.9805194923606,250.3669418375076,0.015855452611399652],[479.9805213302892,250.1888906862914,0.015853953541070928],[480.1586044647023,250.18888399312098,null]],[[480.15858587893626,249.97166142493887,null],[480.15860113982353,250.14971271612603,0.015853633709561603],[479.9805217386271,250.1497194169504,0.015853633709561603],[479.98052361286005,249.97166816054343,0.015852105090459038],[480.15858587893626,249.97166142493887,null]],[[480.1585669325426,249.75443887825813,null],[480.1585824890252,249.93249013965246,0.015851766740715735],[479.9805240291847,249.93249688290638,0.015851766740715735],[479.9805259397206,249.75444565627132,0.01585020857516513],[480.1585669325426,249.75443887825813,null]],[[480.3759093091317,250.40785575989688,null],[480.37594406803913,250.58590686645752,0.01585724268551415],[480.19782394828525,250.58593414391294,0.01585724268551415],[480.19780565796185,250.40788318093058,0.015855763551503487],[480.3759093091317,250.40785575989688,null]],[[480.375865768139,250.18885262360402,null],[480.3759012333564,250.36690397272625,0.015855457538733606],[480.19780140844557,250.36693142677316,0.015855457538733606],[480.197782746458,250.1888802211437,0.015853948613732384],[480.375865768139,250.18885262360402,null]],[[480.3758217229744,249.97162985654168,null],[480.375857888731,250.14968131073664,0.015853638635743763],[480.19777860027125,250.14970893983536,0.015853638635743763],[480.1977595696561,249.97165762904757,0.015852100164274845],[480.3758217229744,249.97162985654168,null]],[[480.3757768231828,249.7544071111004,null],[480.3758136894508,249.93245853540432,0.015851771665734586],[480.19775534237283,249.93248633945032,0.015851771665734586],[480.19773594314466,249.7544350584672,0.015850203650151818],[480.3757768231828,249.7544071111004,null]],[[480.3757310687972,249.53718455193592,null],[480.3757686355496,249.7152358113851,0.015849856634383062],[480.19773163476816,249.7152637902729,0.015849856634383062],[480.1977118669413,249.5372126740574,0.0158482590770771],[480.3757310687972,249.53718455193592,null]],[[480.59319549050707,250.40779925074804,null],[480.5932503411374,250.58585065319463,0.015857247614580558],[480.41513047146003,250.58589859260422,0.015857247614580558],[480.4150920894599,250.40784744249308,0.015855758622425074],[480.59319549050707,250.40779925074804,null]],[[480.5931267814756,250.18879575071193,null],[480.593182746684,250.36684739554386,0.015855462466648332],[480.4150831719066,250.3668956453088,0.015855462466648332],[480.4150440099744,250.18884425266202,0.01585394368580675],[480.5931267814756,250.18879575071193,null]],[[480.59305727684597,249.97157262307957,null],[480.5931143475263,250.1496243728078,0.015853643562512183],[480.4150353092567,250.1496729302221,0.015853643562512183],[480.4149953737648,249.97162143252856,0.015852095237497452],[480.59305727684597,249.97157262307957,null]],[[480.59298642358925,249.75434951728525,null],[480.59304459969775,249.93240123694443,0.01585177659133593],[480.4149865028673,249.9324501018244,0.01585177659133593],[480.41494579384613,249.7543986340481,0.015850198724537506],[480.59298642358925,249.75434951728525,null]],[[480.81057247781854,250.6249405982721,null],[480.8106459097274,250.8029920536073,0.015858974904860795],[480.63250670415425,250.80306021427248,0.015858974904860795],[480.63244940900717,250.62500912024217,0.015857505599938714],[480.81057247781854,250.6249405982721,null]],[[480.8103873370257,250.18871337436002,null],[480.81046380231055,250.36676544750733,0.015855467395164847],[480.6323646150885,250.36683449306162,0.015855467395164847],[480.63230495315213,250.18878278079276,0.015853938757265547],[480.8103873370257,250.18871337436002,null]],[[480.8102923728263,249.97148972446644,null],[480.81037034851647,250.14954190225453,0.01585364848987285],[480.63229169789037,250.1496113880569,0.01585364848987285],[480.6322308574614,249.97155957093196,0.015852090310116224],[480.8102923728263,249.97148972446644,null]],[[480.8101955659988,249.7542660967252,null],[480.8102750520345,249.9323182441864,0.015851781517530996],[480.6322173429364,249.932388169974,0.015851781517530996],[480.63215532406156,249.75433638295866,0.015850193798321817],[480.8101955659988,249.7542660967252,null]],[[480.81009691661484,249.5370426557968,null],[480.8101779129375,249.71509463796352,0.015849866483821196],[480.6321415502835,249.71516500347104,0.015849866483821196],[480.6320783530084,249.53711338153104,0.01584824922761369],[480.81009691661484,249.5370426557968,null]],[[481.0275268431913,249.9713811605776,null],[481.0276257240087,250.14943389895373,0.01585365341783794],[480.8495475984791,250.1495243132479,0.01585365341783794],[480.8494658530215,249.9714720441647,0.01585208538212671],[481.0275268431913,249.9713811605776,null]],[[481.0274040826485,249.75415684929362,null],[481.0275048787299,249.93220955700525,0.01585178644432966],[480.8494476948488,249.93230054380575,0.01585178644432966],[480.84936436602766,249.75424830510443,0.015850188871498],[481.0274040826485,249.75415684929362,null]],[[481.0272789855661,249.5369327252378,null],[481.02738169683727,249.71498526731423,0.01584987140943686],[480.84934585952175,249.715076826276,0.01584987140943686],[480.84926094739853,249.53702475292462,0.015848244301974516],[481.0272789855661,249.5369327252378,null]],[[481.0271504978421,249.31792843226094,null],[481.02725513992755,249.49598067071003,0.015847892029536965],[480.8492412340429,249.49607280617036,0.015847892029536965],[480.8491547257006,249.31802103615627,0.01584623514791568],[481.0271504978421,249.31792843226094,null]],[[481.2444602608099,249.53679680614124,null],[481.2445846871813,249.7148500404973,0.01584987633565999],[481.0665495127203,249.71496279305254,0.01584987633565999],[481.06644288562353,249.53691013592163,0.01584823937571283],[481.2444602608099,249.53679680614124,null]],[[481.2443046083608,249.31779166213803,null],[481.2444313737539,249.4958445924383,0.01584789695456166],[481.0664181308797,249.4959580549395,0.01584789695456166],[481.06630949935766,249.3179057015072,0.015846230222859158],[481.2443046083608,249.31779166213803,null]],[[481.244147379469,249.10056756786216,null],[481.24427646478046,249.27862006105138,0.015845885419501445],[481.0662853817343,249.27873422729223,0.015845885419501445],[481.0661747621575,249.10068231061348,0.015844189160717965],[481.244147379469,249.10056756786216,null]],[[479.50676335977175,250.40782839414177,null],[479.5067177520133,250.5858796439914,0.015857222975064755],[479.3285980058638,250.5858242737269,0.015857222975064755],[479.3286600822751,250.40777273242833,0.015855783261941026],[479.50676335977175,250.40782839414177,null]],[[478.85573802794346,250.62754179655136,null],[478.8556193063686,250.80559454705275,0.01584583128989794],[478.6776284954599,250.80547719025316,0.01584583128989794],[478.6777656828223,250.6274238220224,0.015844243290304434],[478.85573802794346,250.62754179655136,null]],[[478.85573802794346,250.84754179655135,null],[478.8556193063686,251.02559454705275,0.01584583128989794],[478.6776284954599,251.02547719025316,0.01584583128989794],[478.6777656828223,250.8474238220224,0.015844243290304434],[478.85573802794346,250.84754179655135,null]],[[479.07490730684236,250.84754179655135,null],[479.074801423456,251.02559454705275,0.015857208198125663],[478.89668340011286,251.02547719025316,0.015857208198125663],[478.8968057524699,250.8474238220224,0.015855798038806383],[479.07490730684236,250.84754179655135,null]],[[481.03057247781857,250.8449405982721,null],[481.0306459097274,251.0229920536073,0.015858974904860795],[480.8525067041542,251.02306021427248,0.015858974904860795],[480.8524494090072,250.84500912024217,0.015857505599938714],[481.03057247781857,250.8449405982721,null]],[[481.25057247781854,250.8449405982721,null],[481.2506459097274,251.0229920536073,0.015858974904860795],[481.07250670415425,251.02306021427248,0.015858974904860795],[481.07244940900716,250.84500912024217,0.015857505599938714],[481.25057247781854,250.8449405982721,null]]]},"meta":{"label":"USA Â» States (squares)","regions":"regions","tags":["cartogram","tilegram"],"projection":{"type":"geoAzimuthalEqualArea","rotate":[-6.51798260225669,-3.8779912827201346]},"weight":-99,"keys":[{"value":"name_lc","label":"Names","description":"The written name of the state."},{"value":"id","label":"ID","description":"Numerical code of the state."},{"value":"state_id","label":"Codes","description":"Abbreviation of the state."}],"extent":{"padding":false,"exclude":{}},"slug":"usa-states-squares"},"__id":"us-states-square"}')).meta.keys||null)&&(d[0]?d[0].value:null)||"id");T.data.forEach(function(t){var e=r.get(t.properties[o]);e&&(t.data=e,n.push(e))});var t=n.map(Ir(P.values)),a=function(t){var e=t.column,n=t.vis,r=t.values,i=t.theme,o=Cu(i,"colors.gradients.0",["#f0f9e8","#b6e3bb","#75c8c5","#4ba8c9","#2989bd","#0a6aad","#254b8c"]),a=Cu(i,"colors.categories.0",["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]),c=o.map(function(t,e){return{color:t,position:e/(o.length-1)}}),u=n.get("colorscale.palette",0),l=n.get("colorscale.stopCount",14),s=Iu("custom"===n.get("colorscale.stops")?n.get("colorscale.customStops",[]):null);if(Array.isArray(s)){for(var f=1/0,h=-1/0,p=r.length-1;0<=p;p--)r[p]<f&&(f=r[p]),r[p]>h&&(h=r[p]);t=(s=s.slice(1,l).map(function(t){return+t}))[s.length-1],s=[Math.min(f,s[0])].concat(df(s),[Math.max(h,t)])}return Gp("text"===e.type()?{mode:"categories",palette:Cu(i,"colors.categories",[a])[Number.isFinite(u)?u:0],values:r,map:n.get("colorscale.map",{}),categoryOrder:n.get("colorscale.categoryOrder",[])}:"discrete"===n.get("colorscale.mode","continuous")?{values:r,mode:"discrete",colors:n.get("colorscale.colors",c),stops:n.get("colorscale.stops","equidistant"),customStops:s,stopCount:l,rangeMin:n.get("colorscale.rangeMin"),rangeCenter:n.get("colorscale.rangeCenter"),rangeMax:n.get("colorscale.rangeMax")}:{values:r,mode:"continuous",colors:n.get("colorscale.colors",c),stops:n.get("colorscale.interpolation","equidistant").split("-")[0],stopCount:+(n.get("colorscale.interpolation","equidistant").split("-")[1]||5),rangeMin:n.get("colorscale.rangeMin"),rangeCenter:n.get("colorscale.rangeCenter"),rangeMax:n.get("colorscale.rangeMax")})}({vis:M,theme:S,column:M.axes(!0).values,values:t});M.get("hide-empty-regions")&&(T.canvas?I.get("region").features.forEach(function(t){T.hasNoData(t)&&(t.__hidden=!0)}):(B.get("gregion").classed("hidden",T.hasNoData),B.get("outlines").classed("hidden",T.hasNoData)),T.zoomVisRegions()),T.canvas?(T.canvasLayers.find(function(t){return"region"===t.id}).style=function(t){var e=Bt(i(t.fill=T.hasNoData(t)?E:a(t.data[P.values]))),n=e.r,r=e.g,e=e.b,t=!D||z(t)?1:.1;return{fill:"rgba(".concat(n,",").concat(r,",").concat(e,",").concat(t,")")}},T.draw()):(B.get("region").style("fill",function(t){return T.hasNoData(t)?i(t.fill=E):i(t.fill=a(t.data[P.values]))}),B.get("outlines").classed("has-data",function(t){return!T.hasNoData(t)}));var c,u,l,s,f,h,p,d=M.get("labels.enabled"),t=M.get("labels.type");P.labels&&d&&"column"===t&&(u=/<br *\/?>|\n/g,"number"===(l=M.axes(!0).labels.type())&&(f=M.chart().getMetadata("data.column-format",{})[P.labels]||{},s={prepend:f["number-prepend"]||"",append:f["number-append"]||"",minusChar:Cu(M.theme(),"typography.chart.minusCharacter","â"),format:M.get("map-label-format","0,0.[00]")}),T.data.forEach(function(t){t.__area=T.path.area(t)}),f=T.data.sort(function(t,e){return e.__area-t.__area}),h=T.g.append("g.labels"),(p=h.selectAll("g.label").data(f).enter().append("g.label").classed("inverted",v).each(function(t){var e=t.data&&t.data[P.labels]?"text"===l?t.data[P.labels].replace(/-/g,"- "):tf(t.data[P.labels],s):"";t.__lines=(e?e.match(e)?e.trim().split(u):Hr(e,10):[]).map(function(t){return"text"===l?t.replace(/- /g,"-"):t})})).append("text.buffer"),p.append("text.label").style("fill",b),p=h.selectAll("text").filter(function(t){return t.anchor&&isFinite(t.anchor[0])&&isFinite(t.anchor[1])}).translate(function(t){return t.anchor}),M.get("hide-empty-regions")&&p.classed("hidden",T.hasNoData),p.tspans(Ir("__lines"),12),h.selectAll("g.label").each(function(t){var e=H(this);e.classed("inverted")&&e.select("text.label").selectAll("tspan").style("fill",b(t))}),T.updateLabelOverlaps(h,"g.label"),p.classed("lbl-hidden",y),T.addZoomLayer("labels",h,p),T.onZoom(function(){T.updateLabelOverlaps(h,"g.label"),p.classed("lbl-hidden",y)})),d&&"places"===t&&T.renderPlaces();var g,m,t=L&&L.title&&(L.title!==M.get("tooltip.title")||L.body!==M.get("tooltip.body"));if((L=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},M.get("tooltip",{title:"",body:"",enabled:!1}))).enabled){try{L.template=dw.utils.htmlTemplate((L.title?"<h2>".concat(L.title,"</h2>"):"")+L.body)}catch(t){T.isDatawrapperEditor?L.template=dw.utils.htmlTemplate(hf(t)):L.template=function(){throw new Error}}(c=H(A.querySelector(".dw-tooltip"))).node()?t&&w(R,!1,!0):(c=H(A).append("div.dw-tooltip").style("max-height",.55*k[1]+"px").style("overflow-y","auto"),g=T.g.append("path.region-outline.hover-outline.has-data").st({vectorEffect:"non-scaling-stroke",strokeWidth:Cu(S,"vis.d3-maps-choropleth.borders.hoverOutline.scale",2)*T.SVG_TO_CANVAS_SCALE,strokeLinejoin:"round",fill:"none"}).attr("d","M0,0"),T.onZoom(function(){g.datum()&&(g.attr("d",T.path),_())}),T.canvas?(m=ff(I.get("region").features,T.mapProj),T.svg.on("mousemove",function(t){var e;C||!L.enabled&&!M.get("legend.interactive")||Zp||(e=Y(T.svg.node()),e=T.getZoom().invert(e),e=T.proj.invert(e),(e=m(e))&&e.data&&null!==e.data[P.values]?(L.enabled&&w(e),g.datum(e).attr("d",T.path),j("region.mouseenter",e.data),T.onHighlight&&T.onHighlight(e)):(j("region.mouseleave"),T.onHighlight&&T.onHighlight(null),c.style("visibility","hidden"),g.datum(null).attr("d","M0,0")))}).on("click",function(t){if(M.get("tooltip.sticky")||Zp){if(C)return _();var e=Y(T.svg.node()),e=T.getZoom().invert(e),e=T.proj.invert(e),e=m(e);e&&e!==C&&e.data&&null!==e.data[P.values]&&(C=e,c.classed("sticky",!0),g.datum(e).attr("d",T.path),w(e),j("region.click",e.properties))}})):(B.get("outlines").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",function(t){C||Zp||(w(t),T.onHighlight&&T.onHighlight(t),H(this).classed("hovered-region",!0))}).on("mousemove",function(t){C||Zp||w(t,!0)}).on("mouseout",function(){C||Zp||(T.onHighlight&&T.onHighlight(null),c.style("visibility","hidden"))}).on("click",function(t){M.get("tooltip.sticky")&&(""===L.title&&""===L.body||(B.get("outlines").classed("sticky",!1),C===t||T.hasNoData(t)?(C&&T.hasNoData(t)||C===t)&&_():(H(this).classed("sticky",!0),w(C=t))))}),H(A).selectAll("rect.background").on("click",_)))}else{t=A.querySelector(".dw-tooltip");t&&t.parentNode.removeChild(t)}M.mapKey.update({container:A,colorScale:a,map:T}),T.fixZoom(),T.resizeMap(M.size())}function y(t){return!(t&&t.data&&e&&e.length&&P.labels&&-1<e.indexOf(t.data[P.labels]))&&(T.scale<N||!!$&&!t._visible)}function v(t){return ne(t.fill).l<50}function b(t){var e=v(t),e=Cu(S,"vis.d3-maps-choropleth.labels.color.".concat(e?"inverted":"normal"),ne(t.fill).darker(e?-4:2.5)+"");return i(e)}function _(){C=!1,c.style("visibility","hidden").classed("sticky",!1)}function w(t,e,n){if(R=t,!T.hasNoData(t)&&(""!==L.title||""!==L.body)){if(!e){var r,i={FORMAT:pf};!function(i,t,o,e){var a=3<arguments.length&&void 0!==e&&e,c=new Set,u=new Map;t.forEach(function(t){for(var e=sf(t.name()),n=e,r=0;c.has(n);)n="".concat(e,"_").concat(++r);c.add(n),u.set(t.name(),n)}),t.forEach(function(t){var e,n=sf(t.name()),r=u.get(t.name());i[r]=o[a?n:t.name()],"number"===t.type()&&(n=t.range(),n=St(n,2),e={min:n[0],max:n[1],sum:t.sum(),mean:t.mean(),median:t.median()},Object.keys(e).forEach(function(t){i["".concat(r,"__").concat(t)]=e[t]}))})}(i,M.dataset.columns(),t.data);try{r=L.template(i).replace(/\n\n/g,"<br>")}catch(t){if(!T.isDatawrapperEditor)return;r=hf(t)}if(o=Zp?r+'<div class="dw-tooltip-close">&#x2715;</div>':r,""===r)return;c.style("visibility","visible").html(o)}var o;c.select(".dw-tooltip-close").on("click",_),n||(o=Y(A),n=x.clientWidth<450?.55:.45,T.sizeTooltip(o,A,c),c.style("max-height",x.clientHeight*n+"px"))}}}function z(t){if(t.data){if(void 0===D.min)return D.value&&t.data[P.values]===D.value;t=t.data[P.values];return t>=D.min&&t<D.max}}i||h.forEach(function(t){void 0!==f[t]&&f[t]!==M.get(t)&&(i=!0)}),i?(h.forEach(function(t){f[t]=M.get(t)}),u=M.size(),l=M.get("max-map-height"),s=M.get("map-align","center"),x.innerHTML="",c=M.get("basemap","bl"),M.initBaseMap(A,c,function(t){(T=t).svgLayers.forEach(function(t){var e=t.id,t=t.selection;B.set(e,t)}),T.canvasLayers.forEach(function(t){var e=t.id,n=t.style,t=t.features;I.set(e,{style:n,features:t})}),T.highlight=function(t){M.get("legend.interactive")&&(D=t,T.canvas?T.draw():B.get("region").style("opacity",function(t){return!D||z(t)?1:.1}))},o(),a=!1,M.renderingComplete()})):(T.svg&&(e=M.size(),r=M.get("max-map-height"),t=M.get("map-align","center"),u[0]===e[0]&&u[1]===e[1]&&r===l&&t===s||(u=e,l=r,s=t,T.resizeMap(e)),o()),a=!1,M.renderingComplete())},reset:function(){}}})}();