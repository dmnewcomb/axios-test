!function(){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}var u=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},St=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},o="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function c(t){t=a(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===o&&t.documentElement.namespaceURI===o?t.createElement(n):t.createElementNS(e,n)}})(t)}function e(){}function p(t){return null==t?e:function(){return this.querySelector(t)}}function l(){return[]}function m(t){return null==t?l:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function t(t){return new Array(t.length)}function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function x(t,e,n,r,o,i){for(var a,u=0,c=e.length,l=i.length;u<l;++u)(a=e[u])?(a.__data__=i[u],r[u]=a):n[u]=new d(t,i[u]);for(;u<c;++u)(a=e[u])&&(o[u]=a)}function M(t,e,n,r,o,i,a){for(var u,c,l={},s=e.length,f=i.length,h=new Array(s),p=0;p<s;++p)(u=e[p])&&(h[p]=c="$"+a.call(u,u.__data__,p,e),c in l?o[p]=u:l[c]=u);for(p=0;p<f;++p)(u=l[c="$"+a.call(t,i[p],p,i)])?((r[p]=u).__data__=i[p],l[c]=null):n[p]=new d(t,i[p]);for(p=0;p<s;++p)(u=e[p])&&l[h[p]]===u&&(o[p]=u)}function f(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function h(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function O(t,e){return t.style.getPropertyValue(e)||h(t).getComputedStyle(t,null).getPropertyValue(e)}function g(t){return t.trim().split(/^|\s+/)}function v(t){return t.classList||new y(t)}function y(t){this._node=t,this._names=g(t.getAttribute("class")||"")}function b(t,e){for(var n=v(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function w(t,e){for(var n=v(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function _(){this.textContent=""}function k(){this.innerHTML=""}function S(){this.nextSibling&&this.parentNode.appendChild(this)}function A(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function E(){return null}function $(){var t=this.parentNode;t&&t.removeChild(this)}function j(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function N(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var z={},At=null;function T(n,t,e){return n=L(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function L(n,r,o){return function(t){var e=At;At=t;try{n.call(this,this.__data__,r,o)}finally{At=e}}}function P(i){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,o=t.length;n<o;++n)e=t[n],i.type&&e.type!==i.type||e.name!==i.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function D(c,l,s){var f=z.hasOwnProperty(c.type)?T:L;return function(t,e,n){var r,o=this.__on,i=f(l,e,n);if(o)for(var a=0,u=o.length;a<u;++a)if((r=o[a]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=i,r.capture=s),void(r.value=l);this.addEventListener(c.type,i,s),r={type:c.type,name:c.name,value:l,listener:i,capture:s},o?o.push(r):this.__on=[r]}}function C(t,e,n){var r=h(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(z={mouseenter:"mouseover",mouseleave:"mouseout"}));var R=[null];function B(t,e){this._groups=t,this._parents=e}function F(){return new B([[document.documentElement]],R)}function K(t){return"string"==typeof t?new B([[document.querySelector(t)]],[document.documentElement]):new B([[t]],R)}function q(){for(var t,e=At;t=e.sourceEvent;)e=t;return e}function W(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function Q(t){var e=q();return e.changedTouches&&(e=e.changedTouches[0]),W(t,e)}function H(t,e,n){arguments.length<3&&(n=e,e=q().changedTouches);for(var r,o=0,i=e?e.length:0;o<i;++o)if((r=e[o]).identifier===n)return W(t,r);return null}function Y(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}B.prototype=F.prototype={constructor:B,select:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=e[o],c=u.length,l=r[o]=new Array(c),s=0;s<c;++s)(i=u[s])&&(a=t.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),l[s]=a);return new B(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,u=e[i],c=u.length,l=0;l<c;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),o.push(a));return new B(r,o)},filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new B(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var n,r=e?M:x,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=o[s],h=i[s],p=h.length,d=t.call(f,f&&f.__data__,s,o),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,e);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(_<=w&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new B(u,o))._enter=c,u._exit=l,u},enter:function(){return new B(this._enter||this._groups.map(t),this._parents)},exit:function(){return new B(this._exit||this._groups.map(t),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,o=Math.min(r,t),i=new Array(r),a=0;a<o;++a)for(var u,c=e[a],l=n[a],s=c.length,f=i[a]=new Array(s),h=0;h<s;++h)(u=c[h]||l[h])&&(f[h]=u);for(;a<r;++a)i[a]=e[a];return new B(i,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];0<=--i;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||f;for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,u=e[i],c=u.length,l=o[i]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(t)}return new B(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):O(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=g(t+"");if(arguments.length<2){for(var r=v(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?b:w)(this,t)}}:e?function(t){return function(){b(this,t)}}:function(t){return function(){w(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?_:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?k:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(S)},lower:function(){return this.each(A)},append:function(t){var e="function"==typeof t?t:c(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:c(t),r=null==e?E:"function"==typeof e?e:p(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each($)},clone:function(t){return this.select(t?N:j)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=i.length;if(!(arguments.length<2)){for(u=e?D:P,null==n&&(n=!1),r=0;r<a;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return C(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return C(this,t,e)}})(t,e))}};var I,Z,X=(1===(I=Y).length&&(Z=I,I=function(t,e){return Y(Z(t),e)}),function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=n+r>>>1;0<I(t[o],e)?r=o:n=1+o}return n});function U(t){return null===t?NaN:+t}function V(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}var G=Math.sqrt(50),J=Math.sqrt(10),tt=Math.sqrt(2);function et(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(G<=t?10:J<=t?5:tt<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(G<=t?10:J<=t?5:tt<=t?2:1)}function nt(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n<=n)for(r=n;++i<o;)null!=(n=t[i])&&r<n&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n<=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&r<n&&(r=n);return r}function rt(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);0<=--o;)for(e=(r=t[o]).length;0<=--e;)n[--a]=r[e];return n}function ot(t,e){var n,r=t.length,o=-1,i=0;if(null==e)for(;++o<r;)(n=+t[o])&&(i+=n);else for(;++o<r;)(n=+e(t[o],o,t))&&(i+=n);return i}function it(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var at="$";function ut(){}function ct(t,e){var n=new ut;if(t instanceof ut)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}ut.prototype=ct.prototype={constructor:ut,has:function(t){return at+t in this},get:function(t){return this[at+t]},set:function(t,e){return this[at+t]=e,this},remove:function(t){t=at+t;return t in this&&delete this[t]},clear:function(){for(var t in this)t[0]===at&&delete this[t]},keys:function(){var t,e=[];for(t in this)t[0]===at&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)t[0]===at&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)t[0]===at&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)t[0]===at&&++e;return e},empty:function(){for(var t in this)if(t[0]===at)return!1;return!0},each:function(t){for(var e in this)e[0]===at&&t(this[e],e.slice(1),this)}};var lt=ct.prototype;function st(t){var e,n=[];for(e in t)n.push(t[e]);return n}var ft=(qc=Array.prototype).map,ht=qc.slice,pt={name:"implicit"},Hn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dt(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var Yn=dt(function(e){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.exports=n});function gt(t,e,n){(t.prototype=e.prototype=n).constructor=t}function vt(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function mt(){}var yt=1/.7,bt="\\s*([+-]?\\d+)\\s*",wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xt=/^#([0-9a-f]{3,8})$/,Mt=new RegExp("^rgb\\("+[bt,bt,bt]+"\\)$"),kt=new RegExp("^rgb\\("+[_t,_t,_t]+"\\)$"),Et=new RegExp("^rgba\\("+[bt,bt,bt,wt]+"\\)$"),$t=new RegExp("^rgba\\("+[_t,_t,_t,wt]+"\\)$"),Ot=new RegExp("^hsl\\("+[wt,_t,_t]+"\\)$"),jt=new RegExp("^hsla\\("+[wt,_t,_t,wt]+"\\)$"),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zt(){return this.rgb().formatHex()}function Tt(){return this.rgb().formatRgb()}function Lt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Pt(e):3===n?new Bt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Dt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Dt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Mt.exec(t))?new Bt(e[1],e[2],e[3],1):(e=kt.exec(t))?new Bt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Et.exec(t))?Dt(e[1],e[2],e[3],e[4]):(e=$t.exec(t))?Dt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ot.exec(t))?Ht(e[1],e[2]/100,e[3]/100,1):(e=jt.exec(t))?Ht(e[1],e[2]/100,e[3]/100,e[4]):Nt.hasOwnProperty(t)?Pt(Nt[t]):"transparent"===t?new Bt(NaN,NaN,NaN,0):null}function Pt(t){return new Bt(t>>16&255,t>>8&255,255&t,1)}function Dt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bt(t,e,n,r)}function Ct(t){return t instanceof mt||(t=Lt(t)),t?new Bt((t=t.rgb()).r,t.g,t.b,t.opacity):new Bt}function Rt(t,e,n,r){return 1===arguments.length?Ct(t):new Bt(t,e,n,null==r?1:r)}function Bt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ft(){return"#"+Wt(this.r)+Wt(this.g)+Wt(this.b)}function qt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Wt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ht(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function Yt(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof mt||(t=Lt(t)),!t)return new It;if(t instanceof It)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=0<c&&c<1?0:a,new It(a,u,c,t.opacity)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}gt(mt,Lt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:zt,formatHex:zt,formatHsl:function(){return Yt(this).formatHsl()},formatRgb:Tt,toString:Tt}),gt(Bt,Rt,vt(mt,{brighter:function(t){return t=null==t?yt:Math.pow(yt,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Bt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ft,formatHex:Ft,formatRgb:qt,toString:qt})),gt(It,function(t,e,n,r){return 1===arguments.length?Yt(t):new It(t,e,n,null==r?1:r)},vt(mt,{brighter:function(t){return t=null==t?yt:Math.pow(yt,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Bt(Zt(240<=t?t-240:120+t,n,e),Zt(t,n,e),Zt(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Xt=Math.PI/180,Ut=180/Math.PI,Vt=.96422,Gt=.82521,Jt=4/29,Kt=6/29*3*(6/29);function Qt(t){if(t instanceof ee)return new ee(t.l,t.a,t.b,t.opacity);if(t instanceof ue)return ce(t);t instanceof Bt||(t=Ct(t));var e,n,r=ie(t.r),o=ie(t.g),i=ie(t.b),a=ne(.2225045*r+.7168786*o+.0606169*i);return r===o&&o===i?e=n=a:(e=ne((.4360747*r+.3850649*o+.1430804*i)/Vt),n=ne((.0139322*r+.0971045*o+.7141733*i)/Gt)),new ee(116*a-16,500*(e-a),200*(a-n),t.opacity)}function te(t,e,n,r){return 1===arguments.length?Qt(t):new ee(t,e,n,null==r?1:r)}function ee(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ne(t){return.008856451679035631<t?Math.pow(t,1/3):t/Kt+Jt}function re(t){return 6/29<t?t*t*t:Kt*(t-Jt)}function oe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ie(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ae(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ue)return new ue(t.h,t.c,t.l,t.opacity);if(t instanceof ee||(t=Qt(t)),0===t.a&&0===t.b)return new ue(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ut;return new ue(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new ue(t,e,n,null==r?1:r)}function ue(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ce(t){if(isNaN(t.h))return new ee(t.l,0,0,t.opacity);var e=t.h*Xt;return new ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}gt(ee,te,vt(mt,{brighter:function(t){return new ee(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ee(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Bt(oe(3.1338561*(e=Vt*re(e))-1.6168667*(t=+re(t))-.4906146*(n=Gt*re(n))),oe(-.9787684*e+1.9161415*t+.033454*n),oe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),gt(ue,ae,vt(mt,{brighter:function(t){return new ue(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ue(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ce(this).rgb()}}));var le=1.78277,se=-.29227,fe=-.90649,he=1.97294,pe=he*fe,de=he*le,ge=le*se- -.14861*fe;function ve(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof me)return new me(t.h,t.s,t.l,t.opacity);t instanceof Bt||(t=Ct(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(ge*r+pe*e-de*n)/(ge+pe-de),r=(he*(n-o)-se*(e=r-o))/fe,n=Math.sqrt(r*r+e*e)/(he*o*(1-o));return new me((e=n?Math.atan2(r,e)*Ut-120:NaN)<0?e+360:e,n,o,t.opacity)}(t):new me(t,e,n,null==r?1:r)}function me(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ye(t){return function(){return t}}function be(e,n){return function(t){return e+t*n}}function we(i){return 1==(i=+i)?_e:function(t,e){return e-t?(n=t,r=e,o=i,n=Math.pow(n,o),r=Math.pow(r,o)-n,o=1/o,function(t){return Math.pow(n+t*r,o)}):ye(isNaN(t)?e:t);var n,r,o}}function _e(t,e){var n=e-t;return n?be(t,n):ye(isNaN(t)?e:t)}gt(me,ve,vt(mt,{brighter:function(t){return t=null==t?yt:Math.pow(yt,t),new me(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new me(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Xt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),t=Math.sin(t);return new Bt(255*(e+n*(-.14861*r+le*t)),255*(e+n*(se*r+fe*t)),255*(e+he*r*n),this.opacity)}}));var xe=function t(e){var a=we(e);function n(e,t){var n=a((e=Rt(e)).r,(t=Rt(t)).r),r=a(e.g,t.g),o=a(e.b,t.b),i=_e(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=o(t),e.opacity=i(t),e+""}}return n.gamma=t,n}(1);function Me(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var ke=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Se=new RegExp(ke.source,"g");function Ae(t,r){var e,n,o,i,a,u=ke.lastIndex=Se.lastIndex=0,c=-1,l=[],s=[];for(t+="",r+="";(e=ke.exec(t))&&(n=Se.exec(r));)(o=n.index)>u&&(o=r.slice(u,o),l[c]?l[c]+=o:l[++c]=o),(e=e[0])===(n=n[0])?l[c]?l[c]+=n:l[++c]=n:(l[++c]=null,s.push({i:c,x:Me(e,n)})),u=Se.lastIndex;return u<r.length&&(o=r.slice(u),l[c]?l[c]+=o:l[++c]=o),l.length<2?s[0]?(a=s[0].x,function(t){return a(t)+""}):(i=r,function(){return i}):(r=s.length,function(t){for(var e,n=0;n<r;++n)l[(e=s[n]).i]=e.x(t);return l.join("")})}function Ee(t,e){var n,r=Yn(e);return null==e||"boolean"===r?ye(e):("number"===r?Me:"string"===r?(n=Lt(e))?(e=n,xe):Ae:e instanceof Lt?xe:e instanceof Date?function(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}:(n=e,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(e)?function(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a=0;a<r;++a)o[a]=Ee(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(t){for(a=0;a<r;++a)i[a]=o[a](t);return i}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},o={};for(n in null!==t&&"object"===Yn(t)||(t={}),null!==e&&"object"===Yn(e)||(e={}),e)n in t?r[n]=Ee(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}:Me:function(e,n){n=n||[];var r,o=e?Math.min(n.length,e.length):0,i=n.slice();return function(t){for(r=0;r<o;++r)i[r]=e[r]*(1-t)+n[r]*t;return i}}))(t,e)}function $e(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var Oe,je,Ne,ze,Te=180/Math.PI,Le={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pe(t,e,n,r,o,i){var a,u,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,c/=u),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Te,skewX:Math.atan(c)*Te,scaleX:a,scaleY:u}}function De(f,h,p,d){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,o,i,a,u,c,l=[],s=[];return t=f(t),e=f(e),n=t.translateX,r=t.translateY,o=e.translateX,i=e.translateY,a=l,u=s,n!==o||r!==i?(c=a.push("translate(",null,h,null,p),u.push({i:c-4,x:Me(n,o)},{i:c-2,x:Me(r,i)})):(o||i)&&a.push("translate("+o+h+i+p),u=t.rotate,n=e.rotate,c=l,u!==n?(180<u-n?n+=360:180<n-u&&(u+=360),s.push({i:c.push(g(c)+"rotate(",null,d)-2,x:Me(u,n)})):n&&c.push(g(c)+"rotate("+n+d),r=t.skewX,a=e.skewX,o=l,r!==a?s.push({i:o.push(g(o)+"skewX(",null,d)-2,x:Me(r,a)}):a&&o.push(g(o)+"skewX("+a+d),i=t.scaleX,u=t.scaleY,c=e.scaleX,n=e.scaleY,r=l,o=s,i!==c||u!==n?(a=r.push(g(r)+"scale(",null,",",null,")"),o.push({i:a-4,x:Me(i,c)},{i:a-2,x:Me(u,n)})):1===c&&1===n||r.push(g(r)+"scale("+c+","+n+")"),t=e=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var Ce=De(function(t){return"none"===t?Le:(Oe||(Oe=document.createElement("DIV"),je=document.documentElement,Ne=document.defaultView),Oe.style.transform=t,t=Ne.getComputedStyle(je.appendChild(Oe),null).getPropertyValue("transform"),je.removeChild(Oe),Pe(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Re=De(function(t){return null==t?Le:((ze=ze||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=ze.transform.baseVal.consolidate())?Pe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Le)},", ",")",")"),Be=Math.SQRT2;function Fe(t){return((t=Math.exp(t))+1/t)/2}function qe(t,e){var r,o,i,n,a=t[0],u=t[1],c=t[2],l=e[0],t=e[1],e=e[2],s=l-a,f=t-u,l=s*s+f*f;return(n=l<1e-12?(i=Math.log(e/c)/Be,function(t){return[a+t*s,u+t*f,c*Math.exp(Be*t*i)]}):(r=Math.sqrt(l),t=(e*e-c*c+4*l)/(2*c*2*r),n=(e*e-c*c-4*l)/(2*e*2*r),o=Math.log(Math.sqrt(t*t+1)-t),i=(Math.log(Math.sqrt(n*n+1)-n)-o)/Be,function(t){var e=t*i,n=Fe(o),t=c/(2*r)*(n*(t=Be*e+o,((t=Math.exp(2*t))-1)/(t+1))-(t=o,((t=Math.exp(t))-1/t)/2));return[a+t*s,u+t*f,c*n/Fe(Be*e+o)]})).duration=1e3*i,n}function We(e,t){var n=_e((e=te(e)).l,(t=te(t)).l),r=_e(e.a,t.a),o=_e(e.b,t.b),i=_e(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=o(t),e.opacity=i(t),e+""}}function He(u){return function t(a){function e(e,t){var n=u((e=ve(e)).h,(t=ve(t)).h),r=_e(e.s,t.s),o=_e(e.l,t.l),i=_e(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=o(Math.pow(t,a)),e.opacity=i(t),e+""}}return a=+a,e.gamma=t,e}(1)}He(function(t,e){var n=e-t;return n?be(t,180<n||n<-180?n-360*Math.round(n/360):n):ye(isNaN(t)?e:t)});var Ye=He(_e);function Ie(t){return+t}var Ze=[0,1];function Xe(t){return t}function Ue(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Ve(t){var e=t[0],n=t[t.length-1];return n<e&&(t=e,e=n,n=t),function(t){return Math.max(e,Math.min(n,t))}}function Ge(t,e,n){var r=t[0],t=t[1],o=e[0],e=e[1],o=t<r?(r=Ue(t,r),n(e,o)):(r=Ue(r,t),n(o,e));return function(t){return o(r(t))}}function Je(n,t,e){var r=Math.min(n.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=Ue(n[a],n[a+1]),i[a]=e(t[a],t[a+1]);return function(t){var e=X(n,t,1,r)-1;return i[e](o[e](t))}}function Ke(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qe(){var n,r,e,o,i,a,u=Ze,c=Ze,l=Ee,s=Xe;function f(){return o=2<Math.min(u.length,c.length)?Je:Ge,i=a=null,h}function h(t){return isNaN(t=+t)?e:(i=i||o(u.map(n),c,l))(n(s(t)))}return h.invert=function(t){return s(r((a=a||o(c,u.map(n),Me))(t)))},h.domain=function(t){return arguments.length?(u=ft.call(t,Ie),s===Xe||(s=Ve(u)),f()):u.slice()},h.range=function(t){return arguments.length?(c=ht.call(t),f()):c.slice()},h.rangeRound=function(t){return c=ht.call(t),l=$e,f()},h.clamp=function(t){return arguments.length?(s=t?Ve(u):Xe,h):s!==Xe},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,r=e,f()}}function tn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,e=t.slice(0,n);return[1<e.length?e[0]+e.slice(2):e,+t.slice(n+1)]}function en(t){return(t=tn(Math.abs(t)))?t[1]:NaN}var nn,rn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function on(t){if(!(e=rn.exec(t)))throw new Error("invalid format: "+t);var e;return new an({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function an(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function un(t,e){e=tn(t,e);if(!e)return t+"";t=e[0],e=e[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}on.prototype=an.prototype,an.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var cn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return un(100*t,e)},r:un,s:function(t,e){var n=tn(t,e);if(!n)return t+"";var r=n[0],o=n[1],n=o-(nn=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,o=r.length;return n===o?r:o<n?r+new Array(n-o+1).join("0"):0<n?r.slice(0,n)+"."+r.slice(n):"0."+new Array(1-n).join("0")+tn(t,Math.max(0,e+n-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ln(t){return t}var sn,fn,hn,pn,dn,gn,vn,mn,yn,bn,wn,_n,xn,Mn=Array.prototype.map,kn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sn(t){return Math.max(0,-en(Math.abs(t)))}function An(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(en(e)/3)))-en(Math.abs(t)))}function En(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,en(e)-en(t))+1}function $n(u){var c=u.domain;return u.ticks=function(t){var e=c();return function(t,e,n){var r,o,i,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=et(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++u<o;)i[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),i=new Array(o=Math.ceil(t-e+1));++u<o;)i[u]=(t-u)/a;return r&&i.reverse(),i}(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){var n=c();return function(t,e,n,r){var o,i,a,u,c=(i=t,a=e,u=n,n=Math.abs(a-i)/Math.max(0,u),u=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),G<=(n/=u)?u*=10:J<=n?u*=5:tt<=n&&(u*=2),a<i?-u:u);switch((r=on(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=An(c,l))||(r.precision=o),fn(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=En(c,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Sn(c))||(r.precision=o-2*("%"===r.type))}return sn(r)}(n[0],n[n.length-1],null==t?10:t,e)},u.nice=function(t){null==t&&(t=10);var e,n=c(),r=0,o=n.length-1,i=n[r],a=n[o];return a<i&&(e=i,i=a,a=e,e=r,r=o,o=e),0<(e=et(i,a,t))?e=et(i=Math.floor(i/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=et(i=Math.ceil(i*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(i/e)*e,n[o]=Math.ceil(a/e)*e,c(n)):e<0&&(n[r]=Math.ceil(i*e)/e,n[o]=Math.floor(a*e)/e,c(n)),u},u}function On(){var t,e,n=(e=t=Xe,Qe()(t,e));return n.copy=function(){return Ke(n,On())},it.apply(n,arguments),$n(n)}function jn(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Nn(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zn(t){return t<0?-t*t:t*t}function Tn(e){var t=e(Xe,Xe),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Xe,Xe):.5===n?e(Nn,zn):e(jn(n),jn(1/n)):n},$n(t)}function Ln(){return function t(){var e=Tn(Qe());return e.copy=function(){return Ke(e,t()).exponent(e.exponent())},it.apply(e,arguments),e}.apply(null,arguments).exponent(.5)}function Pn(t){var l=(t=on(t)).fill,s=t.align,f=t.sign,e=t.symbol,h=t.zero,p=t.width,d=t.comma,g=t.precision,v=t.trim,m=t.type;"n"===m?(d=!0,m="g"):cn[m]||(void 0===g&&(g=12),v=!0,m="g"),(h||"0"===l&&"="===s)&&(h=!0,l="0",s="=");var y="$"===e?vn:"#"===e&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===e?mn:/[%p]/.test(m)?wn:"",w=cn[m],_=/[defgprs%]/.test(m);function n(t){var e,n,r,o=y,i=b;if("c"===m)i=w(t)+i,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?xn:w(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;0<o&&(o=0)}return 0<o?t.slice(0,o)+t.slice(e+1):t}(t)),a&&0==+t&&"+"!==f&&(a=!1),o=(a?"("===f?f:_n:"-"===f||"("===f?"":f)+o,i=("s"===m?kn[8+nn/3]:"")+i+(a&&"("===f?")":""),_)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){i=(46===r?yn+t.slice(e+1):t.slice(e))+i,t=t.slice(0,e);break}}d&&!h&&(t=gn(t,1/0));var u=o.length+t.length+i.length,c=u<p?new Array(p-u+1).join(l):"";switch(d&&h&&(t=gn(c+t,c.length?p-i.length:1/0),c=""),s){case"<":t=o+t+i+c;break;case"=":t=o+c+t+i;break;case"^":t=c.slice(0,u=c.length>>1)+o+t+i+c.slice(u);break;default:t=c+o+t+i}return bn(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}gn=void 0===(cs={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}).grouping||void 0===cs.thousands?ln:(hn=Mn.call(cs.grouping,Number),pn=cs.thousands+"",function(t,e){for(var n=t.length,r=[],o=0,i=hn[0],a=0;0<n&&0<i&&(e<a+i+1&&(i=Math.max(1,e-a)),r.push(t.substring(n-=i,n+i)),!((a+=i+1)>e));)i=hn[o=(o+1)%hn.length];return r.reverse().join(pn)}),vn=void 0===cs.currency?"":cs.currency[0]+"",mn=void 0===cs.currency?"":cs.currency[1]+"",yn=void 0===cs.decimal?".":cs.decimal+"",bn=void 0===cs.numerals?ln:(dn=Mn.call(cs.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return dn[+t]})}),wn=void 0===cs.percent?"%":cs.percent+"",_n=void 0===cs.minus?"-":cs.minus+"",xn=void 0===cs.nan?"NaN":cs.nan+"",sn=(Mn={format:Pn,formatPrefix:function(t,e){var n=Pn(((t=on(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(en(e)/3))),r=Math.pow(10,-e),o=kn[8+e/3];return function(t){return n(r*t)+o}}}).format,fn=Mn.formatPrefix;var Dn={value:function(){}};function Cn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Rn(r)}function Rn(t){this._=t}function Bn(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Dn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Fn(){At.preventDefault(),At.stopImmediatePropagation()}Rn.prototype=Cn.prototype={constructor:Rn,on:function(t,e){var n,r,o=this._,i=(r=o,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,u=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<u;)if(n=(t=i[a]).type)o[n]=Bn(o[n],t.name,e);else if(null==e)for(n in o)o[n]=Bn(o[n],t.name,null);return this}for(;++a<u;)if((n=(t=i[a]).type)&&(n=function(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}(o[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new Rn(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var qn,Wn,In=0,Zn=0,Xn=0,Un=0,Vn=0,Gn=0,Jn="object"===("undefined"==typeof performance?"undefined":Yn(performance))&&performance.now?performance:Date,Kn="object"===("undefined"==typeof window?"undefined":Yn(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qn(){return Vn||(Kn(tr),Vn=Jn.now()+Gn)}function tr(){Vn=0}function er(){this._call=this._time=this._next=null}function nr(t,e,n){var r=new er;return r.restart(t,e,n),r}function rr(){Vn=(Un=Jn.now())+Gn,In=Zn=0;try{!function(){Qn(),++In;for(var t,e=qn;e;)0<=(t=Vn-e._time)&&e._call.call(null,t),e=e._next;--In}()}finally{In=0,function(){for(var t,e,n=qn,r=1/0;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:qn=e);Wn=t,ir(r)}(),Vn=0}}function or(){var t=Jn.now(),e=t-Un;1e3<e&&(Gn-=e,Un=t)}function ir(t){In||(Zn=Zn&&clearTimeout(Zn),24<t-Vn?(t<1/0&&(Zn=setTimeout(rr,t-Jn.now()-Gn)),Xn=Xn&&clearInterval(Xn)):(Xn||(Un=Jn.now(),Xn=setInterval(or,1e3)),In=1,Kn(rr)))}function ar(e,n,t){var r=new er;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}er.prototype=nr.prototype={constructor:er,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Qn():+n)+(null==e?0:+e),this._next||Wn===this||(Wn?Wn._next=this:qn=this,Wn=this),this._call=t,this._time=n,ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,ir())}};var ur=Cn("start","end","cancel","interrupt"),cr=[];function lr(t,e,n,r,o,i){var a,u,c,l,s,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function h(t){var e,n,r,o;if(1!==c.state)return d();for(e in s)if((o=s[e]).name===c.name){if(3===o.state)return ar(h);4===o.state?(o.state=6,o.timer.stop(),o.on.call("interrupt",a,a.__data__,o.index,o.group),delete s[e]):+e<u&&(o.state=6,o.timer.stop(),o.on.call("cancel",a,a.__data__,o.index,o.group),delete s[e])}if(ar(function(){3===c.state&&(c.state=4,c.timer.restart(p,c.delay,c.time),p(t))}),c.state=2,c.on.call("start",a,a.__data__,c.index,c.group),2===c.state){for(c.state=3,l=new Array(r=c.tween.length),e=0,n=-1;e<r;++e)(o=c.tween[e].value.call(a,a.__data__,c.index,c.group))&&(l[++n]=o);l.length=n+1}}function p(t){for(var e=t<c.duration?c.ease.call(null,t/c.duration):(c.timer.restart(d),c.state=5,1),n=-1,r=l.length;++n<r;)l[n].call(a,e);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),d())}function d(){for(var t in c.state=6,c.timer.stop(),delete s[u],s)return;delete a.__transition}a=t,u=n,c={name:e,index:r,group:o,on:ur,tween:cr,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0},((s=a.__transition)[u]=c).timer=nr(function(t){c.state=1,c.timer.restart(h,c.delay,c.time),c.delay<=t&&h(t-c.delay)},0,c.time)}function sr(t,e){e=hr(t,e);if(0<e.state)throw new Error("too late; already scheduled");return e}function fr(t,e){e=hr(t,e);if(3<e.state)throw new Error("too late; already running");return e}function hr(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function pr(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=2<n.state&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}function dr(t,e,n){var r=t._id;return t.each(function(){var t=fr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return hr(t,r).value[e]}}function gr(t,e){var n;return("number"==typeof e?Me:e instanceof Lt?xe:(n=Lt(e))?(e=n,xe):Ae)(t,e)}function vr(r,o){var i,a;function t(){var e,n,t=o.apply(this,arguments);return t!==a&&(i=(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))})),i}return t._value=o,t}function mr(r,o){var i,a;function t(){var e,n,t=o.apply(this,arguments);return t!==a&&(i=(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))})),i}return t._value=o,t}var yr=F.prototype.constructor;function br(t){return function(){this.style.removeProperty(t)}}function wr(o,i,a){var u,c;function t(){var e,n,r,t=i.apply(this,arguments);return t!==c&&(u=(c=t)&&(e=o,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)})),u}return t._value=i,t}function _r(n){var r,o;function t(){var e,t=n.apply(this,arguments);return t!==o&&(r=(o=t)&&(e=t,function(t){this.textContent=e.call(this,t)})),r}return t._value=n,t}var xr=0;function Mr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}Mr.prototype={constructor:Mr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=p(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,c,l=r[a],s=l.length,f=i[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,lr(f[h],e,n,h,f,hr(u,n)));return new Mr(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=m(t));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),d=hr(c,n),g=0,v=p.length;g<v;++g)(h=p[g])&&lr(h,e,n,g,p,d);i.push(p),a.push(c)}return new Mr(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=s(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,c=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new Mr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,o=Math.min(r,t),i=new Array(r),a=0;a<o;++a)for(var u,c=e[a],l=n[a],s=c.length,f=i[a]=new Array(s),h=0;h<s;++h)(u=c[h]||l[h])&&(f[h]=u);for(;a<r;++a)i[a]=e[a];return new Mr(i,this._parents,this._name,this._id)},selection:function(){return new yr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++xr,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)(a=u[l])&&lr(a,t,n,l,u,{time:(a=hr(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new Mr(r,this._parents,t,n)},call:(cs=F.prototype).call,nodes:cs.nodes,node:cs.node,size:cs.size,empty:cs.empty,each:cs.each,on:function(t,e){var n,r,o,i,a,u,c=this._id;return arguments.length<2?hr(this.node(),c).on.on(t):this.each((n=c,o=e,u=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?sr:fr,function(){var t=u(this,n),e=t.on;e!==i&&(a=(i=e).copy()).on(r,o),t.on=a}))},attr:function(t,e){var n=a(t),r="transform"===n?Re:gr;return this.attrTween(t,"function"==typeof e?(n.local?function(r,o,i){var a,u,c;return function(){var t,e,n=i(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===u?c:(u=e,c=o(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,o,i){var a,u,c;return function(){var t,e,n=i(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===u?c:(u=e,c=o(a=t,n));this.removeAttribute(r)}})(n,r,dr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var o,i,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===o?i:i=n(o=t,r)}}:function(e,n,r){var o,i,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===o?i:i=n(o=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;t=a(t);return this.tween(n,(t.local?vr:mr)(t,e))},style:function(t,e,n){var r,o,i,a,u,c,l,s,f,h,p,d,g,v,m,y,b,w,_,x,M,k,S,A,E,$="transform"==(t+="")?Ce:gr;return null==e?this.styleTween(t,(M=t,k=$,function(){var t=O(this,M),e=(this.style.removeProperty(M),O(this,M));return t===e?null:t===S&&e===A?E:E=k(S=t,A=e)})).on("end.style."+t,br(t)):"function"==typeof e?this.styleTween(t,(y=$,b=dr(this,"style."+(m=t),e),function(){var t=O(this,m),e=b(this),n=e+"";return null==e&&(this.style.removeProperty(m),n=e=O(this,m)),t===n?null:t===w&&n===_?x:(_=n,x=y(w=t,e))})).each((l=this._id,v="end."+(g="style."+(s=t)),function(){var t=fr(this,l),e=t.on,n=null==t.value[g]?d=d||br(s):void 0;e===f&&p===n||(h=(f=e).copy()).on(v,p=n),t.on=h})):this.styleTween(t,(r=t,o=$,c=(i=e)+"",function(){var t=O(this,r);return t===c?null:t===a?u:u=o(a=t,i)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,wr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=dr(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,_r(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=hr(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?function(o,i){var a,u;return function(){var t=fr(this,o),e=t.tween;if(e!==a)for(var n=0,r=(u=a=e).length;n<r;++n)if(u[n].name===i){(u=u.slice()).splice(n,1);break}t.tween=u}}:function(i,a,u){var c,l;if("function"!=typeof u)throw new Error;return function(){var t=fr(this,i),e=t.tween;if(e!==c){l=(c=e).slice();for(var n={name:a,value:u},r=0,o=l.length;r<o;++r)if(l[r].name===a){l[r]=n;break}r===o&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){sr(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){sr(this,t).delay=e}})(e,t)):hr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){fr(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){fr(this,t).duration=e}})(e,t)):hr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){fr(this,t).ease=e}}(e,t)):hr(this.node(),e).ease},end:function(){var o,i,a=this,u=a._id,c=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--c&&t()}};a.each(function(){var t=fr(this,u),e=t.on;e!==o&&((i=(o=e).copy())._.cancel.push(n),i._.interrupt.push(n),i._.end.push(r)),t.on=i})})}};var kr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Sr(t){return function(){return t}}function Ar(t,e,n){this.target=t,this.type=e,this.transform=n}function Er(t,e,n){this.k=t,this.x=e,this.y=n}F.prototype.interrupt=function(t){return this.each(function(){pr(this,t)})},F.prototype.transition=function(t){var e,n;t=t instanceof Mr?(e=t._id,t._name):(e=++xr,(n=kr).time=Qn(),null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],c=u.length,l=0;l<c;++l)(a=u[l])&&lr(a,t,e,l,u,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return kr.time=Qn(),kr;return n}(a,e));return new Mr(r,this._parents,t,e)},Er.prototype={constructor:Er,scale:function(t){return 1===t?this:new Er(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Er(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $r=new Er(1,0,0);function Or(t){for(;!t.__zoom;)if(!(t=t.parentNode))return $r;return t.__zoom}function jr(){At.stopImmediatePropagation()}function Nr(){At.preventDefault(),At.stopImmediatePropagation()}function zr(){return!At.ctrlKey&&!At.button}function Tr(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Lr(){return this.__zoom||$r}function Pr(){return-At.deltaY*(1===At.deltaMode?.05:At.deltaMode?1:.002)}function Dr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cr(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],n=t.invertY(e[1][1])-n[1][1];return t.translate(r<o?(r+o)/2:Math.min(0,r)||Math.max(0,o),i<n?(i+n)/2:Math.min(0,i)||Math.max(0,n))}function Rr(){var h,u,c=zr,s=Tr,p=Cr,o=Pr,e=Dr,i=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],a=250,f=qe,n=Cn("start","zoom","end"),l=500,g=0;function v(t){t.property("__zoom",Lr).on("wheel.zoom",x).on("mousedown.zoom",M).on("dblclick.zoom",k).filter(e).on("touchstart.zoom",S).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(i[0],Math.min(i[1],e)))===t.k?t:new Er(e,t.x,t.y)}function y(t,e,n){var r=e[0]-n[0]*t.k,n=e[1]-n[1]*t.k;return r===t.x&&n===t.y?t:new Er(t.k,r,n)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,c,l){t.on("start.zoom",function(){_(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).end()}).tween("zoom",function(){var t=this,e=arguments,r=_(t,e),n=s.apply(t,e),o=null==l?b(n):"function"==typeof l?l.apply(t,e):l,i=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),n=t.__zoom,a="function"==typeof c?c.apply(t,e):c,u=f(n.invert(o).concat(i/n.k),a.invert(o).concat(i/a.k));return function(t){var e,n;t=1===t?a:(e=u(t),new Er(n=i/e[2],o[0]-e[0]*n,o[1]-e[1]*n)),r.zoom(null,t)}})}function _(t,e,n){return!n&&t.__zooming||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.active=0,this.extent=s.apply(t,e),this.taps=0}function x(){if(c.apply(this,arguments)){var t=_(this,arguments),e=this.__zoom,n=Math.max(i[0],Math.min(i[1],e.k*Math.pow(2,o.apply(this,arguments)))),r=Q(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],pr(this),t.start()}Nr(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},150),t.zoom("mouse",p(y(m(e,n),t.mouse[0],t.mouse[1]),t.extent,d))}}function M(){var n,t,e,r,o,i,a;!u&&c.apply(this,arguments)&&(n=_(this,arguments,!0),t=K(At.view).on("mousemove.zoom",function(){{var t,e;Nr(),n.moved||(t=At.clientX-r,e=At.clientY-o,n.moved=g<t*t+e*e)}n.zoom("mouse",p(y(n.that.__zoom,n.mouse[0]=Q(n.that),n.mouse[1]),n.extent,d))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),function(t,e){var n=t.document.documentElement,r=K(t).on("dragstart.drag",null);e&&(r.on("click.drag",Fn,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(At.view,n.moved),Nr(),n.end()},!0),e=Q(this),r=At.clientX,o=At.clientY,i=At.view,a=i.document.documentElement,i=K(i).on("dragstart.drag",Fn,!0),"onselectstart"in a?i.on("selectstart.drag",Fn,!0):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none"),jr(),n.mouse=[e,this.__zoom.invert(e)],pr(this),n.start())}function k(){var t,e,n,r;c.apply(this,arguments)&&(t=this.__zoom,e=Q(this),r=t.invert(e),n=t.k*(At.shiftKey?.5:2),r=p(y(m(t,n),e,r),s.apply(this,arguments),d),Nr(),0<a?K(this).transition().duration(a).call(w,r,e):K(this).call(v.transform,r))}function S(){if(c.apply(this,arguments)){var t,e,n,r,o=At.touches,i=o.length,a=_(this,arguments,At.changedTouches.length===i);for(jr(),e=0;e<i;++e)r=[r=H(this,o,(n=o[e]).identifier),this.__zoom.invert(r),n.identifier],a.touch0?a.touch1||a.touch0[2]===r[2]||(a.touch1=r,a.taps=0):(a.touch0=r,t=!0,a.taps=1+!!h);h=h&&clearTimeout(h),t&&(a.taps<2&&(h=setTimeout(function(){h=null},l)),pr(this),a.start())}}function A(){if(this.__zooming){var t,e=_(this,arguments),n=At.changedTouches,r=n.length;for(Nr(),h=h&&clearTimeout(h),t=e.taps=0;t<r;++t)f=H(this,n,(s=n[t]).identifier),e.touch0&&e.touch0[2]===s.identifier?e.touch0[0]=f:e.touch1&&e.touch1[2]===s.identifier&&(e.touch1[0]=f);if(s=e.that.__zoom,e.touch1)var o=e.touch0[0],i=e.touch0[1],a=e.touch1[0],u=e.touch1[1],c=(c=a[0]-o[0])*c+(c=a[1]-o[1])*c,l=(l=u[0]-i[0])*l+(l=u[1]-i[1])*l,s=m(s,Math.sqrt(c/l)),f=[(o[0]+a[0])/2,(o[1]+a[1])/2],u=[(i[0]+u[0])/2,(i[1]+u[1])/2];else{if(!e.touch0)return;f=e.touch0[0],u=e.touch0[1]}e.zoom("touch",p(y(s,f,u),e.extent,d))}}function E(){if(this.__zooming){var t,e,n,r=_(this,arguments),o=At.changedTouches,i=o.length;for(jr(),u&&clearTimeout(u),u=setTimeout(function(){u=null},l),t=0;t<i;++t)e=o[t],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):(r.end(),2===r.taps&&(n=K(this).on("dblclick.zoom"))&&n.apply(this,arguments))}}return v.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",Lr),t!==r?w(t,e,n):r.interrupt().each(function(){_(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},v.scaleBy=function(t,e,n){v.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n)},v.scaleTo=function(t,i,a){v.transform(t,function(){var t=s.apply(this,arguments),e=this.__zoom,n=null==a?b(t):"function"==typeof a?a.apply(this,arguments):a,r=e.invert(n),o="function"==typeof i?i.apply(this,arguments):i;return p(y(m(e,o),n,r),t,d)},a)},v.translateBy=function(t,e,n){v.transform(t,function(){return p(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),s.apply(this,arguments),d)})},v.translateTo=function(t,r,o,i){v.transform(t,function(){var t=s.apply(this,arguments),e=this.__zoom,n=null==i?b(t):"function"==typeof i?i.apply(this,arguments):i;return p($r.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof o?-o.apply(this,arguments):-o),t,d)},i)},r.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,e,n,r){var o=At;t.sourceEvent=At,At=t;try{e.apply(n,r)}finally{At=o}}(new Ar(v,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Sr(+t),v):o},v.filter=function(t){return arguments.length?(c="function"==typeof t?t:Sr(!!t),v):c},v.touchable=function(t){return arguments.length?(e="function"==typeof t?t:Sr(!!t),v):e},v.extent=function(t){return arguments.length?(s="function"==typeof t?t:Sr([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):s},v.scaleExtent=function(t){return arguments.length?(i[0]=+t[0],i[1]=+t[1],v):[i[0],i[1]]},v.translateExtent=function(t){return arguments.length?(d[0][0]=+t[0][0],d[1][0]=+t[1][0],d[0][1]=+t[0][1],d[1][1]=+t[1][1],v):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},v.constrain=function(t){return arguments.length?(p=t,v):p},v.duration=function(t){return arguments.length?(a=+t,v):a},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=n.on.apply(n,arguments);return t===n?v:t},v.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,v):Math.sqrt(g)},v}function Br(n,r){var t=this.node();return t?t.getBBox?this.attr("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+","+e[1]+")"}):this.style("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+"px,"+e[1]+"px)"}):this}function Fr(t){if("string"!=typeof t)return t;var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}function qr(t){var e,n="function"==typeof t?t:c((e=Fr(t)).tag),r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(e)for(var o in e.attr)r.attr(o,e.attr[o]);return r}function Wr(){return null}function Hr(t,n){return this.selectAll("tspan").data(function(e){return("function"==typeof t?t(e):t).map(function(t){return{line:t,parent:e}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,e){return e?("function"==typeof n?n(t.parent,t.line,e):n)||15:0})}function Yr(t,e){if("object"!=Yn(t))return 1==arguments.length?this.attr(t):this.attr(t,e);for(var n in t)this.attr(n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}function Ir(){for(var r=arguments,t=0,e=r.length;t<e;)"string"!=typeof r[t]&&"number"!=typeof r[t]||(r[t]=function(e){return function(t){return t[e]}}(r[t])),t++;return function(t){for(var e=0,n=r.length;e++<n;)t=r[e-1].call(this,t);return t}}function Zr(t,e){if("object"!=Yn(t))return 1==arguments.length?this.style(t):r(this,t,e);for(var n in t)r(this,n,t[n]);return this;function r(t,e,n){return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border border-radius max-width min-width".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){return o(r.apply(this,arguments))}):o(n)):t.style(e,n),t;var r}function o(t){return t.match?t:t+"px"}}Or.prototype=Er.prototype,Ir.not=function(t){return!t},Ir.run=function(t){return t()},Ir.objToFn=function(e,n){return 1==arguments.length&&(n=void 0),function(t){return void 0!==e[t]?e[t]:n}};var Xr={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function Ur(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Vr(t){t.length;return 1}function Gr(){return new Jr}function Jr(){this.reset()}Ur("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ur("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Ur("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Ur("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Ye(ve(300,.5,0),ve(-240,.5,1)),Ye(ve(-100,.75,.35),ve(80,1.5,.8)),Ye(ve(260,.75,.35),ve(80,1.5,.8)),ve(),Vr(Ur("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Vr(Ur("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Vr(Ur("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Vr(Ur("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),F.prototype.translate=Br,F.prototype.append=qr,F.prototype.insert=function(t,e){var n,r=Fr(t),o=c(r.tag),i=null==e?Wr:"function"==typeof e?e:p(e),a=this.select(function(){return this.insertBefore(o.apply(this,arguments),i.apply(this,arguments)||null)});for(n in r.attr)a.attr(n,r.attr[n]);return a},F.prototype.parent=function(){var t=[];return this.filter(function(){return!(-1<t.indexOf(this.parentNode)||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},F.prototype.selectAppend=function(t){var e,n,r=p(t),o=Fr(t);for(n in t=c(o.tag),e=this.select(function(){return r.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),o.attr)e.attr(n,o.attr[n]);return e},F.prototype.tspans=Hr,F.prototype.appendMany=function(t,e){var n;return"string"==typeof e&&(console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on"),n=e,e=t,t=n),this.selectAll(null).data(e).enter().append(t)},F.prototype.at=Yr,F.prototype.st=Zr,F.prototype.prop=F.prototype.property,Jr.prototype={constructor:Jr,reset:function(){this.s=this.t=0},add:function(t){Qr(Kr,t,this.t),Qr(this,Kr.s,this.s),this.s?this.t+=Kr.t:this.s=Kr.t},valueOf:function(){return this.s}};var Kr=new Jr;function Qr(t,e,n){var r=t.s=e+n,o=r-e,r=r-o;t.t=e-r+(n-o)}var to=1e-6,eo=1e-12,no=Math.PI,ro=no/2,oo=no/4,io=2*no,ao=180/no,uo=no/180,co=Math.abs,lo=Math.atan,so=Math.atan2,fo=Math.cos,ho=Math.ceil,po=Math.exp,go=Math.log,vo=Math.pow,mo=Math.sin,yo=Math.sign||function(t){return 0<t?1:t<0?-1:0},bo=Math.sqrt,wo=Math.tan;function _o(t){return 1<t?0:t<-1?no:Math.acos(t)}function xo(t){return 1<t?ro:t<-1?-ro:Math.asin(t)}function Mo(t){return(t=mo(t/2))*t}function ko(){}function So(t,e){t&&Eo.hasOwnProperty(t.type)&&Eo[t.type](t,e)}var Ao={Feature:function(t,e){So(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)So(n[r].geometry,e)}},Eo={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){$o(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)$o(n[r],e,0)},Polygon:function(t,e){Oo(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Oo(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)So(n[r],e)}};function $o(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function Oo(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)$o(t[n],e,1);e.polygonEnd()}function jo(t,e){t&&Ao.hasOwnProperty(t.type)?Ao[t.type](t,e):So(t,e)}var No,zo,To,Lo,Po,Do=Gr(),Co=Gr(),Ro={point:ko,lineStart:ko,lineEnd:ko,polygonStart:function(){Do.reset(),Ro.lineStart=Bo,Ro.lineEnd=Fo},polygonEnd:function(){var t=+Do;Co.add(t<0?io+t:t),this.lineStart=this.lineEnd=this.point=ko},sphere:function(){Co.add(io)}};function Bo(){Ro.point=qo}function Fo(){Wo(No,zo)}function qo(t,e){Ro.point=Wo,No=t,zo=e,To=t*=uo,Lo=fo(e=(e*=uo)/2+oo),Po=mo(e)}function Wo(t,e){var n=(t*=uo)-To,r=0<=n?1:-1,o=r*n,i=fo(e=(e*=uo)/2+oo),a=mo(e),n=Po*a,e=Lo*i+n*fo(o),o=n*r*mo(o);Do.add(so(o,e)),To=t,Lo=i,Po=a}function Ho(t){return[so(t[1],t[0]),xo(t[2])]}function Yo(t){var e=t[0],n=t[1],t=fo(n);return[t*fo(e),t*mo(e),mo(n)]}function Io(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Xo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Uo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Vo(t){var e=bo(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Go,Jo,Ko,Qo,ti,ei,ni,ri,oi,ii,ai,ui,ci,li,si,fi,hi,pi,di,gi,vi,mi,yi,bi,wi,_i,xi=Gr(),Mi={point:ki,lineStart:Ai,lineEnd:Ei,polygonStart:function(){Mi.point=$i,Mi.lineStart=Oi,Mi.lineEnd=ji,xi.reset(),Ro.polygonStart()},polygonEnd:function(){Ro.polygonEnd(),Mi.point=ki,Mi.lineStart=Ai,Mi.lineEnd=Ei,Do<0?(Go=-(Ko=180),Jo=-(Qo=90)):to<xi?Qo=90:xi<-to&&(Jo=-90),ii[0]=Go,ii[1]=Ko},sphere:function(){Go=-(Ko=180),Jo=-(Qo=90)}};function ki(t,e){oi.push(ii=[Go=t,Ko=t]),e<Jo&&(Jo=e),Qo<e&&(Qo=e)}function Si(t,e){var n,r,o,i,a,u=Yo([t*uo,e*uo]);ri?(i=Zo(ri,u),Vo(n=Zo([i[1],-i[0],0],i)),n=Ho(n),o=0<(a=t-ti)?1:-1,i=n[0]*ao*o,(a=180<co(a))^(o*ti<i&&i<o*t)?(r=n[1]*ao)>Qo&&(Qo=r):a^(o*ti<(i=(i+360)%360-180)&&i<o*t)?(r=-n[1]*ao)<Jo&&(Jo=r):(e<Jo&&(Jo=e),Qo<e&&(Qo=e)),a?t<ti?Ni(Go,t)>Ni(Go,Ko)&&(Ko=t):Ni(t,Ko)>Ni(Go,Ko)&&(Go=t):Go<=Ko?(t<Go&&(Go=t),Ko<t&&(Ko=t)):ti<t?Ni(Go,t)>Ni(Go,Ko)&&(Ko=t):Ni(t,Ko)>Ni(Go,Ko)&&(Go=t)):oi.push(ii=[Go=t,Ko=t]),e<Jo&&(Jo=e),Qo<e&&(Qo=e),ri=u,ti=t}function Ai(){Mi.point=Si}function Ei(){ii[0]=Go,ii[1]=Ko,Mi.point=ki,ri=null}function $i(t,e){var n;ri?(n=t-ti,xi.add(180<co(n)?n+(0<n?360:-360):n)):(ei=t,ni=e),Ro.point(t,e),Si(t,e)}function Oi(){Ro.lineStart()}function ji(){$i(ei,ni),Ro.lineEnd(),co(xi)>to&&(Go=-(Ko=180)),ii[0]=Go,ii[1]=Ko,ri=null}function Ni(t,e){return(e-=t)<0?e+360:e}function zi(t,e){return t[0]-e[0]}function Ti(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Li={sphere:ko,point:Pi,lineStart:Ci,lineEnd:Fi,polygonStart:function(){Li.lineStart=qi,Li.lineEnd=Wi},polygonEnd:function(){Li.lineStart=Ci,Li.lineEnd=Fi}};function Pi(t,e){t*=uo;var n=fo(e*=uo);Di(n*fo(t),n*mo(t),mo(e))}function Di(t,e,n){ci+=(t-ci)/++ai,li+=(e-li)/ai,si+=(n-si)/ai}function Ci(){Li.point=Ri}function Ri(t,e){t*=uo;var n=fo(e*=uo);bi=n*fo(t),wi=n*mo(t),_i=mo(e),Li.point=Bi,Di(bi,wi,_i)}function Bi(t,e){t*=uo;var n=fo(e*=uo),r=n*fo(t),n=n*mo(t),t=mo(e),e=so(bo((e=wi*t-_i*n)*e+(e=_i*r-bi*t)*e+(e=bi*n-wi*r)*e),bi*r+wi*n+_i*t);ui+=e,fi+=e*(bi+(bi=r)),hi+=e*(wi+(wi=n)),pi+=e*(_i+(_i=t)),Di(bi,wi,_i)}function Fi(){Li.point=Pi}function qi(){Li.point=Hi}function Wi(){Yi(mi,yi),Li.point=Pi}function Hi(t,e){mi=t,yi=e,t*=uo,e*=uo,Li.point=Yi;var n=fo(e);bi=n*fo(t),wi=n*mo(t),_i=mo(e),Di(bi,wi,_i)}function Yi(t,e){t*=uo;var n=fo(e*=uo),r=n*fo(t),o=n*mo(t),i=mo(e),a=wi*i-_i*o,u=_i*r-bi*i,n=bi*o-wi*r,t=bo(a*a+u*u+n*n),e=xo(t),t=t&&-e/t;di+=t*a,gi+=t*u,vi+=t*n,ui+=e,fi+=e*(bi+(bi=r)),hi+=e*(wi+(wi=o)),pi+=e*(_i+(_i=i)),Di(bi,wi,_i)}function Ii(t){return function(){return t}}function Zi(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Xi(t,e){return[co(t)>no?t+Math.round(-t/io)*io:t,e]}function Ui(t,e,n){return(t%=io)?e||n?Zi(Gi(t),Ji(e,n)):Gi(t):e||n?Ji(e,n):Xi}function Vi(n){return function(t,e){return[(t+=n)>no?t-io:t<-no?t+io:t,e]}}function Gi(t){var e=Vi(t);return e.invert=Vi(-t),e}function Ji(t,e){var o=fo(t),i=mo(t),a=fo(e),u=mo(e);function n(t,e){var n=fo(e),r=fo(t)*n,t=mo(t)*n,n=mo(e),e=n*o+r*i;return[so(t*a-e*u,r*o-n*i),xo(e*a+t*u)]}return n.invert=function(t,e){var n=fo(e),r=fo(t)*n,t=mo(t)*n,n=mo(e),e=n*a-t*u;return[so(t*a+n*u,r*o+e*i),xo(e*o-r*i)]},n}function Ki(e){function t(t){return(t=e(t[0]*uo,t[1]*uo))[0]*=ao,t[1]*=ao,t}return e=Ui(e[0]*uo,e[1]*uo,2<e.length?e[2]*uo:0),t.invert=function(t){return(t=e.invert(t[0]*uo,t[1]*uo))[0]*=ao,t[1]*=ao,t},t}function Qi(t,e,n,r,o,i){if(n){var a=fo(e),u=mo(e),c=r*n;null==o?(o=e+r*io,i=e-c/2):(o=ta(a,o),i=ta(a,i),(0<r?o<i:i<o)&&(o+=r*io));for(var l,s=o;0<r?i<s:s<i;s-=c)l=Ho([a,-u*fo(s),-u*mo(s)]),t.point(l[0],l[1])}}function ta(t,e){(e=Yo(e))[0]-=t,Vo(e);t=_o(-e[1]);return((-e[2]<0?-t:t)+io-to)%io}function ea(){var r,e=[];return{point:function(t,e,n){r.push([t,e,n])},lineStart:function(){e.push(r=[])},lineEnd:ko,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],r=null,t}}}function na(t,e){return co(t[0]-e[0])<to&&co(t[1]-e[1])<to}function ra(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function oa(t,e,n,r,i){var a,o,u=[],c=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(na(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2e-6}u.push(n=new ra(r,t,null,!0)),c.push(n.o=new ra(r,null,n,!1)),u.push(n=new ra(o,t,null,!1)),c.push(n.o=new ra(o,null,n,!0))}}),u.length){for(c.sort(e),ia(u),ia(c),a=0,o=c.length;a<o;++a)c[a].e=n=!n;for(var l,s,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,o=l.length;a<o;++a)i.point((s=l[a])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,a=l.length-1;0<=a;--a)i.point((s=l[a])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}}while(l=(h=h.o).z,p=!p,!h.v);i.lineEnd()}}}function ia(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}Xi.invert=Xi;var aa=Gr();function ua(t){return co(t[0])<=no?t[0]:yo(t[0])*((co(t[0])+no)%io-no)}function ca(t,e){var n=ua(e),r=e[1],e=mo(r),o=[mo(n),-fo(n),0],i=0,a=0;aa.reset(),1===e?r=ro+to:-1===e&&(r=-ro-to);for(var u=0,c=t.length;u<c;++u)if(s=(l=t[u]).length)for(var l,s,f=l[s-1],h=ua(f),p=f[1]/2+oo,d=mo(p),g=fo(p),v=0;v<s;++v,h=y,d=w,g=_,f=m){var m=l[v],y=ua(m),b=m[1]/2+oo,w=mo(b),_=fo(b),x=y-h,M=0<=x?1:-1,k=M*x,S=no<k,b=d*w;aa.add(so(b*M*mo(k),g*_+b*fo(k))),i+=S?x+M*io:x,S^n<=h^n<=y&&(Vo(k=Zo(Yo(f),Yo(m))),Vo(M=Zo(o,k)),((M=(S^0<=x?-1:1)*xo(M[2]))<r||r===M&&(k[0]||k[1]))&&(a+=S^0<=x?1:-1))}return(i<-to||i<to&&aa<-to)^1&a}function la(v,m,y,b){return function(u){var c,l,s,n=m(u),f=ea(),h=m(f),p=!1,e={point:r,lineStart:o,lineEnd:i,polygonStart:function(){e.point=d,e.lineStart=a,e.lineEnd=g,l=[],c=[]},polygonEnd:function(){e.point=r,e.lineStart=o,e.lineEnd=i,l=rt(l);var t=ca(c,b);l.length?(p||(u.polygonStart(),p=!0),oa(l,fa,t,y,u)):t&&(p||(u.polygonStart(),p=!0),u.lineStart(),y(null,null,1,u),u.lineEnd()),p&&(u.polygonEnd(),p=!1),l=c=null},sphere:function(){u.polygonStart(),u.lineStart(),y(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function r(t,e){v(t,e)&&u.point(t,e)}function t(t,e){n.point(t,e)}function o(){e.point=t,n.lineStart()}function i(){e.point=r,n.lineEnd()}function d(t,e){s.push([t,e]),h.point(t,e)}function a(){h.lineStart(),s=[]}function g(){d(s[0][0],s[0][1]),h.lineEnd();var t,e,n,r,o=h.clean(),i=f.result(),a=i.length;if(s.pop(),c.push(s),s=null,a)if(1&o){if(0<(e=(n=i[0]).length-1)){for(p||(u.polygonStart(),p=!0),u.lineStart(),t=0;t<e;++t)u.point((r=n[t])[0],r[1]);u.lineEnd()}}else 1<a&&2&o&&i.push(i.pop().concat(i.shift())),l.push(i.filter(sa))}return e}}function sa(t){return 1<t.length}function fa(t,e){return((t=t.x)[0]<0?t[1]-ro-to:ro-t[1])-((e=e.x)[0]<0?e[1]-ro-to:ro-e[1])}var ha=la(function(){return 1},function(l){var s,f=NaN,h=NaN,p=NaN;return{lineStart:function(){l.lineStart(),s=1},point:function(t,e){var n,r,o,i,a,u=0<t?no:-no,c=co(t-f);co(c-no)<to?(l.point(f,h=0<(h+e)/2?ro:-ro),l.point(p,h),l.lineEnd(),l.lineStart(),l.point(u,h),l.point(t,h),s=0):p!==u&&no<=c&&(co(f-p)<to&&(f-=p*to),co(t-u)<to&&(t-=u*to),r=h,i=e,a=mo((n=f)-(o=t)),h=co(a)>to?lo((mo(r)*(c=fo(i))*mo(o)-mo(i)*(o=fo(r))*mo(n))/(o*c*a)):(r+i)/2,l.point(p,h),l.lineEnd(),l.lineStart(),l.point(u,h),s=0),l.point(f=t,h=e),p=u},lineEnd:function(){l.lineEnd(),f=h=NaN},clean:function(){return 2-s}}},function(t,e,n,r){var o;null==t?(o=n*ro,r.point(-no,o),r.point(0,o),r.point(no,o),r.point(no,0),r.point(no,-o),r.point(0,-o),r.point(-no,-o),r.point(-no,0),r.point(-no,o)):co(t[0]-e[0])>to?(o=n*(t=t[0]<e[0]?no:-no)/2,r.point(-t,o),r.point(0,o),r.point(t,o)):r.point(e[0],e[1])},[-no,-ro]);function pa(o){var p=fo(o),i=6*uo,h=0<p,d=co(p)>to;function g(t,e){return fo(t)*fo(e)>p}function v(t,e,n){var r=[1,0,0],o=Zo(Yo(t),Yo(e)),i=Io(o,o),a=o[0],u=i-a*a;if(!u)return!n&&t;var c=p*i/u,l=-p*a/u,s=Zo(r,o),f=Uo(r,c);Xo(f,Uo(o,l));i=s,a=Io(f,i),u=Io(i,i),r=a*a-u*(Io(f,f)-1);if(!(r<0)){c=bo(r),o=Uo(i,(-a-c)/u);if(Xo(o,f),o=Ho(o),!n)return o;var h,l=t[0],s=e[0],r=t[1],n=e[1];s<l&&(h=l,l=s,s=h);t=s-l,e=co(t-no)<to;if(!e&&n<r&&(h=r,r=n,n=h),e||t<to?e?0<r+n^o[1]<(co(o[0]-l)<to?r:n):r<=o[1]&&o[1]<=n:no<t^(l<=o[0]&&o[0]<=s)){u=Uo(i,(-a+c)/u);return Xo(u,f),[o,Ho(u)]}}}function m(t,e){var n=h?o:no-o,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return la(g,function(a){var u,c,l,s,f;return{lineStart:function(){s=l=!1,f=1},point:function(t,e){var n,r,o=[t,e],i=g(t,e),e=h?i?0:m(t,e):i?m(t+(t<0?no:-no),e):0;!u&&(s=l=i)&&a.lineStart(),i===l||(n=v(u,o))&&!na(u,n)&&!na(o,n)||(o[2]=1),i!==l?(f=0,i?(a.lineStart(),n=v(o,u),a.point(n[0],n[1])):(n=v(u,o),a.point(n[0],n[1],2),a.lineEnd()),u=n):d&&u&&h^i&&(e&c||!(r=v(o,u,!0))||(f=0,h?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1],3)))),!i||u&&na(u,o)||a.point(o[0],o[1]),u=o,l=i,c=e},lineEnd:function(){l&&a.lineEnd(),u=null},clean:function(){return f|(s&&l)<<1}}},function(t,e,n,r){Qi(r,o,i,n,t,e)},h?[0,-o]:[-no,o-no])}var da=1e9,ga=-da;function va(m,y,b,w){function _(t,e){return m<=t&&t<=b&&y<=e&&e<=w}function x(t,e,n,r){var o=0,i=0;if(null==t||(o=a(t,n))!==(i=a(e,n))||u(t,e)<0^0<n)for(;r.point(0===o||3===o?m:b,1<o?w:y),(o=(o+n+4)%4)!==i;);else r.point(e[0],e[1])}function a(t,e){return co(t[0]-m)<to?0<e?0:3:co(t[0]-b)<to?0<e?2:1:co(t[1]-y)<to?0<e?1:0:0<e?3:2}function M(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var o,f,i,a,u,c,l,s,h,p,d,g=r,t=ea(),e={point:n,lineStart:function(){e.point=v,f&&f.push(i=[]),h=!(p=!0),l=s=NaN},lineEnd:function(){o&&(v(a,u),c&&h&&t.rejoin(),o.push(t.result())),e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,o=[],f=[],d=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,o,i=f[e],a=1,u=i.length,c=i[0],l=c[0],s=c[1];a<u;++a)r=l,o=s,l=(c=i[a])[0],s=c[1],o<=w?w<s&&(s-o)*(m-r)<(l-r)*(w-o)&&++t:s<=w&&(l-r)*(w-o)<(s-o)*(m-r)&&--t;return t}(),e=d&&t,n=(o=rt(o)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),x(null,null,1,r),r.lineEnd()),n&&oa(o,M,t,x,r),r.polygonEnd()),g=r,o=f=i=null}};function n(t,e){_(t,e)&&g.point(t,e)}function v(t,e){var n,r,o=_(t,e);f&&i.push([t,e]),p?(a=t,u=e,p=!1,(c=o)&&(g.lineStart(),g.point(t,e))):o&&h?g.point(t,e):!function(t,e){var n=t[0],r=t[1],o=0,i=1,a=e[0]-n,u=e[1]-r,c=m-n;if(a||!(0<c)){if(c/=a,a<0){if(c<o)return;c<i&&(i=c)}else if(0<a){if(i<c)return;o<c&&(o=c)}if(c=b-n,a||!(c<0)){if(c/=a,a<0){if(i<c)return;o<c&&(o=c)}else if(0<a){if(c<o)return;c<i&&(i=c)}if(c=y-r,u||!(0<c)){if(c/=u,u<0){if(c<o)return;c<i&&(i=c)}else if(0<u){if(i<c)return;o<c&&(o=c)}if(c=w-r,u||!(c<0)){if(c/=u,u<0){if(i<c)return;o<c&&(o=c)}else if(0<u){if(c<o)return;c<i&&(i=c)}return 0<o&&(t[0]=n+o*a,t[1]=r+o*u),i<1&&(e[0]=n+i*a,e[1]=r+i*u),1}}}}}(n=[l=Math.max(ga,Math.min(da,l)),s=Math.max(ga,Math.min(da,s))],r=[t=Math.max(ga,Math.min(da,t)),e=Math.max(ga,Math.min(da,e))])?o&&(g.lineStart(),g.point(t,e),d=!1):(h||(g.lineStart(),g.point(n[0],n[1])),g.point(r[0],r[1]),o||g.lineEnd(),d=!1),l=t,s=e,h=o}return e}}var ma,ya,ba,wa=Gr(),_a={sphere:ko,point:ko,lineStart:function(){_a.point=Ma,_a.lineEnd=xa},lineEnd:ko,polygonStart:ko,polygonEnd:ko};function xa(){_a.point=_a.lineEnd=ko}function Ma(t,e){ma=t*=uo,ya=mo(e*=uo),ba=fo(e),_a.point=ka}function ka(t,e){t*=uo;var n=mo(e*=uo),r=fo(e),o=co(t-ma),i=fo(o),e=r*mo(o),o=ba*n-ya*r*i,i=ya*n+ba*r*i;wa.add(so(bo(e*e+o*o),i)),ma=t,ya=n,ba=r}function Sa(t){return wa.reset(),jo(t,_a),+wa}var Aa=[null,null],Ea={type:"LineString",coordinates:Aa};function $a(t,e){return Aa[0]=t,Aa[1]=e,Sa(Ea)}var Oa={Feature:function(t,e){return Na(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(Na(n[r].geometry,e))return!0;return!1}},ja={Sphere:function(){return!0},Point:function(t,e){return za(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(za(n[r],e))return!0;return!1},LineString:function(t,e){return Ta(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(Ta(n[r],e))return!0;return!1},Polygon:function(t,e){return La(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(La(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(Na(n[r],e))return!0;return!1}};function Na(t,e){return!(!t||!ja.hasOwnProperty(t.type))&&ja[t.type](t,e)}function za(t,e){return 0===$a(t,e)}function Ta(t,e){for(var n,r,o,i=0,a=t.length;i<a;i++){if(0===(r=$a(t[i],e)))return!0;if(0<i&&0<(o=$a(t[i],t[i-1]))&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<eo*o)return!0;n=r}return!1}function La(t,e){return!!ca(t.map(Pa),Da(e))}function Pa(t){return(t=t.map(Da)).pop(),t}function Da(t){return[t[0]*uo,t[1]*uo]}function Ca(t,e,n){var r=V(t,e-to,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function Ra(t,e,n){var r=V(t,e-to,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function Ba(){var e,n,r,o,i,a,u,c,l,s,f,h,p=10,d=p,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return V(ho(o/g)*g,r,g).map(f).concat(V(ho(c/v)*v,u,v).map(h)).concat(V(ho(n/p)*p,e,p).filter(function(t){return co(t%g)>to}).map(l)).concat(V(ho(a/d)*d,i,d).filter(function(t){return co(t%v)>to}).map(s))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(u).slice(1),f(r).reverse().slice(1),h(c).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(o=+t[0][0],r=+t[1][0],c=+t[0][1],u=+t[1][1],r<o&&(t=o,o=r,r=t),u<c&&(t=c,c=u,u=t),y.precision(m)):[[o,c],[r,u]]},y.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],i=+t[1][1],e<n&&(t=n,n=e,e=t),i<a&&(t=a,a=i,i=t),y.precision(m)):[[n,a],[e,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(t){return arguments.length?(m=+t,l=Ca(a,i,90),s=Ra(n,e,m),f=Ca(c,u,90),h=Ra(o,r,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Fa(t){return t}var qa,Wa,Ha,Ya,Ia=Gr(),Za=Gr(),Xa={point:ko,lineStart:ko,lineEnd:ko,polygonStart:function(){Xa.lineStart=Ua,Xa.lineEnd=Ja},polygonEnd:function(){Xa.lineStart=Xa.lineEnd=Xa.point=ko,Ia.add(co(Za)),Za.reset()},result:function(){var t=Ia/2;return Ia.reset(),t}};function Ua(){Xa.point=Va}function Va(t,e){Xa.point=Ga,qa=Ha=t,Wa=Ya=e}function Ga(t,e){Za.add(Ya*t-Ha*e),Ha=t,Ya=e}function Ja(){Ga(qa,Wa)}var Ka,Qa,tu,eu,nu=1/0,ru=nu,ou=-nu,iu=ou,au={point:function(t,e){t<nu&&(nu=t),ou<t&&(ou=t),e<ru&&(ru=e),iu<e&&(iu=e)},lineStart:ko,lineEnd:ko,polygonStart:ko,polygonEnd:ko,result:function(){var t=[[nu,ru],[ou,iu]];return ou=iu=-(ru=nu=1/0),t}},uu=0,cu=0,lu=0,su=0,fu=0,hu=0,pu=0,du=0,gu=0,vu={point:mu,lineStart:yu,lineEnd:_u,polygonStart:function(){vu.lineStart=xu,vu.lineEnd=Mu},polygonEnd:function(){vu.point=mu,vu.lineStart=yu,vu.lineEnd=_u},result:function(){var t=gu?[pu/gu,du/gu]:hu?[su/hu,fu/hu]:lu?[uu/lu,cu/lu]:[NaN,NaN];return uu=cu=lu=su=fu=hu=pu=du=gu=0,t}};function mu(t,e){uu+=t,cu+=e,++lu}function yu(){vu.point=bu}function bu(t,e){vu.point=wu,mu(tu=t,eu=e)}function wu(t,e){var n=t-tu,r=e-eu,r=bo(n*n+r*r);su+=r*(tu+t)/2,fu+=r*(eu+e)/2,hu+=r,mu(tu=t,eu=e)}function _u(){vu.point=mu}function xu(){vu.point=ku}function Mu(){Su(Ka,Qa)}function ku(t,e){vu.point=Su,mu(Ka=tu=t,Qa=eu=e)}function Su(t,e){var n=t-tu,r=e-eu,r=bo(n*n+r*r);su+=r*(tu+t)/2,fu+=r*(eu+e)/2,hu+=r,pu+=(r=eu*t-tu*e)*(tu+t),du+=r*(eu+e),gu+=3*r,mu(tu=t,eu=e)}function Au(t){this._context=t}Au.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,io)}},result:ko};var Eu,$u,Ou,ju,Nu,zu=Gr(),Tu={point:ko,lineStart:function(){Tu.point=Lu},lineEnd:function(){Eu&&Pu($u,Ou),Tu.point=ko},polygonStart:function(){Eu=!0},polygonEnd:function(){Eu=null},result:function(){var t=+zu;return zu.reset(),t}};function Lu(t,e){Tu.point=Pu,$u=ju=t,Ou=Nu=e}function Pu(t,e){ju-=t,Nu-=e,zu.add(bo(ju*ju+Nu*Nu)),ju=t,Nu=e}function Du(){this._string=[]}function Cu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ru(e,n){var r,o,i=4.5;function a(t){return t&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),jo(t,r(o))),o.result()}return a.area=function(t){return jo(t,r(Xa)),Xa.result()},a.measure=function(t){return jo(t,r(Tu)),Tu.result()},a.bounds=function(t){return jo(t,r(au)),au.result()},a.centroid=function(t){return jo(t,r(vu)),vu.result()},a.projection=function(t){return arguments.length?(r=null==t?(e=null,Fa):(e=t).stream,a):e},a.context=function(t){return arguments.length?(o=null==t?(n=null,new Du):new Au(n=t),"function"!=typeof i&&o.pointRadius(i),a):n},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(o.pointRadius(+t),+t),a):i},a.projection(e).context(n)}function Bu(t){return{stream:Fu(t)}}function Fu(r){return function(t){var e,n=new qu;for(e in r)n[e]=r[e];return n.stream=t,n}}function qu(){}function Wu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),jo(n,t.stream(au)),e(au.result()),null!=r&&t.clipExtent(r),t}function Hu(o,i,t){return Wu(o,function(t){var e=i[1][0]-i[0][0],n=i[1][1]-i[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),e=+i[0][0]+(e-r*(t[1][0]+t[0][0]))/2,t=+i[0][1]+(n-r*(t[1][1]+t[0][1]))/2;o.scale(150*r).translate([e,t])},t)}function Yu(t,e,n){return Hu(t,[[0,0],e],n)}function Iu(r,o,t){return Wu(r,function(t){var e=+o,n=e/(t[1][0]-t[0][0]),e=(e-n*(t[1][0]+t[0][0]))/2,t=-n*t[0][1];r.scale(150*n).translate([e,t])},t)}function Zu(o,i,t){return Wu(o,function(t){var e=+i,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],t=(e-n*(t[1][1]+t[0][1]))/2;o.scale(150*n).translate([r,t])},t)}Du.prototype={_radius:4.5,_circle:Cu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Cu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},qu.prototype={constructor:qu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Xu=fo(30*uo);function Uu(t,e){return+e?(E=t,$=e,function(r){var n,o,i,a,u,c,l,s,f,h,p,d,g={point:t,lineStart:e,lineEnd:m,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=e}};function t(t,e){t=E(t,e),r.point(t[0],t[1])}function e(){s=NaN,g.point=v,r.lineStart()}function v(t,e){var n=Yo([t,e]),e=E(t,e);O(s,f,l,h,p,d,s=e[0],f=e[1],l=t,h=n[0],p=n[1],d=n[2],16,r),r.point(s,f)}function m(){g.point=t,r.lineEnd()}function y(){e(),g.point=b,g.lineEnd=w}function b(t,e){v(n=t,e),o=s,i=f,a=h,u=p,c=d,g.point=v}function w(){O(s,f,l,h,p,d,o,i,n,a,u,c,16,r),g.lineEnd=m,m()}return g}):(n=t,Fu({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,E,$;function O(t,e,n,r,o,i,a,u,c,l,s,f,h,p){var d,g,v,m,y,b,w,_,x,M,k=a-t,S=u-e,A=k*k+S*S;4*$<A&&h--&&(v=i+f,x=xo(v/=m=bo((d=r+l)*d+(g=o+s)*g+v*v)),y=co(co(v)-1)<to||co(n-c)<to?(n+c)/2:so(g,d),b=(M=E(y,x))[0],w=M[1],($<(M=S*(_=b-t)-k*(x=w-e))*M/A||.3<co((k*_+S*x)/A-.5)||r*l+o*s+i*f<Xu)&&(O(t,e,n,r,o,i,b,w,y,d/=m,g/=m,v,h,p),p.point(b,w),O(b,w,y,d,g,v,a,u,c,l,s,f,h,p)))}}var Vu=Fu({point:function(t,e){this.stream.point(t*uo,e*uo)}});function Gu(t,n,r,o,i,e){var a=fo(e),e=mo(e),u=a*t,c=e*t,l=a/t,s=e/t,f=(e*r-a*n)/t,h=(e*n+a*r)/t;function p(t,e){return[u*(t*=o)-c*(e*=i)+n,r-c*t-u*e]}return p.invert=function(t,e){return[o*(l*t-s*e+f),i*(h-s*t-l*e)]},p}function Ju(t){return Ku(function(){return t})()}function Ku(t){var e,r,n,o,i,a,u,c,l,s,f=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,b=0,w=1,_=1,x=null,M=ha,k=null,S=Fa,A=.5;function E(t){return c(t[0]*uo,t[1]*uo)}function $(t){return(t=c.invert(t[0],t[1]))&&[t[0]*ao,t[1]*ao]}function O(){var t=Gu(f,0,0,w,_,b).apply(null,e(d,g)),t=(b?Gu:function(n,r,o,i,a){function t(t,e){return[r+n*(t*=i),o-n*(e*=a)]}return t.invert=function(t,e){return[(t-r)/n*i,(o-e)/n*a]},t})(f,h-t[0],p-t[1],w,_,b);return r=Ui(v,m,y),u=Zi(e,t),c=Zi(r,u),a=Uu(u,A),j()}function j(){return l=s=null,E}return E.stream=function(t){return l&&s===t?l:l=Vu((n=r,Fu({point:function(t,e){e=n(t,e);return this.stream.point(e[0],e[1])}})(M(a(S(s=t))))));var n},E.preclip=function(t){return arguments.length?(M=t,x=void 0,j()):M},E.postclip=function(t){return arguments.length?(S=t,k=n=o=i=null,j()):S},E.clipAngle=function(t){return arguments.length?(M=+t?pa(x=t*uo):(x=null,ha),j()):x*ao},E.clipExtent=function(t){return arguments.length?(S=null==t?(k=n=o=i=null,Fa):va(k=+t[0][0],n=+t[0][1],o=+t[1][0],i=+t[1][1]),j()):null==k?null:[[k,n],[o,i]]},E.scale=function(t){return arguments.length?(f=+t,O()):f},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],O()):[h,p]},E.center=function(t){return arguments.length?(d=t[0]%360*uo,g=t[1]%360*uo,O()):[d*ao,g*ao]},E.rotate=function(t){return arguments.length?(v=t[0]%360*uo,m=t[1]%360*uo,y=2<t.length?t[2]%360*uo:0,O()):[v*ao,m*ao,y*ao]},E.angle=function(t){return arguments.length?(b=t%360*uo,O()):b*ao},E.reflectX=function(t){return arguments.length?(w=t?-1:1,O()):w<0},E.reflectY=function(t){return arguments.length?(_=t?-1:1,O()):_<0},E.precision=function(t){return arguments.length?(a=Uu(u,A=t*t),j()):bo(A)},E.fitExtent=function(t,e){return Hu(E,t,e)},E.fitSize=function(t,e){return Yu(E,t,e)},E.fitWidth=function(t,e){return Iu(E,t,e)},E.fitHeight=function(t,e){return Zu(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&$,O()}}function Qu(t){var e=0,n=no/3,r=Ku(t),t=r(e,n);return t.parallels=function(t){return arguments.length?r(e=t[0]*uo,n=t[1]*uo):[e*ao,n*ao]},t}function tc(t,e){var n,r=mo(t),o=(r+mo(e))/2;if(co(o)<to)return n=fo(t),i.invert=function(t,e){return[t/n,xo(e*n)]},i;function i(t,e){return[t*n,mo(e)/n]}var a=1+r*(2*o-r),u=bo(a)/o;function c(t,e){e=bo(a-2*o*mo(e))/o;return[e*mo(t*=o),u-e*fo(t)]}return c.invert=function(t,e){var n=u-e,e=so(t,co(n))*yo(n);return n*o<0&&(e-=no*yo(t)*yo(n)),[e/o,xo((a-(t*t+n*n)*o*o)/(2*o))]},c}function ec(){return Qu(tc).scale(155.424).center([0,33.6442])}function nc(){return ec().parallels([29.5,45.5]).scale(1070).translate([480,295]).rotate([96,0]).center([-.6,38.7])}function rc(o){return function(t,e){var n=fo(t),r=fo(e),n=o(n*r);return[n*r*mo(t),n*mo(e)]}}function oc(i){return function(t,e){var n=bo(t*t+e*e),r=i(n),o=mo(r),r=fo(r);return[so(t*o,n*r),xo(n&&e*o/n)]}}var ic=rc(function(t){return bo(2/(1+t))});ic.invert=oc(function(t){return 2*xo(t/2)});var ac=rc(function(t){return(t=_o(t))&&t/mo(t)});function uc(t,e){return[t,go(wo((ro+e)/2))]}function cc(n){var r,o,i,a=Ju(n),e=a.center,u=a.scale,c=a.translate,l=a.clipExtent,s=null;function f(){var t=no*u(),e=a(Ki(a.rotate()).invert([0,0]));return l(null==s?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===uc?[[Math.max(e[0]-t,s),r],[Math.min(e[0]+t,o),i]]:[[s,Math.max(e[1]-t,r)],[o,Math.min(e[1]+t,i)]])}return a.scale=function(t){return arguments.length?(u(t),f()):u()},a.translate=function(t){return arguments.length?(c(t),f()):c()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?s=r=o=i=null:(s=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),f()):null==s?null:[[s,r],[o,i]]},f()}function lc(t){return wo((ro+t)/2)}function sc(t,e){var n=fo(t),o=t===e?mo(t):go(n/fo(e))/go(lc(e)/lc(t)),i=n*vo(lc(t),o)/o;return o?(r.invert=function(t,e){var n=i-e,r=yo(o)*bo(t*t+n*n),e=so(t,co(n))*yo(n);return n*o<0&&(e-=no*yo(t)*yo(n)),[e/o,2*lo(vo(i/r,1/o))-ro]},r):uc;function r(t,e){0<i?e<-ro+to&&(e=-ro+to):ro-to<e&&(e=ro-to);e=i/vo(lc(e),o);return[e*mo(o*t),i-e*fo(o*t)]}}function fc(t,e){return[t,e]}function hc(t,e){var n=fo(t),r=t===e?mo(t):(n-fo(e))/(e-t),o=n/r+t;return co(r)<to?fc:(i.invert=function(t,e){var n=o-e,e=so(t,co(n))*yo(n);return n*r<0&&(e-=no*yo(t)*yo(n)),[e/r,o-yo(r)*bo(t*t+n*n)]},i);function i(t,e){e=o-e,t*=r;return[e*mo(t),o-e*fo(t)]}}ac.invert=oc(function(t){return t}),uc.invert=function(t,e){return[t,2*lo(po(e))-ro]},fc.invert=fc;var pc=1.340264,dc=-.081106,gc=893e-6,vc=.003796,mc=bo(3)/2;function yc(t,e){var n=xo(mc*mo(e)),r=n*n,e=r*r*r;return[t*fo(n)/(mc*(pc+3*dc*r+e*(7*gc+9*vc*r))),n*(pc+dc*r+e*(gc+vc*r))]}function bc(t,e){var n=fo(e),r=fo(t)*n;return[n*mo(t)/r,mo(e)/r]}function wc(){var r,o,e,n,i,a,u,c=1,l=0,s=0,f=1,h=1,p=0,d=null,g=1,v=1,m=Fu({point:function(t,e){e=w([t,e]);this.stream.point(e[0],e[1])}}),y=Fa;function b(){return g=c*f,v=c*h,a=u=null,w}function w(t){var e=t[0]*g,n=t[1]*v;return p&&(t=n*r-e*o,e=e*r+n*o,n=t),[e+l,n+s]}return w.invert=function(t){var e=t[0]-l,n=t[1]-s;return p&&(t=n*r+e*o,e=e*r-n*o,n=t),[e/g,n/v]},w.stream=function(t){return a&&u===t?a:a=m(y(u=t))},w.postclip=function(t){return arguments.length?(y=t,d=e=n=i=null,b()):y},w.clipExtent=function(t){return arguments.length?(y=null==t?(d=e=n=i=null,Fa):va(d=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),b()):null==d?null:[[d,e],[n,i]]},w.scale=function(t){return arguments.length?(c=+t,b()):c},w.translate=function(t){return arguments.length?(l=+t[0],s=+t[1],b()):[l,s]},w.angle=function(t){return arguments.length?(o=mo(p=t%360*uo),r=fo(p),b()):p*ao},w.reflectX=function(t){return arguments.length?(f=t?-1:1,b()):f<0},w.reflectY=function(t){return arguments.length?(h=t?-1:1,b()):h<0},w.fitExtent=function(t,e){return Hu(w,t,e)},w.fitSize=function(t,e){return Yu(w,t,e)},w.fitWidth=function(t,e){return Iu(w,t,e)},w.fitHeight=function(t,e){return Zu(w,t,e)},w}function _c(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function xc(t,e){return[fo(e)*mo(t),mo(e)]}function Mc(t,e){var n=fo(e),r=1+fo(t)*n;return[n*mo(t)/r,mo(e)/r]}function kc(t,e){return[go(wo((ro+e)/2)),-t]}yc.invert=function(t,e){for(var n,r=e,o=r*r,i=o*o*o,a=0;a<12&&(i=(o=(r-=n=(r*(pc+dc*o+i*(gc+vc*o))-e)/(pc+3*dc*o+i*(7*gc+9*vc*o)))*r)*o*o,!(co(n)<eo));++a);return[mc*t*(pc+3*dc*o+i*(7*gc+9*vc*o))/fo(r),xo(mo(r)/mc)]},bc.invert=oc(lo),_c.invert=function(t,e){var n=e,r=25;do{var o=n*n,i=o*o}while(n-=i=(n*(1.007226+o*(.015085+i*(.028874*o-.044475-.005916*i)))-e)/(1.007226+o*(.045255+i*(.259866*o-.311325-.005916*11*i))),co(i)>to&&0<--r);return[t/(.8707+(o=n*n)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),n]},xc.invert=oc(xo),Mc.invert=oc(function(t){return 2*lo(t)}),kc.invert=function(t,e){return[-e,2*lo(po(t))-ro]};var Sc=Object.freeze({__proto__:null,geoArea:function(t){return Co.reset(),jo(t,Ro),2*Co},geoBounds:function(t){var e,n,r,o,i,a,u;if(Qo=Ko=-(Go=Jo=1/0),oi=[],jo(t,Mi),n=oi.length){for(oi.sort(zi),e=1,i=[r=oi[0]];e<n;++e)Ti(r,(o=oi[e])[0])||Ti(r,o[1])?(Ni(r[0],o[1])>Ni(r[0],r[1])&&(r[1]=o[1]),Ni(o[0],r[1])>Ni(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,e=0,r=i[n=i.length-1];e<=n;r=o,++e)o=i[e],(u=Ni(r[1],o[0]))>a&&(a=u,Go=o[0],Ko=r[1])}return oi=ii=null,Go===1/0||Jo===1/0?[[NaN,NaN],[NaN,NaN]]:[[Go,Jo],[Ko,Qo]]},geoCentroid:function(t){ai=ui=ci=li=si=fi=hi=pi=di=gi=vi=0,jo(t,Li);var e=di,n=gi,r=vi,t=e*e+n*n+r*r;return t<eo&&(e=fi,n=hi,r=pi,ui<to&&(e=ci,n=li,r=si),(t=e*e+n*n+r*r)<eo)?[NaN,NaN]:[so(n,e)*ao,xo(r/bo(t))*ao]},geoCircle:function(){var r,o,i=Ii([0,0]),a=Ii(90),u=Ii(6),c={point:function(t,e){r.push(t=o(t,e)),t[0]*=ao,t[1]*=ao}};function e(){var t=i.apply(this,arguments),e=a.apply(this,arguments)*uo,n=u.apply(this,arguments)*uo;return r=[],o=Ui(-t[0]*uo,-t[1]*uo,0).invert,Qi(c,e,n,1),t={type:"Polygon",coordinates:[r]},r=o=null,t}return e.center=function(t){return arguments.length?(i="function"==typeof t?t:Ii([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Ii(+t),e):a},e.precision=function(t){return arguments.length?(u="function"==typeof t?t:Ii(+t),e):u},e},geoClipAntimeridian:ha,geoClipCircle:pa,geoClipExtent:function(){var e,n,r,o=0,i=0,a=960,u=500;return r={stream:function(t){return e&&n===t?e:e=va(o,i,a,u)(n=t)},extent:function(t){return arguments.length?(o=+t[0][0],i=+t[0][1],a=+t[1][0],u=+t[1][1],e=n=null,r):[[o,i],[a,u]]}}},geoClipRectangle:va,geoContains:function(t,e){return(t&&Oa.hasOwnProperty(t.type)?Oa[t.type]:Na)(t,e)},geoDistance:$a,geoGraticule:Ba,geoGraticule10:function(){return Ba()()},geoInterpolate:function(t,e){var n=t[0]*uo,r=t[1]*uo,o=e[0]*uo,i=e[1]*uo,t=fo(r),a=mo(r),e=fo(i),u=mo(i),c=t*fo(n),l=t*mo(n),s=e*fo(o),f=e*mo(o),h=2*xo(bo(Mo(i-r)+t*e*Mo(o-n))),p=mo(h),o=h?function(t){var e=mo(t*=h)/p,n=mo(h-t)/p,r=n*c+e*s,t=n*l+e*f,e=n*a+e*u;return[so(t,r)*ao,so(e,bo(r*r+t*t))*ao]}:function(){return[n*ao,r*ao]};return o.distance=h,o},geoLength:Sa,geoPath:Ru,geoAlbers:nc,geoAlbersUsa:function(){var e,n,o,i,a,r,u=nc(),c=ec().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ec().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],t=t[1];return r=null,o.point(e,t),r||(i.point(e,t),r)||(a.point(e,t),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,e=(t[1]-n[1])/e;return(.12<=e&&e<.234&&-.425<=r&&r<-.214?c:.166<=e&&e<.234&&-.214<=r&&r<-.115?l:u).invert(t)},f.stream=function(t){return e&&n===t?e:(r=[u.stream(n=t),c.stream(t),l.stream(t)],o=r.length,e={point:function(t,e){for(var n=-1;++n<o;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)r[t].polygonEnd()}});var r,o},f.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),h()):u.precision()},f.scale=function(t){return arguments.length?(u.scale(t),c.scale(.35*t),l.scale(t),f.translate(u.translate())):u.scale()},f.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],r=+t[1];return o=u.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(s),i=c.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+to,r+.12*e+to],[n-.214*e-to,r+.234*e-to]]).stream(s),a=l.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+to,r+.166*e+to],[n-.115*e-to,r+.234*e-to]]).stream(s),h()},f.fitExtent=function(t,e){return Hu(f,t,e)},f.fitSize=function(t,e){return Yu(f,t,e)},f.fitWidth=function(t,e){return Iu(f,t,e)},f.fitHeight=function(t,e){return Zu(f,t,e)},f.scale(1280)},geoAzimuthalEqualArea:function(){return Ju(ic).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:ic,geoAzimuthalEquidistant:function(){return Ju(ac).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:ac,geoConicConformal:function(){return Qu(sc).scale(109.5).parallels([30,30])},geoConicConformalRaw:sc,geoConicEqualArea:ec,geoConicEqualAreaRaw:tc,geoConicEquidistant:function(){return Qu(hc).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:hc,geoEqualEarth:function(){return Ju(yc).scale(177.158)},geoEqualEarthRaw:yc,geoEquirectangular:function(){return Ju(fc).scale(152.63)},geoEquirectangularRaw:fc,geoGnomonic:function(){return Ju(bc).scale(144.049).clipAngle(60)},geoGnomonicRaw:bc,geoIdentity:wc,geoProjection:Ju,geoProjectionMutator:Ku,geoMercator:function(){return cc(uc).scale(961/io)},geoMercatorRaw:uc,geoNaturalEarth1:function(){return Ju(_c).scale(175.295)},geoNaturalEarth1Raw:_c,geoOrthographic:function(){return Ju(xc).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:xc,geoStereographic:function(){return Ju(Mc).scale(250).clipAngle(142)},geoStereographicRaw:Mc,geoTransverseMercator:function(){var t=cc(kc),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:kc,geoRotation:Ki,geoStream:jo,geoTransform:Bu}),Ac=function(n){if(n.__esModule)return n;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var e=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(r,t,e.get?e:{enumerable:!0,get:function(){return n[t]}})}),r}(Sc);function Ec(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t){if(t){if("string"==typeof t)return $c(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?$c(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function $c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Oc=dt(function(t,e){var b;b=Ac,(e=e).geoAlbersUsaTerritories=function(){var e,n,o,i,a,u,c,l,r,s=b.geoAlbers(),f=b.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=b.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),p=b.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),d=b.geoConicEqualArea().rotate([-145,0]).center([0,16]).parallels([10,20]),g=b.geoConicEqualArea().rotate([170,0]).center([0,-14]).parallels([-14,0]),v={point:function(t,e){r=[t,e]}};function m(t){var e=t[0],t=t[1];return r=null,o.point(e,t),r||(i.point(e,t),r)||(a.point(e,t),r)||(u.point(e,t),r)||(c.point(e,t),r)||(l.point(e,t),r)}function y(){return e=n=null,m}return m.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,e=(t[1]-n[1])/e;return(.12<=e&&e<.234&&-.225<=r&&r<-.185?f:.166<=e&&e<.234&&-.185<=r&&r<-.08?h:.204<=e&&e<.234&&.3<=r&&r<.38?p:.05<=e&&e<.204&&-.415<=r&&r<-.225?d:.18<=e&&e<.234&&-.415<=r&&r<-.225?g:s).invert(t)},m.stream=function(t){return e&&n===t?e:(o=[s.stream(n=t),f.stream(t),h.stream(t),p.stream(t),d.stream(t),g.stream(t)],e={point:function(t,e){var n,r=Ec(o);try{for(r.s();!(n=r.n()).done;)n.value.point(t,e)}catch(t){r.e(t)}finally{r.f()}},sphere:function(){var t,e=Ec(o);try{for(e.s();!(t=e.n()).done;)t.value.sphere()}catch(t){e.e(t)}finally{e.f()}},lineStart:function(){var t,e=Ec(o);try{for(e.s();!(t=e.n()).done;)t.value.lineStart()}catch(t){e.e(t)}finally{e.f()}},lineEnd:function(){var t,e=Ec(o);try{for(e.s();!(t=e.n()).done;)t.value.lineEnd()}catch(t){e.e(t)}finally{e.f()}},polygonStart:function(){var t,e=Ec(o);try{for(e.s();!(t=e.n()).done;)t.value.polygonStart()}catch(t){e.e(t)}finally{e.f()}},polygonEnd:function(){var t,e=Ec(o);try{for(e.s();!(t=e.n()).done;)t.value.polygonEnd()}catch(t){e.e(t)}finally{e.f()}}});var o},m.precision=function(t){return arguments.length?(s.precision(t),f.precision(t),h.precision(t),p.precision(t),d.precision(t),g.precision(t),y()):s.precision()},m.scale=function(t){return arguments.length?(s.scale(t),f.scale(.35*t),h.scale(t),p.scale(t),d.scale(t),g.scale(t),m.translate(s.translate())):s.scale()},m.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return o=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(v),i=f.translate([n-.275*e,r+.201*e]).clipExtent([[n-.425*e+1e-6,r+.12*e+1e-6],[n-.185*e-1e-6,r+.234*e-1e-6]]).stream(v),a=h.translate([n-.18*e,r+.212*e]).clipExtent([[n-.185*e+1e-6,r+.166*e+1e-6],[n-.08*e-1e-6,r+.234*e-1e-6]]).stream(v),u=p.translate([n+.335*e,r+.224*e]).clipExtent([[n+.3*e,r+.204*e],[n+.38*e,r+.234*e]]).stream(v),c=d.translate([n-.415*e,r+.14*e]).clipExtent([[n-.45*e,r+.05*e],[n-.39*e,r+.21*e]]).stream(v),l=g.translate([n-.415*e,r+.215*e]).clipExtent([[n-.45*e,r+.21*e],[n-.39*e,r+.234*e]]).stream(v),y()},m.scale(1070)},Object.defineProperty(e,"__esModule",{value:!0})});function jc(t){return t}function Nc(t){if(null==t)return jc;var i,a,u=t.scale[0],c=t.scale[1],l=t.translate[0],s=t.translate[1];return function(t,e){e||(i=a=0);var n=2,r=t.length,o=new Array(r);for(o[0]=(i+=t[0])*u+l,o[1]=(a+=t[1])*c+s;n<r;)o[n]=t[n],++n;return o}}function zc(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return Tc(e,t)})}:Tc(e,t)}function Tc(t,e){var n=e.id,r=e.bbox,o=null==e.properties?{}:e.properties,e=Lc(t,e);return null==n&&null==r?{type:"Feature",properties:o,geometry:e}:null==r?{type:"Feature",id:n,properties:o,geometry:e}:{type:"Feature",id:n,bbox:r,properties:o,geometry:e}}function Lc(t,e){var i=Nc(t.transform),a=t.arcs;function o(t,e){e.length&&e.pop();for(var n=a[t<0?~t:t],r=0,o=n.length;r<o;++r)e.push(i(n[r],r));t<0&&function(t){for(var e,n=t.length,r=n-o;r<--n;)e=t[r],t[r++]=t[n],t[n]=e}(e)}function u(t){return i(t)}function c(t){for(var e=[],n=0,r=t.length;n<r;++n)o(t[n],e);return e.length<2&&e.push(e[0]),e}function n(t){for(var e=c(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(n)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=u(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(u);break;case"LineString":n=c(e.arcs);break;case"MultiLineString":n=e.arcs.map(c);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}function Pc(u,r){var o={},c={},l={},i=[],a=-1;function t(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),i.push(r)}}return r.forEach(function(t,e){var n=u.arcs[t<0?~t:t];n.length<3&&!n[1][0]&&!n[1][1]&&(n=r[++a],r[a]=t,r[e]=n)}),r.forEach(function(t){var e,n,r,o,i,a=(n=t,a=u.arcs[n<0?~n:n],o=a[0],u.transform?(r=[0,0],a.forEach(function(t){r[0]+=t[0],r[1]+=t[1]})):r=a[a.length-1],n<0?[r,o]:[o,r]),n=a[0],o=a[1];(a=l[n])?(delete l[a.end],a.push(t),a.end=o,(e=c[o])?(delete c[e.start],i=e===a?a:a.concat(e),c[i.start=a.start]=l[i.end=e.end]=i):c[a.start]=l[a.end]=a):(a=c[o])?(delete c[a.start],a.unshift(t),a.start=n,(e=l[n])?(delete l[e.end],i=e===a?a:e.concat(a),c[i.start=e.start]=l[i.end=a.end]=i):c[a.start]=l[a.end]=a):c[(a=[t]).start=n]=l[a.end=o]=a}),t(l,c),t(c,l),r.forEach(function(t){o[t<0?~t:t]||i.push([t])}),i}function Dc(t){var e=t[0],n=t[1],t=t[2];return Math.abs((e[0]-t[0])*(n[1]-e[1])-(e[0]-n[0])*(t[1]-e[1]))/2}function Cc(t,e){return t[1][2]-e[1][2]}function Rc(t){return[t[0],t[1],0]}var Bc=dt(function(t){var e,n;e=Hn,n=function(){var v,i,c,l,t,e,u={},m={},n={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:n.currentLocale,zeroFormat:n.zeroFormat,nullFormat:n.nullFormat,defaultFormat:n.defaultFormat,scalePercentBy100:n.scalePercentBy100};function a(t,e){this._input=t,this._value=e}return(v=function(t){var e,n,r,o;if(v.isNumeral(t))e=t.value();else if(0===t||void 0===t)e=0;else if(null===t||i.isNaN(t))e=null;else if("string"==typeof t)if(s.zeroFormat&&t===s.zeroFormat)e=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)e=null;else{for(n in u)if((o="function"==typeof u[n].regexps.unformat?u[n].regexps.unformat():u[n].regexps.unformat)&&t.match(o)){r=u[n].unformat;break}e=(r=r||v._.stringToNumber)(t)}else e=Number(t)||null;return new a(t,e)}).version="2.0.6",v.isNumeral=function(t){return t instanceof a},v._=i={numberToFormat:function(t,e,n){var r,o,i,a,u,c,l=m[v.options.currentLocale],s=!1,f=!1,h="",p="",d=!1;if(t=t||0,o=Math.abs(t),v._.includes(e,"(")?(s=!0,e=e.replace(/[\(|\)]/g,"")):(v._.includes(e,"+")||v._.includes(e,"-"))&&(u=v._.includes(e,"+")?e.indexOf("+"):t<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),v._.includes(e,"a")&&(r=!!(r=e.match(/a(k|m|b|t)?/))&&r[1],v._.includes(e," a")&&(h=" "),e=e.replace(new RegExp(h+"a[kmbt]?"),""),1e12<=o&&!r||"t"===r?(h+=l.abbreviations.trillion,t/=1e12):o<1e12&&1e9<=o&&!r||"b"===r?(h+=l.abbreviations.billion,t/=1e9):o<1e9&&1e6<=o&&!r||"m"===r?(h+=l.abbreviations.million,t/=1e6):(o<1e6&&1e3<=o&&!r||"k"===r)&&(h+=l.abbreviations.thousand,t/=1e3)),v._.includes(e,"[.]")&&(f=!0,e=e.replace("[.]",".")),i=t.toString().split(".")[0],a=e.split(".")[1],c=e.indexOf(","),o=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,a?(i=(p=v._.includes(a,"[")?(a=(a=a.replace("]","")).split("["),v._.toFixed(t,a[0].length+a[1].length,n,a[1].length)):v._.toFixed(t,a.length,n)).split(".")[0],p=v._.includes(p,".")?l.delimiters.decimal+p.split(".")[1]:"",f&&0===Number(p.slice(1))&&(p="")):i=v._.toFixed(t,0,n),h&&!r&&1e3<=Number(i)&&h!==l.abbreviations.trillion)switch(i=String(Number(i)/1e3),h){case l.abbreviations.thousand:h=l.abbreviations.million;break;case l.abbreviations.million:h=l.abbreviations.billion;break;case l.abbreviations.billion:h=l.abbreviations.trillion}if(v._.includes(i,"-")&&(i=i.slice(1),d=!0),i.length<o)for(var g=o-i.length;0<g;g--)i="0"+i;return-1<c&&(i=i.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l.delimiters.thousands)),0===e.indexOf(".")&&(i=""),p=i+p+(h||""),s?p=(s&&d?"(":"")+p+(s&&d?")":""):0<=u?p=0===u?(d?"-":"+")+p:p+(d?"-":"+"):d&&(p="-"+p),p},stringToNumber:function(t){var e,n,r,o=m[s.currentLocale],i=t,a={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&t===s.zeroFormat)n=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,".")),a)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),i.match(r)){n*=Math.pow(10,a[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:(e=function(t){return"number"==typeof t&&isNaN(t)},r.toString=function(){return e.toString()},r),includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),o=r.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{for(;i<o&&!(i in r);)i++;if(o<=i)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=e(n,r[i],i,r));return n},multiplier:function(t){t=t.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(t,e){e=i.multiplier(e);return e<t?t:e},1)},toFixed:function(t,e,n,r){var o=t.toString().split("."),i=e-(r||0),o=2===o.length?Math.min(Math.max(o[1].length,i),e):i,i=Math.pow(10,o),i=(n(t+"e+"+o)/i).toFixed(o);return e-o<r&&(o=new RegExp("\\.?0{1,"+(r-(e-o))+"}$"),i=i.replace(o,"")),i}},v.options=s,v.formats=u,v.locales=m,v.locale=function(t){return t&&(s.currentLocale=t.toLowerCase()),s.currentLocale},v.localeData=function(t){if(!t)return m[s.currentLocale];if(t=t.toLowerCase(),!m[t])throw new Error("Unknown locale : "+t);return m[t]},v.reset=function(){for(var t in n)s[t]=n[t]},v.zeroFormat=function(t){s.zeroFormat="string"==typeof t?t:null},v.nullFormat=function(t){s.nullFormat="string"==typeof t?t:null},v.defaultFormat=function(t){s.defaultFormat="string"==typeof t?t:"0.0"},v.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n},v.validate=function(t,e){var n,r,o,i,a,u,c;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{u=v.localeData(e)}catch(t){u=v.localeData(v.locale())}return r=u.currency.symbol,i=u.abbreviations,n=u.delimiters.decimal,a="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,!(null!==(c=t.match(/^[^\d]+/))&&(t=t.substr(1),c[0]!==r)||null!==(c=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),c[0]!==i.thousand&&c[0]!==i.million&&c[0]!==i.billion&&c[0]!==i.trillion)||(a=new RegExp(a+"{2}"),t.match(/[^\d.,]/g)||2<(o=t.split(n)).length||(o.length<2?!o[0].match(/^\d+.*\d$/)||o[0].match(a):1===o[0].length?!o[0].match(/^\d+$/)||o[0].match(a)||!o[1].match(/^\d+$/):!o[0].match(/^\d+.*\d$/)||o[0].match(a)||!o[1].match(/^\d+$/))))},v.fn=a.prototype={clone:function(){return v(this)},format:function(t,e){var n,r,o,i=this._value,a=t||s.defaultFormat;if(e=e||Math.round,0===i&&null!==s.zeroFormat)r=s.zeroFormat;else if(null===i&&null!==s.nullFormat)r=s.nullFormat;else{for(n in u)if(a.match(u[n].regexps.format)){o=u[n].format;break}r=(o=o||v._.numberToFormat)(i,a,e)}return r},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var o=i.correctionFactor.call(null,this._value,t);return this._value=i.reduce([this._value,t],function(t,e,n,r){return t+Math.round(o*e)},0)/o,this},subtract:function(t){var o=i.correctionFactor.call(null,this._value,t);return this._value=i.reduce([t],function(t,e,n,r){return t-Math.round(o*e)},Math.round(this._value*o))/o,this},multiply:function(t){return this._value=i.reduce([this._value,t],function(t,e,n,r){var o=i.correctionFactor(t,e);return Math.round(t*o)*Math.round(e*o)/Math.round(o*o)},1),this},divide:function(t){return this._value=i.reduce([this._value,t],function(t,e,n,r){var o=i.correctionFactor(t,e);return Math.round(t*o)/Math.round(e*o)}),this},difference:function(t){return Math.abs(v(this._value).subtract(t).value())}},v.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th"},currency:{symbol:"$"}}),v.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,e,n){var r=v._.includes(e," BPS")?" ":"";return t*=1e4,e=e.replace(/\s?BPS/,""),n=v._.numberToFormat(t,e,n),n=v._.includes(n,")")?((n=n.split("")).splice(-1,0,r+"BPS"),n.join("")):n+r+"BPS"},unformat:function(t){return+(1e-4*v._.stringToNumber(t)).toFixed(15)}}),l={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},t="("+(t=(c={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(l.suffixes.filter(function(t){return c.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",v.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(t)},format:function(t,e,n){var r,o,i,a=v._.includes(e,"ib")?l:c,u=v._.includes(e," b")||v._.includes(e," ib")?" ":"";for(e=e.replace(/\s?i?b/,""),r=0;r<=a.suffixes.length;r++)if(o=Math.pow(a.base,r),i=Math.pow(a.base,r+1),null===t||0===t||o<=t&&t<i){u+=a.suffixes[r],0<o&&(t/=o);break}return v._.numberToFormat(t,e,n)+u},unformat:function(t){var e,n,r=v._.stringToNumber(t);if(r){for(e=c.suffixes.length-1;0<=e;e--){if(v._.includes(t,c.suffixes[e])){n=Math.pow(c.base,e);break}if(v._.includes(t,l.suffixes[e])){n=Math.pow(l.base,e);break}}r*=n||1}return r}}),v.register("format","currency",{regexps:{format:/(\$)/},format:function(t,e,n){var r,o,i=v.locales[v.options.currentLocale],a={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(e=e.replace(/\s?\$\s?/,""),r=v._.numberToFormat(t,e,n),0<=t?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):t<0&&!v._.includes(a.before,"-")&&!v._.includes(a.before,"(")&&(a.before="-"+a.before),o=0;o<a.before.length;o++)switch(a.before[o]){case"$":r=v._.insert(r,i.currency.symbol,o);break;case" ":r=v._.insert(r," ",o+i.currency.symbol.length-1)}for(o=a.after.length-1;0<=o;o--)switch(a.after[o]){case"$":r=o===a.after.length-1?r+i.currency.symbol:v._.insert(r,i.currency.symbol,-(a.after.length-(1+o)));break;case" ":r=o===a.after.length-1?r+" ":v._.insert(r," ",-(a.after.length-(1+o)+i.currency.symbol.length-1))}return r}}),v.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,e,n){t=("number"!=typeof t||v._.isNaN(t)?"0e+0":t.toExponential()).split("e");return e=e.replace(/e[\+|\-]{1}0/,""),v._.numberToFormat(Number(t[0]),e,n)+"e"+t[1]},unformat:function(t){var e=v._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(e[0]),e=Number(e[1]),e=v._.includes(t,"e-")?e*=-1:e;return v._.reduce([n,Math.pow(10,e)],function(t,e,n,r){var o=v._.correctionFactor(t,e);return t*o*(e*o)/(o*o)},1)}}),v.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,e,n){var r=v.locales[v.options.currentLocale],o=v._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),o+=r.ordinal(t),v._.numberToFormat(t,e,n)+o}}),v.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,e,n){var r=v._.includes(e," %")?" ":"";return v.options.scalePercentBy100&&(t*=100),e=e.replace(/\s?\%/,""),n=v._.numberToFormat(t,e,n),n=v._.includes(n,")")?((n=n.split("")).splice(-1,0,r+"%"),n.join("")):n+r+"%"},unformat:function(t){t=v._.stringToNumber(t);return v.options.scalePercentBy100?.01*t:t}}),v.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),o=Math.floor((t-60*r*60)/60),t=Math.round(t-60*r*60-60*o);return r+":"+(o<10?"0"+o:o)+":"+(t<10?"0"+t:t)},unformat:function(t){var e=t.split(":"),t=0;return 3===e.length?(t+=60*Number(e[0])*60,t+=60*Number(e[1]),t+=Number(e[2])):2===e.length&&(t+=60*Number(e[0]),t+=Number(e[1])),Number(t)}}),v;function r(t){return e.apply(this,arguments)}},t.exports?t.exports=n():e.numeral=n()}),Fc=dt(function(t,e){t.exports=function(){function r(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t}var o="millisecond",f="second",h="minute",p="hour",d="day",g="week",v="month",m="year",y="date",a=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,t={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},e={s:r,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),t=Math.floor(n/60),n=n%60;return(e<=0?"+":"-")+r(t,2,"0")+":"+r(n,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,v),i=n-o<0,e=e.clone().add(r+(i?-1:1),v);return+(-(r+(n-o)/(i?o-e:e-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:v,y:m,w:g,d:d,D:y,h:p,m:h,s:f,ms:o,Q:"quarter"}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},i="en",u={};u[i]=t;function n(t){return t instanceof s}function c(t,e,n){var r;return t?("string"==typeof t?(u[t]&&(r=t),e&&(u[t]=e,r=t)):(e=t.name,u[e]=t,r=e),!n&&r&&(i=r),r||!n&&i):i}function l(t,e){return n(t)?t.clone():((e="object"==Yn(e)?e:{}).date=t,e.args=arguments,new s(e))}var w=e;w.l=c,w.i=n,w.w=function(t,e){return l(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var s=((e=x.prototype).parse=function(i){this.$d=function(){var t=i.date,e=i.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(a);if(n){var r=n[2]-1||0,o=(n[7]||"0").substring(0,3);return e?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(),this.$x=i.x||{},this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return w},e.isValid=function(){return!("Invalid Date"===this.$d.toString())},e.isSame=function(t,e){t=l(t);return this.startOf(e)<=t&&t<=this.endOf(e)},e.isAfter=function(t,e){return l(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<l(t)},e.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){function n(t,e){return t=w.w(o.$u?Date.UTC(o.$y,e,t):new Date(o.$y,e,t),o),i?t:t.endOf(d)}function r(t,e){return w.w(o.toDate()[t].apply(o.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),o)}var o=this,i=!!w.u(e)||e,t=w.p(t),a=this.$W,u=this.$M,c=this.$D,l="set"+(this.$u?"UTC":"");switch(t){case m:return i?n(1,0):n(31,11);case v:return i?n(1,u):n(0,u+1);case g:var s=this.$locale().weekStart||0,s=(a<s?a+7:a)-s;return n(i?c-s:c+(6-s),u);case d:case y:return r(l+"Hours",0);case p:return r(l+"Minutes",1);case h:return r(l+"Seconds",2);case f:return r(l+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var n=w.p(t),r="set"+(this.$u?"UTC":""),t=((t={})[d]=r+"Date",t[y]=r+"Date",t[v]=r+"Month",t[m]=r+"FullYear",t[p]=r+"Hours",t[h]=r+"Minutes",t[f]=r+"Seconds",t[o]=r+"Milliseconds",t[n]),e=n===d?this.$D+(e-this.$W):e;return n===v||n===m?((n=this.clone().set(y,1)).$d[t](e),n.init(),this.$d=n.set(y,Math.min(this.$D,n.daysInMonth())).$d):t&&this.$d[t](e),this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[w.p(t)]()},e.add=function(n,t){var r=this;n=Number(n);var e=w.p(t),t=function(t){var e=l(r);return w.w(e.date(e.date()+Math.round(t*n)),r)};if(e===v)return this.set(v,this.$M+n);if(e===m)return this.set(m,this.$y+n);if(e===d)return t(1);if(e===g)return t(7);(t={})[h]=6e4,t[p]=36e5,t[f]=1e3,e=t[e]||1,e=this.$d.getTime()+n*e;return w.w(e,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var o=this;if(!this.isValid())return"Invalid Date";function e(t,e,n,r){return t&&(t[e]||t(o,i))||n[e].substr(0,r)}function n(t){return w.s(u%12||12,t,"0")}var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),a=this.$locale(),u=this.$H,c=this.$m,l=this.$M,s=a.weekdays,f=a.months,t=a.meridiem||function(t,e,n){t=t<12?"AM":"PM";return n?t.toLowerCase():t},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:w.s(l+1,2,"0"),MMM:e(a.monthsShort,l,f,3),MMMM:e(f,l),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:e(a.weekdaysMin,this.$W,s,2),ddd:e(a.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(u),HH:w.s(u,2,"0"),h:n(1),hh:n(2),a:t(u,c,!0),A:t(u,c,!1),m:String(c),mm:w.s(c,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return i.replace(b,function(t,e){return e||h[t]||r.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,e,n){var r=w.p(e),o=l(t),i=6e4*(o.utcOffset()-this.utcOffset()),e=this-o,t=w.m(this,o),o={};return o[m]=t/12,o[v]=t,o.quarter=t/3,o.week=(e-i)/6048e5,o[d]=(e-i)/864e5,o[p]=e/36e5,o[h]=e/6e4,o[f]=e/1e3,t=o[r]||e,n?t:w.a(t)},e.daysInMonth=function(){return this.endOf(v).$D},e.$locale=function(){return u[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),e=c(t,e,!0);return e&&(n.$L=e),n},e.clone=function(){return w.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},x),_=s.prototype;function x(t){this.$L=c(t.locale,null,!0),this.parse(t)}return l.prototype=_,[["$ms",o],["$s",f],["$m",h],["$H",p],["$W",d],["$M",v],["$y",m],["$D",y]].forEach(function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),l.extend=function(t,e){return t.$i||(t(e,s,l),t.$i=!0),l},l.locale=c,l.isDayjs=n,l.unix=function(t){return l(1e3*t)},l.en=u[i],l.Ls=u,l.p={},l}()}),lt=dt(function(t,e){t.exports=function(t,e,n){var e=e.prototype,o=e.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},e.format=function(t){var e=this,n=this.$locale(),r=this.$utils(),t=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return r.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}});return o.bind(this)(t)}}}),qc=dt(function(t,e){var i;t.exports=(i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,n){var e=e.prototype,r=e.format;n.en.formats=i,e.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var o,e=this.$locale().formats,t=(o=void 0===e?{}:e,t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,e,n){var r=n&&n.toUpperCase();return e||o[n]||i[n]||o[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})}));return r.call(this,t)}})}),Wc=!1;function Hc(t,e,n){e=1<arguments.length&&void 0!==e?e:null,n=2<arguments.length&&void 0!==n?n:null;if(!e)return t;for(var r=Array.isArray(e)?e:e.split("."),o=t,i=0;i<r.length&&null!=o;i++)o=o[r[i]];return null==o?n:o}function Yc(e){if(!e||"object"!==Yn(e))return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}var Ic=dt(function(t,e){t.exports=function(){function f(){}function u(t){return t()}function h(){return Object.create(null)}function k(t){t.forEach(u)}function c(t){return"function"==typeof t}function e(t,e){return t!=t?e==e:t!==e||t&&"object"==Yn(t)||"function"==typeof t}function S(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function n(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function a(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function i(t){return document.createTextNode(t)}function O(){return i(" ")}function p(){return i("")}function j(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function N(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function l(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e,n){t.classList[n?"add":"remove"](e)}var d,s=function(t){void 0===t&&(t=null),this.a=t,this.e=this.n=null};function g(t){d=t}function W(){if(!d)throw new Error("Function called outside component initialization");return d}function at(t){W().$$.after_update.push(t)}function ut(){var i=W();return function(t,e){var n,r,o=i.$$.callbacks[t];o&&(r=t,t=e,(e=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,t),n=e,o.slice().forEach(function(t){t.call(i,n)}))}}function ct(t,e){t=t.$$.callbacks[e.type];t&&t.slice().forEach(function(t){return t(e)})}s.prototype.m=function(t,e,n){void 0===n&&(n=null),this.e||(this.e=$(e.nodeName),this.t=e,this.h(t)),this.i(n)},s.prototype.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},s.prototype.i=function(t){for(var e=0;e<this.n.length;e+=1)A(this.t,this.n[e],t)},s.prototype.p=function(t){this.d(),this.h(t),this.i(this.a)},s.prototype.d=function(){this.n.forEach(E)};var v=[],lt=[],m=[],y=[],r=Promise.resolve(),b=!1;function st(){b||(b=!0,r.then(L))}function w(t){m.push(t)}function x(t){y.push(t)}var _=!1,M=new Set;function L(){if(!_){_=!0;do{for(var t=0;t<v.length;t+=1){var e=v[t];g(e),o=e.$$,e=void 0,void(null!==o.fragment&&(o.update(),k(o.before_update),e=o.dirty,o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(w)))}for(g(null),v.length=0;lt.length;)lt.pop()();for(var n=0;n<m.length;n+=1){var r=m[n];M.has(r)||(M.add(r),r())}}while(m.length=0,v.length);for(;y.length;)y.pop()();_=b=!1,M.clear()}var o}var o,P=new Set;function D(){o={r:0,c:[],p:o}}function C(){o.r||k(o.c),o=o.p}function R(t,e){t&&t.i&&(P.delete(t),t.i(e))}function B(t,e,n,r){t&&t.o&&(P.has(t)||(P.add(t),o.c.push(function(){P.delete(t),r&&(n&&t.d(1),r())}),t.o(e)))}var t="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:Hn;function F(t,e,n){e=t.$$.props[e];void 0!==e&&(t.$$.bound[e]=n)(t.$$.ctx[e])}function q(t){t&&t.c()}function H(e,t,n){var r=e.$$,o=r.fragment,i=r.on_mount,a=r.on_destroy,r=r.after_update;o&&o.m(t,n),w(function(){var t=i.map(u).filter(c);a?a.push.apply(a,t):k(t),e.$$.on_mount=[]}),r.forEach(w)}function Y(t,e){t=t.$$;null!==t.fragment&&(k(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function I(i,t,e,n,a,r,o){void 0===o&&(o=[-1]);var u=d;g(i);var c=t.props||{},l=i.$$={fragment:null,ctx:null,props:r,update:f,not_equal:a,bound:h(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:h(),dirty:o,skip_bound:!1},s=!1;l.ctx=e?e(i,c,function(t,e){for(var n=[],r=arguments.length-2;0<r--;)n[r]=arguments[r+2];var o=n.length?n[0]:e;return l.ctx&&a(l.ctx[t],l.ctx[t]=o)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](o),s&&(o=t,-1===(t=i).$$.dirty[0]&&(v.push(t),st(),t.$$.dirty.fill(0)),t.$$.dirty[o/31|0]|=1<<o%31)),e}):[],l.update(),s=!0,k(l.before_update),l.fragment=!!n&&n(l.ctx),t.target&&(t.hydrate?(n=t.target,n=Array.from(n.childNodes),l.fragment&&l.fragment.l(n),n.forEach(E)):l.fragment&&l.fragment.c(),t.intro&&R(i.$$.fragment),H(i,t.target,t.anchor),L()),g(u)}function Z(){}Z.prototype.$destroy=function(){Y(this,1),this.$destroy=f},Z.prototype.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},Z.prototype.$set=function(t){this.$$set&&0!==Object.keys(t).length&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)};var X="http://www.w3.org/1999/xhtml",U={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function V(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),U.hasOwnProperty(e)?{space:U[e],local:t}:t}function G(t){t=V(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===X&&t.documentElement.namespaceURI===X?t.createElement(n):t.createElementNS(e,n)}})(t)}function J(){}function K(t){return null==t?J:function(){return this.querySelector(t)}}function Q(){return[]}function tt(t){return new Array(t.length)}function et(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function nt(t,e,n,r,o,i){for(var a,u=0,c=e.length,l=i.length;u<l;++u)(a=e[u])?(a.__data__=i[u],r[u]=a):n[u]=new et(t,i[u]);for(;u<c;++u)(a=e[u])&&(o[u]=a)}function rt(t,e,n,r,o,i,a){for(var u,c,l={},s=e.length,f=i.length,h=new Array(s),p=0;p<s;++p)(u=e[p])&&(h[p]=c="$"+a.call(u,u.__data__,p,e),c in l?o[p]=u:l[c]=u);for(p=0;p<f;++p)(u=l[c="$"+a.call(t,i[p],p,i)])?((r[p]=u).__data__=i[p],l[c]=null):n[p]=new et(t,i[p]);for(p=0;p<s;++p)(u=e[p])&&l[h[p]]===u&&(o[p]=u)}function ot(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function it(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ft(t){return t.trim().split(/^|\s+/)}function ht(t){return t.classList||new pt(t)}function pt(t){this._node=t,this._names=ft(t.getAttribute("class")||"")}function dt(t,e){for(var n=ht(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function gt(t,e){for(var n=ht(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function vt(){this.textContent=""}function mt(){this.innerHTML=""}function yt(){this.nextSibling&&this.parentNode.appendChild(this)}function bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wt(){return null}function _t(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Mt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}et.prototype={constructor:et,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var kt={};function St(n,t,e){return n=At(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function At(e,n,r){return function(t){e.call(this,this.__data__,n,r)}}function Et(i){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,o=t.length;n<o;++n)e=t[n],i.type&&e.type!==i.type||e.name!==i.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function $t(c,l,s){var f=kt.hasOwnProperty(c.type)?St:At;return function(t,e,n){var r,o=this.__on,i=f(l,e,n);if(o)for(var a=0,u=o.length;a<u;++a)if((r=o[a]).type===c.type&&r.name===c.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=i,r.capture=s),void(r.value=l);this.addEventListener(c.type,i,s),r={type:c.type,name:c.name,value:l,listener:i,capture:s},o?o.push(r):this.__on=[r]}}function Ot(t,e,n){var r=it(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(kt={mouseenter:"mouseover",mouseleave:"mouseout"}));var jt=[null];function Nt(t,e){this._groups=t,this._parents=e}function zt(t){return"string"==typeof t?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],jt)}function Tt(){window.getSelection().removeAllRanges()}function Lt(t,e,n){t=t.slice();return t[12]=e[n],t}function Pt(n){var r,o,i,a,u,c;function l(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return n[10].apply(n,[n[12]].concat(t))}return{c:function(){r=$("div"),o=$("div"),i=O(),z(o,"class","resizer-inner svelte-15xph4v"),z(r,"class",a="resizer "+n[2]+" "+n[12].charAt(0)+" svelte-15xph4v"),T(r,"drag","line"===n[0].display)},m:function(t,e){A(t,r,e),S(r,o),S(r,i),u||(c=j(r,"mousedown",l),u=!0)},p:function(t,e){n=t,6&e&&a!==(a="resizer "+n[2]+" "+n[12].charAt(0)+" svelte-15xph4v")&&z(r,"class",a),7&e&&T(r,"drag","line"===n[0].display)},d:function(t){t&&E(r),u=!1,c()}}}function Dt(t){for(var i,a=t[1],u=[],e=0;e<a.length;e+=1)u[e]=Pt(Lt(t,a,e));return{c:function(){i=$("div");for(var t=0;t<u.length;t+=1)u[t].c();z(i,"class","resizers svelte-15xph4v")},m:function(t,e){A(t,i,e);for(var n=0;n<u.length;n+=1)u[n].m(i,null)},p:function(t,e){var n,r=e[0];if(15&r){for(a=t[1],n=0;n<a.length;n+=1){var o=Lt(t,a,n);u[n]?u[n].p(o,r):(u[n]=Pt(o),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}},i:f,o:f,d:function(t){t&&E(i),n(u,t)}}}function Ct(t,e,n){var r,o,i=ut(),a=e.annotation,u=e.type,c=e.index,l=e.activeResizer,s=e.resizing,f=e.noOffsetAtEventStart,h=e.orientation;function p(t,e){t.stopPropagation(),Tt(),i("selectAnnotation",{type:u,index:c}),void 0===a.width&&i("setWidth"),n(4,l=e),n(5,s=!0),n(6,f=0===a.dx&&0===a.dy)}return t.$$set=function(t){"annotation"in t&&n(0,a=t.annotation),"type"in t&&n(7,u=t.type),"index"in t&&n(8,c=t.index),"activeResizer"in t&&n(4,l=t.activeResizer),"resizing"in t&&n(5,s=t.resizing),"noOffsetAtEventStart"in t&&n(6,f=t.noOffsetAtEventStart),"orientation"in t&&n(9,h=t.orientation)},t.$$.update=function(){513&t.$$.dirty&&n(1,r="y"===h?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),512&t.$$.dirty&&n(2,o="y"===h?"y":"x")},[a,r,o,p,l,s,f,u,c,h,function(t,e){return p(e,t)}]}Nt.prototype={constructor:Nt,select:function(t){"function"!=typeof t&&(t=K(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=e[o],c=u.length,l=r[o]=new Array(c),s=0;s<c;++s)(i=u[s])&&(a=t.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),l[s]=a);return new Nt(r,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?Q:function(){return this.querySelectorAll(e)});for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var u,c=n[a],l=c.length,s=0;s<l;++s)(u=c[s])&&(o.push(t.call(u,u.__data__,s,c)),i.push(u));return new Nt(o,i)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var a,u=n[i],c=u.length,l=o[i]=[],s=0;s<c;++s)(a=u[s])&&t.call(a,a.__data__,s,u)&&l.push(a);return new Nt(o,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var n,r=e?rt:nt,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=o[s],h=i[s],p=h.length,d=t.call(f,f&&f.__data__,s,o),g=d.length,v=c[s]=new Array(g),m=u[s]=new Array(g);r(f,h,v,m,l[s]=new Array(p),d,e);for(var y,b,w=0,_=0;w<g;++w)if(y=v[w]){for(_<=w&&(_=w+1);!(b=m[_])&&++_<g;);y._next=b||null}}return(u=new Nt(u,o))._enter=c,u._exit=l,u},enter:function(){return new Nt(this._enter||this._groups.map(tt),this._parents)},exit:function(){return new Nt(this._exit||this._groups.map(tt),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,o=Math.min(r,t),i=new Array(r),a=0;a<o;++a)for(var u,c=e[a],l=n[a],s=c.length,f=i[a]=new Array(s),h=0;h<s;++h)(u=c[h]||l[h])&&(f[h]=u);for(;a<r;++a)i[a]=e[a];return new Nt(i,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];0<=--i;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||ot;for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,u=e[i],c=u.length,l=o[i]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(t)}return new Nt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=V(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):(n=this.node(),t=t,n.style.getPropertyValue(t)||it(n).getComputedStyle(n,null).getPropertyValue(t))},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=ft(t+"");if(arguments.length<2){for(var r=ht(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?dt:gt)(this,t)}}:e?function(t){return function(){dt(this,t)}}:function(t){return function(){gt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?vt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?mt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(yt)},lower:function(){return this.each(bt)},append:function(t){var e="function"==typeof t?t:G(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:G(t),r=null==e?wt:"function"==typeof e?e:K(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(_t)},clone:function(t){return this.select(t?Mt:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=i.length;if(!(arguments.length<2)){for(u=e?$t:Et,null==n&&(n=!1),r=0;r<a;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Ot(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Ot(this,t,e)}})(t,e))}};var Rt,Bt=((Rt=Z)&&(Ft.__proto__=Rt),(Ft.prototype=Object.create(Rt&&Rt.prototype)).constructor=Ft);function Ft(t){Rt.call(this),I(this,t,Ct,Dt,e,{annotation:0,type:7,index:8,activeResizer:4,resizing:5,noOffsetAtEventStart:6,orientation:9})}function qt(){}function Wt(t,e){var n=new qt;if(t instanceof qt)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}qt.prototype=Wt.prototype={constructor:qt,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){t="$"+t;return t in this&&delete this[t]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t,e=[];for(t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)"$"===t[0]&&++e;return e},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Ht=Math.cos(.25*Math.PI),Yt=Math.sin(.25*Math.PI);function It(t){var e=t[0],t=t[1];return[e*Ht-t*Yt,e*Yt+t*Ht]}function Zt(t){var e=t[0],t=t[1];return[e*Ht+t*Yt,t*Ht-e*Yt]}function Xt(t,e,n,r){void 0===r&&(r=!0);var o=r?1:0,o=(n-t[o])/(e[o]-t[o]);if(o<0||1<o)return null;r=r?0:1;return t[r]+o*(e[r]-t[r])}function Ut(g){return void 0===g&&(g=!0),function(t){var s=t.source,f=t.sourcePadding,h=t.targetPadding,p=t.circle,d=t.circleRadius;return function(t){p&&d&&(h+=d),0<f&&((s=Object.assign({},s)).x-=f,s.y-=f,s.width+=2*f,s.height+=2*f);var e=s.x+.5*s.width,n=s.y+.5*s.height,r=0,o=0,i=Vt(e,n,r,o,.25,g),a=i[0],u=i[1],c=s.height/s.width,l=a-e,i=u-n;Math.abs(i/l)<c?(e+=.5*s.width*(0<l?1:-1),n+=.5*s.width*i/l*(0<l?1:-1)):(e+=.5*s.height*l/i*(0<i?1:-1),n+=.5*s.height*(0<i?1:-1)),a=(i=Vt(e,n,r,o,.25,g))[0],u=i[1],0<h&&(i=Math.atan2(-u,-a),a=(i=Vt(e,n,r=-Math.cos(i)*h,o=-Math.sin(i)*h,.25,g))[0],u=i[1]),t.attr("d","M "+e+","+n+" Q "+a+","+u+" "+r+","+o)}}}function Vt(t,e,n,r,o,i){void 0===o&&(o=.25),void 0===i&&(i=!0);var a=n-t,u=r-e,c=u,l=-a,n=.5*(t+n),e=.5*(e+r),r=Math.sqrt(c*c+l*l),i=Math.sqrt(a*a+u*u)*o/r*(i?-1:1);return[n+c*i,e+l*i]}var Gt=Ut(!0),Jt=Ut(!1),Kt=Object.freeze({__proto__:null,straight:function(t){var k=t.source,S=t.sourcePadding,A=t.targetPadding,E=t.circle,$=t.circleRadius;return function(t){E&&$&&(A+=$),S&&((k=Object.assign({},k)).x-=S,k.y-=S,k.width+=2*S,k.height+=2*S);var e,n,r,o,i,a,u,c,l,s,f,h,p,d,g,v=k.x+.5*k.width,m=k.y+.5*k.height,y=0,b=0,w=!0,_=-v,x=-m,M=k.height/k.width;2*Math.abs(v)<k.width?(b=A*((y=v=0)<m?1:-1),m+=.5*k.height*(m<0?1:-1),w=!1):2*Math.abs(m)<k.height?(y=A*((b=m=0)<v?1:-1),v+=.5*k.width*(v<0?1:-1),w=!1):(e=(u=It([-.5*k.width,0]))[0],n=u[1],r=(c=It([.5*k.width,0]))[0],o=c[1],i=(s=It([0,-.5*k.height]))[0],a=s[1],u=(l=It([0,.5*k.height]))[0],c=l[1],l=(s=It([-v,-m]))[0],s=s[1],M=0<v&&0<m&&e<=l&&l<=i?(f=(p=Zt([l,Xt(l<(f=(h=It([-.5*k.width,-.5*k.height]))[0])?[e,n]:[i,a],[f,h[1]],l,!1)]))[0],p[1]):v<0&&m<0&&u<=l&&l<=r?(f=(l=Zt([l,Xt(l<(p=(h=It([.5*k.width,.5*k.height]))[0])?[u,c]:[r,o],[p,h[1]],l,!1)]))[0],l[1]):0<v&&m<0&&n<=s&&s<=c?(d=(g=It([-.5*k.width,.5*k.height]))[0],f=(d=Zt([Xt(s<(g=g[1])?[e,n]:[u,c],[d,g],s,!0),s]))[0],d[1]):v<0&&0<m&&a<=s&&s<=o?(d=(g=It([.5*k.width,-.5*k.height]))[0],f=(s=Zt([Xt(s<(g=g[1])?[i,a]:[r,o],[d,g],s,!0),s]))[0],s[1]):Math.abs(x/_)<M?(f=.5*k.width*(0<_?1:-1),.5*k.width*x/_*(0<_?1:-1)):(f=.5*k.height*_/x*(0<x?1:-1),.5*k.height*(0<x?1:-1)),v+=f,m+=M),0<A&&w&&(_=-v,x=-m,_=Math.atan2(x,_),y=-Math.cos(_)*A,b=-Math.sin(_)*A),t.attr("d","M "+v+","+m+" L "+y+","+b),t.classed("crisp",v.toFixed(1)===y.toFixed(1)||m.toFixed(1)===b.toFixed(1))}},curveLeft:Gt,curveRight:Jt});function Qt(s){return void 0===s&&(s={}),s=Object.assign({},{sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black"},s),function(t){return t.each(function(t){var e=Object.assign({},s,t),n=zt(this).append("g.callout-line").attr("aria-hidden",!0);e.arrowHead&&(e.targetPadding+=e.strokeWidth,e.circleRadius+=e.strokeWidth);var r,o,i,a,u,c,l=n.append("path").style("stroke-width",e.strokeWidth).style("stroke",e.color).call(Kt[e.type](e));e.arrowHead&&(r=n,o=l.node(),i=e.arrowHead,a=e.strokeWidth,u=e.color,c=ae[i],!o.getTotalLength||0!==(t=o.getTotalLength())&&(l=o.getPointAtLength(t),i=o.getPointAtLength(t-10),o=Math.min(1,t/c.minLen/a),i=(t=[l.x-i.x,l.y-i.y])[0],t=t[1],i=Math.atan2(t,i)/Math.PI*180,a=r.append("path.callout-line-arrow-head").attr("d",c.path).attr("transform","translate("+l.x+", "+l.y+") rotate("+i+") scale("+a*o+") ").classed("callout-line-arrow-head-stroke",c.strokes),c.strokes?a.style("stroke",u).style("fill","none").style("stroke-width",1/o):a.style("fill",u).style("stroke","none"))),e.circle&&n.append("circle").style("stroke",e.color).style("stroke-width",e.strokeWidth).style("stroke-dasharray","dashed"===e.circleStyle?2+(n=e.strokeWidth)+", "+(4+n):void 0).attr("r",e.circleRadius-(e.arrowHead?e.strokeWidth:0))})}}function te(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":de&&de in Object(t)?function(t){var e=se.call(t,he),n=t[he];try{var r=!(t[he]=void 0)}catch(t){}var o=fe.call(t);return r&&(e?t[he]=n:delete t[he]),o}(t):(t=t,pe.call(t))}function ee(t){var e=Yn(t);return null!=t&&("object"==e||"function"==e)}function ne(t){return null!=t&&("number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=9007199254740991)&&!function(t){if(!ee(t))return!1;t=te(t);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(t);var e}function re(t,e,n){if(ee(n)){var r,o,i,a=Yn(e);return!!("number"==a?ne(n)&&(r=e,o=n.length,i=Yn(r),!!(o=null==o?9007199254740991:o)&&("number"==i||"symbol"!=i&&ge.test(r))&&-1<r&&r%1==0&&r<o):"string"==a&&e in n)&&((e=n[e])===(t=t)||e!=e&&t!=t)}}function oe(t){return"symbol"==Yn(t)||null!=(e=t)&&"object"==Yn(e)&&"[object Symbol]"==te(t);var e}function ie(t){return t?(t=function(t){if("number"==typeof t)return t;if(oe(t))return NaN;if(ee(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=ee(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(ve,"");var e=ye.test(t);return e||be.test(t)?we(t.slice(2),e?2:8):me.test(t)?NaN:+t}(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}var ae={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}},ue=Math.ceil,ce=Math.max,le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:Hn,Gt="object"==Yn(le)&&le&&le.Object===Object&&le,Jt="object"==("undefined"==typeof self?"undefined":Yn(self))&&self&&self.Object===Object&&self,le=(Gt||Jt||Function("return this")()).Symbol,Gt=Object.prototype,se=Gt.hasOwnProperty,fe=Gt.toString,he=le?le.toStringTag:void 0,pe=Object.prototype.toString,de=le?le.toStringTag:void 0,ge=/^(?:0|[1-9]\d*)$/,ve=/^\s+|\s+$/g,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,be=/^0o[0-7]+$/i,we=parseInt,_e=function(t,e,n){return n&&"number"!=typeof n&&re(t,e,n)&&(e=n=void 0),t=ie(t),void 0===e?(e=t,t=0):e=ie(e),function(t,e,n,r){for(var o=-1,i=ce(ue((e-t)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=t,t+=n;return a}(t,e,n=void 0===n?t<e?1:-1:ie(n),void 0)};function xe(t,e,n){(t.prototype=e.prototype=n).constructor=t}function Me(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function ke(){}var Jt="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Se=/^#([0-9a-f]{3,8})$/,Ae=new RegExp("^rgb\\("+[Jt,Jt,Jt]+"\\)$"),Ee=new RegExp("^rgb\\("+[le,le,le]+"\\)$"),$e=new RegExp("^rgba\\("+[Jt,Jt,Jt,Gt]+"\\)$"),Oe=new RegExp("^rgba\\("+[le,le,le,Gt]+"\\)$"),je=new RegExp("^hsl\\("+[Gt,le,le]+"\\)$"),Ne=new RegExp("^hsla\\("+[Gt,le,le,Gt]+"\\)$"),ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Te(){return this.rgb().formatHex()}function Le(){return this.rgb().formatRgb()}function Pe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Se.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?De(e):3===n?new Be(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ce(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ce(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ae.exec(t))?new Be(e[1],e[2],e[3],1):(e=Ee.exec(t))?new Be(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$e.exec(t))?Ce(e[1],e[2],e[3],e[4]):(e=Oe.exec(t))?Ce(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=je.exec(t))?He(e[1],e[2]/100,e[3]/100,1):(e=Ne.exec(t))?He(e[1],e[2]/100,e[3]/100,e[4]):ze.hasOwnProperty(t)?De(ze[t]):"transparent"===t?new Be(NaN,NaN,NaN,0):null}function De(t){return new Be(t>>16&255,t>>8&255,255&t,1)}function Ce(t,e,n,r){return r<=0&&(t=e=n=NaN),new Be(t,e,n,r)}function Re(t,e,n,r){return 1===arguments.length?((o=t)instanceof ke||(o=Pe(o)),o?new Be((o=o.rgb()).r,o.g,o.b,o.opacity):new Be):new Be(t,e,n,null==r?1:r);var o}function Be(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Fe(){return"#"+We(this.r)+We(this.g)+We(this.b)}function qe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function We(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function He(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Ie(t,e,n,r)}function Ye(t){if(t instanceof Ie)return new Ie(t.h,t.s,t.l,t.opacity);if(t instanceof ke||(t=Pe(t)),!t)return new Ie;if(t instanceof Ie)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=0<c&&c<1?0:a,new Ie(a,u,c,t.opacity)}function Ie(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ze(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Xe(t,e){return"translate("+Math.round(t)+"px, "+Math.round(e)+"px);"}function Ue(t){return!0===t||void 0===t}function Ve(t){return!(!Ue(t.showDesktop)||!1!==t.showMobile)}function Ge(t){return!1===t.showDesktop&&!1===t.showMobile}function Je(t,e){return"function"==typeof e?e(t):t}xe(ke,Pe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Te,formatHex:Te,formatHsl:function(){return Ye(this).formatHsl()},formatRgb:Le,toString:Le}),xe(Be,Re,Me(ke,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Be(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Be(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fe,formatHex:Fe,formatRgb:qe,toString:qe})),xe(Ie,function(t,e,n,r){return 1===arguments.length?Ye(t):new Ie(t,e,n,null==r?1:r)},Me(ke,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ie(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Be(Ze(240<=t?t-240:120+t,n,e),Ze(t,n,e),Ze(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ke=180/Math.PI;function Qe(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!e)return t;for(var r=e.split("."),o=t,i=0;i<r.length&&null!=o;i++)o=o[r[i]];return null==o?n:o}var tn=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,en=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function nn(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0||t.indexOf(">")<0)return t;if(t=function(t,n){n=(((void 0!==n?n||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var e=t,r=t;;)if(r=(e=r).replace(en,"").replace(tn,function(t,e){return-1<n.indexOf("<"+e.toLowerCase()+">")?t:""}),e===r)return r}(t,e),"undefined"==typeof document)return t;e=document.createElement("div");e.innerHTML=t;for(var n=e.querySelectorAll("*"),r=0;r<n.length;r++){"a"===n[r].nodeName.toLowerCase()&&("_self"!==n[r].getAttribute("target")&&n[r].setAttribute("target","_blank"),n[r].setAttribute("rel","nofollow noopener noreferrer"),n[r].getAttribute("href")&&n[r].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&n[r].setAttribute("href",""));for(var o=[],i=0;i<n[r].attributes.length;i++){var a=n[r].attributes[i];a.specified&&"on"===a.name.substr(0,2)&&o.push(a.name)}o.forEach(function(t){return n[r].removeAttribute(t)})}return e.innerHTML}}function rn(n){var r,o,i;return{c:function(){r=$("div"),z(o=a("svg"),"width","1"),z(o,"height","1"),z(o,"class","svelte-t7ef7g"),z(r,"class","connector-line svelte-t7ef7g"),z(r,"aria-hidden","true"),z(r,"style",i="transform: "+Xe(n[9],n[10]))},m:function(t,e){A(t,r,e),S(r,o),n[57](o)},p:function(t,e){1536&e[0]&&i!==(i="transform: "+Xe(t[9],t[10]))&&z(r,"style",i)},d:function(t){t&&E(r),n[57](null)}}}function on(t){var n,r,o,i;return{c:function(){n=$("div"),r=a("svg"),z(o=a("path"),"class","helper-line svelte-t7ef7g"),z(o,"d",i=t[27](t[0])),z(r,"width","1"),z(r,"height","1"),z(r,"class","svelte-t7ef7g"),z(n,"class","helper svelte-t7ef7g")},m:function(t,e){A(t,n,e),S(n,r),S(r,o)},p:function(t,e){134217729&e[0]&&i!==(i=t[27](t[0]))&&z(o,"d",i)},d:function(t){t&&E(n)}}}function an(n){var r,o,i,a;return{c:function(){z(r=$("div"),"class","reference-point svelte-t7ef7g"),z(r,"style",o="transform: "+n[23]()),T(r,"hollow",n[22])},m:function(t,e){A(t,r,e),i||(a=j(r,"mousedown",N(n[32])),i=!0)},p:function(t,e){8388608&e[0]&&o!==(o="transform: "+t[23]())&&z(r,"style",o),4194304&e[0]&&T(r,"hollow",t[22])},d:function(t){t&&E(r),i=!1,a()}}}function un(t){var n,r;return{c:function(){z(n=$("div"),"class","offset-point svelte-t7ef7g"),z(n,"style",r="transform: "+t[25]())},m:function(t,e){A(t,n,e)},p:function(t,e){33554432&e[0]&&r!==(r="transform: "+t[25]())&&z(n,"style",r)},d:function(t){t&&E(n)}}}function cn(t){var n,r,o,i=nn(t[0].text)+"";return{c:function(){n=$("div"),z(r=$("span"),"class","export-text"),z(n,"class","shadow-text svelte-t7ef7g"),z(n,"aria-hidden","true"),z(n,"style",o=t[20](t[0])),T(n,"dw-bold",t[0].bold),T(n,"italic",t[0].italic),T(n,"underline",t[0].underline)},m:function(t,e){A(t,n,e),S(n,r),r.innerHTML=i},p:function(t,e){1&e[0]&&i!==(i=nn(t[0].text)+"")&&(r.innerHTML=i),1048577&e[0]&&o!==(o=t[20](t[0]))&&z(n,"style",o),1&e[0]&&T(n,"dw-bold",t[0].bold),1&e[0]&&T(n,"italic",t[0].italic),1&e[0]&&T(n,"underline",t[0].underline)},d:function(t){t&&E(n)}}}function ln(t){var n;function r(t){return t[12]?hn:fn}var o=r(t),i=o(t);return{c:function(){n=$("span"),i.c(),z(n,"class","export-text")},m:function(t,e){A(t,n,e),i.m(n,null)},p:function(t,e){o===(o=r(t))&&i?i.p(t,e):(i.d(1),(i=o(t))&&(i.c(),i.m(n,null)))},d:function(t){t&&E(n),i.d()}}}function sn(t){var n;function r(t){return t[12]?dn:pn}var o=r(t),i=o(t);return{c:function(){i.c(),n=p()},m:function(t,e){i.m(t,e),A(t,n,e)},p:function(t,e){o===(o=r(t))&&i?i.p(t,e):(i.d(1),(i=o(t))&&(i.c(),i.m(n.parentNode,n)))},d:function(t){i.d(t),t&&E(n)}}}function fn(t){var n,r,o=nn(t[0].text)+"";return{c:function(){r=p(),n=new s(r)},m:function(t,e){n.m(o,t,e),A(t,r,e)},p:function(t,e){1&e[0]&&o!==(o=nn(t[0].text)+"")&&n.p(o)},d:function(t){t&&E(r),t&&n.d()}}}function hn(t){var n,r=t[6].num+"";return{c:function(){n=i(r)},m:function(t,e){A(t,n,e)},p:function(t,e){64&e[0]&&r!==(r=t[6].num+"")&&l(n,r)},d:function(t){t&&E(n)}}}function pn(t){var n;function r(t){return t[1]&&t[13]?vn:gn}var o=r(t),i=o(t);return{c:function(){n=$("div"),i.c(),z(n,"class","text-background svelte-t7ef7g")},m:function(t,e){A(t,n,e),i.m(n,null)},p:function(t,e){o===(o=r(t))&&i?i.p(t,e):(i.d(1),(i=o(t))&&(i.c(),i.m(n,null)))},d:function(t){t&&E(n),i.d()}}}function dn(t){var n,r,o=t[6].num+"";return{c:function(){n=$("span"),r=i(o)},m:function(t,e){A(t,n,e),S(n,r)},p:function(t,e){64&e[0]&&o!==(o=t[6].num+"")&&l(r,o)},d:function(t){t&&E(n)}}}function gn(n){var r,o=nn(n[0].text)+"";return{c:function(){z(r=$("span"),"class","text-inner text-edit svelte-t7ef7g")},m:function(t,e){A(t,r,e),r.innerHTML=o,n[60](r)},p:function(t,e){1&e[0]&&o!==(o=nn(t[0].text)+"")&&(r.innerHTML=o)},d:function(t){t&&E(r),n[60](null)}}}function vn(n){var r,o,i,a=nn(n[17])+"";return{c:function(){z(r=$("span"),"contenteditable",""),z(r,"class","text-inner text-edit svelte-t7ef7g"),void 0===n[16]&&w(function(){return n[59].call(r)})},m:function(t,e){A(t,r,e),r.innerHTML=a,n[58](r),void 0!==n[16]&&(r.innerHTML=n[16]),o||(i=[j(r,"input",n[59]),j(r,"input",n[33]),j(r,"blur",n[34])],o=!0)},p:function(t,e){131072&e[0]&&a!==(a=nn(t[17])+"")&&(r.innerHTML=a),65536&e[0]&&t[16]!==r.innerHTML&&(r.innerHTML=t[16])},d:function(t){t&&E(r),n[58](null),o=!1,k(i)}}}function mn(e){var r,o,i,a,n;function t(t){e[61].call(null,t)}function u(t){e[62].call(null,t)}function c(t){e[63].call(null,t)}var l={type:"text",annotation:e[0],index:e[7]};return void 0!==e[3]&&(l.noOffsetAtEventStart=e[3]),void 0!==e[4]&&(l.activeResizer=e[4]),void 0!==e[5]&&(l.resizing=e[5]),r=new Bt({props:l}),lt.push(function(){return F(r,"noOffsetAtEventStart",t)}),lt.push(function(){return F(r,"activeResizer",u)}),lt.push(function(){return F(r,"resizing",c)}),r.$on("selectAnnotation",e[64]),r.$on("setWidth",e[36]),{c:function(){q(r.$$.fragment)},m:function(t,e){H(r,t,e),n=!0},p:function(t,e){var n={};1&e[0]&&(n.annotation=t[0]),128&e[0]&&(n.index=t[7]),!o&&8&e[0]&&(o=!0,n.noOffsetAtEventStart=t[3],x(function(){return o=!1})),!i&&16&e[0]&&(i=!0,n.activeResizer=t[4],x(function(){return i=!1})),!a&&32&e[0]&&(a=!0,n.resizing=t[5],x(function(){return a=!1})),r.$set(n)},i:function(t){n||(R(r.$$.fragment,t),n=!0)},o:function(t){B(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function yn(n){var r,o,i,a,u,c,l,s,f,h,p,d,g=n[0].connectorLine&&n[0].connectorLine.enabled&&rn(n),v=n[26]&&on(n),m=n[21]&&an(n),y=n[24]&&un(n),b=n[0].bg&&n[28]&&!n[12]&&cn(n);function w(t){return t[8]?sn:ln}var _=w(n),x=_(n),M=n[8]&&!n[12]&&mn(n);return{c:function(){r=$("div"),g&&g.c(),o=O(),v&&v.c(),i=O(),m&&m.c(),a=O(),y&&y.c(),u=O(),b&&b.c(),c=O(),l=$("div"),x.c(),s=O(),M&&M.c(),z(l,"class","text svelte-t7ef7g"),z(l,"style",f=n[19](n[0])),T(l,"dw-bold",n[0].bold||n[12]),T(l,"italic",n[0].italic&&!n[12]),T(l,"underline",n[0].underline&&!n[12]),T(l,"dw-circle",n[12]),T(l,"num",n[12]),z(r,"class","text-annotation svelte-t7ef7g"),z(r,"role","listitem"),T(r,"hide",n[18]),T(r,"edit-mode",n[8]),T(r,"selected",n[13]),T(r,"editable",n[1]&&n[13]),T(r,"not-editable",!n[1]||!n[13]),T(r,"key",n[12]),T(r,"dragging",n[2]),T(r,"resizing",n[5])},m:function(t,e){A(t,r,e),g&&g.m(r,null),S(r,o),v&&v.m(r,null),S(r,i),m&&m.m(r,null),S(r,a),y&&y.m(r,null),S(r,u),b&&b.m(r,null),S(r,c),S(r,l),x.m(l,null),S(l,s),M&&M.m(l,null),n[65](l),h=!0,p||(d=[j(window,"keydown",n[35]),j(l,"mousedown",N(n[29])),j(l,"click",n[30]),j(l,"contextmenu",n[31])],p=!0)},p:function(t,e){t[0].connectorLine&&t[0].connectorLine.enabled?g?g.p(t,e):((g=rn(t)).c(),g.m(r,o)):g&&(g.d(1),g=null),t[26]?v?v.p(t,e):((v=on(t)).c(),v.m(r,i)):v&&(v.d(1),v=null),t[21]?m?m.p(t,e):((m=an(t)).c(),m.m(r,a)):m&&(m.d(1),m=null),t[24]?y?y.p(t,e):((y=un(t)).c(),y.m(r,u)):y&&(y.d(1),y=null),t[0].bg&&t[28]&&!t[12]?b?b.p(t,e):((b=cn(t)).c(),b.m(r,c)):b&&(b.d(1),b=null),_===(_=w(t))&&x?x.p(t,e):(x.d(1),(x=_(t))&&(x.c(),x.m(l,s))),t[8]&&!t[12]?M?(M.p(t,e),4352&e[0]&&R(M,1)):((M=mn(t)).c(),R(M,1),M.m(l,null)):M&&(D(),B(M,1,1,function(){M=null}),C()),(!h||524289&e[0]&&f!==(f=t[19](t[0])))&&z(l,"style",f),4097&e[0]&&T(l,"dw-bold",t[0].bold||t[12]),4097&e[0]&&T(l,"italic",t[0].italic&&!t[12]),4097&e[0]&&T(l,"underline",t[0].underline&&!t[12]),4096&e[0]&&T(l,"dw-circle",t[12]),4096&e[0]&&T(l,"num",t[12]),262144&e[0]&&T(r,"hide",t[18]),256&e[0]&&T(r,"edit-mode",t[8]),8192&e[0]&&T(r,"selected",t[13]),8194&e[0]&&T(r,"editable",t[1]&&t[13]),8194&e[0]&&T(r,"not-editable",!t[1]||!t[13]),4096&e[0]&&T(r,"key",t[12]),4&e[0]&&T(r,"dragging",t[2]),32&e[0]&&T(r,"resizing",t[5])},i:function(t){h||(R(M),h=!0)},o:function(t){B(M),h=!1},d:function(t){t&&E(r),g&&g.d(),v&&v.d(),m&&m.d(),y&&y.d(),b&&b.d(),x.d(),M&&M.d(),n[65](null),p=!1,k(d)}}}function bn(i,t,f){var h=t.annotation;void 0===h&&(h={});var p,d,a=t.dataToPx,u=t.pxToData,e=t.theme,c=Qe(e,"colors.background",!1),l=Qe(e,"style.chart.mobileAnnotations.icons.background",!1)||!!c&&function(t){void 0===t&&(t=1);var e=Re(c);return e.opacity=t,e.formatRgb()}(.7)||"transparent",g=Qe(e,"style.chart.textAnnotations.color",!1)||Qe(e,"typography.chart.color",!1),s=t.cm,v=t.visWidth,m=t.isMobileWidth,y=t.key,b=0,w=0,_=0,x=0;function M(){var t,e,n=(t=h.dy,e=h.dx,Math.atan(t/e)*Ke+90);return h.dx<0&&(n+=180),function(){switch(!0){case 337.5<n||n<=22.5:return"bc";case 22.5<n&&n<=67.5:return"bl";case 67.5<n&&n<=112.5:return"ml";case 112.5<n&&n<=157.5:return"tl";case 157.5<n&&n<=202.5:return"tc";case 202.5<n&&n<=247.5:return"tr";case 247.5<n&&n<=292.5:return"mr";case 292.5<n&&n<=337.5:return"br";default:return"mc"}}()}function k(t){var e=j(h),n=e[0],e=e[1];return n-t<b&&b<n+_+t&&e-t<w&&w<e+x+t}at(function(){function t(){var t,e,n,r,o,i,a,u,c,l,s;p&&(f(49,_=p.offsetWidth),f(50,x=p.offsetHeight),h.connectorLine&&h.connectorLine.enabled&&((t=zt(d)).selectAll("*").remove(),l=(u=j(h))[0],c=u[1],e={x:l-b,y:c-w,width:_,height:x},n=h.connectorLine.arrowHead,r=function(){if(!O)return 4;var t=M();if(t.includes("c")||t.includes("m"))return 0;t=(_*Math.sqrt(2)-_)/2;return-Math.sqrt(Math.pow(t,2)/2)}(),s=O?0:h.connectorLine.targetPadding,o=h.connectorLine.circle,i=h.connectorLine.circleStyle,a=h.connectorLine.circleRadius,u=h.connectorLine.type,l=O?1:h.connectorLine.stroke,c=g||"#222",h.connectorLine.inheritColor&&!O&&(c=E),l=Qt({source:e,arrowHead:n,sourcePadding:r,targetPadding:s,circle:o,circleStyle:i,circleRadius:a,type:u,strokeWidth:l,color:c}),t.call(l),c=t.select(".callout-line").select("path").attr("d"),l=s,s=c.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),l=Math.max(Math.abs(Number(s[0])),Math.abs(Number(s[1])))-l,isNaN(l)&&(l=0),l<10||k(5)||function(t,e){if(o&&e){var n=t.indexOf("M ")+"M ".length,r=t.indexOf(" ",n),r=t.substring(n,r).split(",").map(function(t){return parseInt(t,10)});return Math.pow(+r[0],2)+Math.pow(+r[1],2)<Math.pow(e,2)}}(c,a)?(t.selectAll("*").remove(),P&&I("updateEditorState",{hideConnectorLine:!0})):P&&I("updateEditorState",{hideConnectorLine:!1})))}X?t():(st(),r.then(t))});var S,A,E,$,O,j,N,z,T,L,P,D,C,R,B,F,q,W,H,Y,I=ut(),Z=t.index,X=t.editMode,U=t.isEditable,V=t.editorState,G=t.moveX,J=t.moveY,K=t.dragging,Q=t.noOffsetAtEventStart,tt=t.forceOffsetDrag,et=t.forceAnchorDrag,nt=t.forceAnchorDragTemp,rt=t.activeResizer,ot=t.resizing,it=h.text;return i.$$set=function(t){"annotation"in t&&f(0,h=t.annotation),"dataToPx"in t&&f(41,a=t.dataToPx),"pxToData"in t&&f(42,u=t.pxToData),"theme"in t&&f(43,e=t.theme),"cm"in t&&f(44,s=t.cm),"visWidth"in t&&f(45,v=t.visWidth),"isMobileWidth"in t&&f(46,m=t.isMobileWidth),"key"in t&&f(6,y=t.key),"index"in t&&f(7,Z=t.index),"editMode"in t&&f(8,X=t.editMode),"isEditable"in t&&f(1,U=t.isEditable),"editorState"in t&&f(47,V=t.editorState),"moveX"in t&&f(37,G=t.moveX),"moveY"in t&&f(38,J=t.moveY),"dragging"in t&&f(2,K=t.dragging),"noOffsetAtEventStart"in t&&f(3,Q=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&f(39,tt=t.forceOffsetDrag),"forceAnchorDrag"in t&&f(40,et=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&f(48,nt=t.forceAnchorDragTemp),"activeResizer"in t&&f(4,rt=t.activeResizer),"resizing"in t&&f(5,ot=t.resizing)},i.$$.update=function(){var t,e,n,r,o;1&i.$$.dirty[0]&&f(0,h.dx=+h.dx||0,h),1&i.$$.dirty[0]&&f(0,h.dy=+h.dy||0,h),128&i.$$.dirty[0]|65536&i.$$.dirty[1]&&f(13,P=1===V.selectedTextAnnotations.length&&V.selectedTextAnnotations[0]===Z),8205&i.$$.dirty[0]|135104&i.$$.dirty[1]&&P&&K&&(G||J)&&(Q&&!tt||et||nt?(o=(r=a(h.x,h.y))[0],e=r[1],r=(n=u(o+=G,e+=J))[0],o=n[1],f(0,h.x=r,h),f(0,h.y=o,h)):(f(0,h.dx+=G,h),f(0,h.dy+=J,h)),tt&&Q&&!h.connectorLine.enabled&&!k(20)&&(f(0,h.connectorLine.enabled=!0,h),f(0,h.connectorLine.type="curveLeft",h)),f(37,G=0),f(38,J=0)),8249&i.$$.dirty[0]|19648&i.$$.dirty[1]&&P&&ot&&(G||J)&&(e=G/v*100,n=0,h.align.includes("c")?(n+=G/2,"l"===rt&&(e=-e)):h.align.includes("l")?"l"===rt&&(n+=G,e=-e):h.align.includes("r")&&("l"===rt&&(e=-e),"r"===rt&&(n+=G)),Q?(o=(r=a(h.x,h.y))[0],r=r[1],r=(o=u(o+=n,r))[0],o=o[1],f(0,h.x=r,h),f(0,h.y=o,h)):f(0,h.dx+=n,h),f(0,h.width+=e,h),f(0,h.width=Math.max(5,h.width),h),f(37,G=0)),1&i.$$.dirty[0]&&f(51,E=h.color||g||"#222"),1&i.$$.dirty[0]|32768&i.$$.dirty[1]&&f(18,$=Ge(h)||!(!Ue((t=h).showMobile)||!1!==t.showDesktop||m)||Ve(h)&&m),64&i.$$.dirty[0]&&f(12,O=y&&y.render),1&i.$$.dirty[0]|1024&i.$$.dirty[1]&&f(9,(t=a(h.x,h.y),b=t[0],w=t[1],t),b,(f(10,w),f(41,a),f(0,h),f(13,P),f(2,K),f(37,G),f(38,J),f(3,Q),f(39,tt),f(40,et),f(48,nt),f(42,u),f(5,ot),f(45,v),f(4,rt),f(47,V),f(7,Z))),1&i.$$.dirty[0]&&f(53,D=0===h.dx&&0===h.dy),5632&i.$$.dirty[0]|4980736&i.$$.dirty[1]&&f(52,j=function(t){var e,n,r=[b,w],o=r[0],i=r[1],a=t.align;O||(o+=t.dx,i+=t.dy),O&&!D&&(e=o,u=i,n=h.connectorLine.circle?Math.max(0,h.connectorLine.circleRadius):0,r=20+n,t=25+n,n=M(),n=(r={br:[-r,-r],bc:[-t,0],bl:[-r,r],mr:[0,-t],mc:[-t-.5*x,0],ml:[0,t],tr:[r,-r],tc:[t,0],tl:[r,r]}[n])[0],o=(u=[e+=r[1],u+=n])[0],i=u[1],a="mc");var u=a.charAt(1),a=a.charAt(0);return[o-=_*{l:0,c:.5,r:1}[u],i-=x*{t:0,m:.5,b:1}[a]]}),2097152&i.$$.dirty[1]&&f(54,N=function(t){t=j(t);return Xe(t[0],t[1])}),4096&i.$$.dirty[0]|26222592&i.$$.dirty[1]&&f(19,T=function(t){var e,n=[];return O?(e=g||"#222",n.push("color: "+Je(e,s)),n.push("border-color: "+Je(e,s)),n.push("background-color: "+Je(l,s))):(n.push.apply(n,z(t)),n.push("color: "+Je(E,s))),n.push("transform: "+N(t)),n.join("; ")}),25165824&i.$$.dirty[1]&&f(20,L=function(t){var n,r,o,e=[];return e.push.apply(e,z(t)),e.push("text-shadow: "+(n=c,r=[],(o=_e(-2,3)).forEach(function(e){o.forEach(function(t){(e||t)&&r.push(e+"px "+t+"px "+(e&&t?0:2)+"px "+n)})}),r.join(", "))),e.push("transform: "+N(t)),e.join("; ")}),2050&i.$$.dirty[0]&&!U&&S&&S.blur(),13824&i.$$.dirty[0]|786432&i.$$.dirty[1]&&P&&I("updateEditorState",{selectedAnnotationProps:{x:b,y:w,width:_,height:x,mobileFallback:O}}),1&i.$$.dirty[0]&&f(56,C="mc"===h.align),12544&i.$$.dirty[0]|37748736&i.$$.dirty[1]&&f(21,R=X&&P&&!O&&!(D&&C)),12544&i.$$.dirty[0]|4194304&i.$$.dirty[1]&&f(22,B=X&&P&&!O&&!D),1536&i.$$.dirty[0]&&f(23,F=function(){var t=[b,w],e=t[0],t=t[1];return Xe(e-=2.5,t-=2.5)}),12544&i.$$.dirty[0]|37748736&i.$$.dirty[1]&&f(24,q=X&&P&&!O&&!D&&!C),1537&i.$$.dirty[0]&&f(25,W=function(){var t=[b,w],e=t[0],t=t[1];return e-=2.5,t-=2.5,Xe(e+=h.dx,t+=h.dy)}),1&i.$$.dirty[0]&&(document.activeElement.classList.contains("text-edit")||(f(16,A=nn(h.text)),f(17,it=h.text))),12545&i.$$.dirty[0]|4194304&i.$$.dirty[1]&&f(26,H=X&&P&&!h.connectorLine.enabled&&!D&&!O),1536&i.$$.dirty[0]&&f(27,Y=function(t){var e=[b,w],n=e[0],e=e[1];return"M "+n+","+e+" L"+(n+t.dx)+","+(e+t.dy)})},f(55,z=function(t){var e=[];return t.width&&e.push("width: "+v*(t.width/100)+"px"),e.push("font-size: "+(t.size||14)+"px"),e.push("min-height: "+(t.size||14)+"px"),e.push("text-align: "+(t.align?{l:"left",c:"center",r:"right"}[t.align.charAt(1)]:"center")),e}),[h,U,K,Q,rt,ot,y,Z,X,b,w,S,O,P,p,d,A,it,$,T,L,R,B,F,q,W,H,Y,c,function(t){var e;X&&(Tt(),I("selectAnnotation",{type:"text",index:Z}),e="true"===t.target.contentEditable||"true"===t.target.parentNode.contentEditable,O||e&&P||(f(37,G=0),f(38,J=0),f(2,K=!0),f(39,tt=t.ctrlKey),tt&&I("updateEditorState",{forceOffsetDrag:!0}),f(3,Q=0===h.dx&&0===h.dy)))},function(t){X&&t.preventDefault()},function(t){X&&t.preventDefault()},function(t){X&&(Tt(),I("selectAnnotation",{type:"text",index:Z}),f(2,K=!0),f(40,et=!0))},function(t){f(0,h.text=A.slice&&"&nbsp;"===A.slice(-6)&&"&nbsp;&nbsp;"!==A.slice(-12)?A.slice(0,-6)+" ":A,h),I("update")},function(){Tt()},function(t){var e,n,r;X&&!O&&(n="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key,"Escape"===t.key&&P&&U?(S.blur(),f(1,U=!1)):"Escape"===t.key&&P?I("selectAnnotation",null):n&&P&&!U&&(t.preventDefault(),e="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,r="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0,t.ctrlKey?(f(0,h.dx+=e,h),f(0,h.dy+=r,h)):(t=(n=a(h.x,h.y))[0],n=n[1],n=(r=u(t+=e,n+=r))[0],r=r[1],f(0,h.x=n,h),f(0,h.y=r,h)),I("update")))},function(){f(0,h.width=_/v*100,h)},G,J,tt,et,a,u,e,s,v,m,V,nt,_,x,E,j,D,N,z,C,function(t){lt[t?"unshift":"push"](function(){f(15,d=t)})},function(t){lt[t?"unshift":"push"](function(){f(11,S=t)})},function(){A=this.innerHTML,f(16,A),f(0,h),f(13,P),f(2,K),f(37,G),f(38,J),f(3,Q),f(39,tt),f(40,et),f(48,nt),f(41,a),f(42,u),f(5,ot),f(45,v),f(4,rt),f(47,V),f(7,Z)},function(t){lt[t?"unshift":"push"](function(){f(11,S=t)})},function(t){f(3,Q=t)},function(t){f(4,rt=t)},function(t){f(5,ot=t)},function(t){ct(i,t)},function(t){lt[t?"unshift":"push"](function(){f(14,p=t)})}]}var wn,_n=((wn=Z)&&(xn.__proto__=wn),(xn.prototype=Object.create(wn&&wn.prototype)).constructor=xn);function xn(t){wn.call(this),I(this,t,bn,yn,e,{annotation:0,dataToPx:41,pxToData:42,theme:43,cm:44,visWidth:45,isMobileWidth:46,key:6,index:7,editMode:8,isEditable:1,editorState:47,moveX:37,moveY:38,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:39,forceAnchorDrag:40,forceAnchorDragTemp:48,activeResizer:4,resizing:5},[-1,-1,-1])}function Mn(t){var n,r,o,i,a,u,c=t[3]&&Sn(t);return{c:function(){n=$("div"),i=O(),c&&c.c(),a=p(),z(n,"class",r="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"),z(n,"style",o=t[6](t[0]))},m:function(t,e){A(t,n,e),A(t,i,e),c&&c.m(t,e),A(t,a,e),u=!0},p:function(t,e){(!u||1&e&&r!==(r="range-annotation dw-rect range "+t[0].type+" svelte-11oj9tu"))&&z(n,"class",r),(!u||65&e&&o!==(o=t[6](t[0])))&&z(n,"style",o),t[3]?c?(c.p(t,e),8&e&&R(c,1)):((c=Sn(t)).c(),R(c,1),c.m(a.parentNode,a)):c&&(D(),B(c,1,1,function(){c=null}),C())},i:function(t){u||(R(c),u=!0)},o:function(t){B(c),u=!1},d:function(t){t&&E(n),t&&E(i),c&&c.d(t),t&&E(a)}}}function kn(n){var r,o,i,a,u,c,l=n[3]&&An(n);return{c:function(){r=$("div"),l&&l.c(),z(r,"class",o="range-annotation dw-line line "+n[0].type+" svelte-11oj9tu"),z(r,"style",i=n[7](n[0])),T(r,"edit-mode",n[3]),T(r,"no-edit-mode",!n[3]),T(r,"selected",n[5])},m:function(t,e){A(t,r,e),l&&l.m(r,null),a=!0,u||(c=j(r,"mousedown",N(n[21])),u=!0)},p:function(t,e){t[3]?l?(l.p(t,e),8&e&&R(l,1)):((l=An(t)).c(),R(l,1),l.m(r,null)):l&&(D(),B(l,1,1,function(){l=null}),C()),(!a||1&e&&o!==(o="range-annotation dw-line line "+t[0].type+" svelte-11oj9tu"))&&z(r,"class",o),(!a||129&e&&i!==(i=t[7](t[0])))&&z(r,"style",i),9&e&&T(r,"edit-mode",t[3]),9&e&&T(r,"no-edit-mode",!t[3]),33&e&&T(r,"selected",t[5])},i:function(t){a||(R(l),a=!0)},o:function(t){B(l),a=!1},d:function(t){t&&E(r),l&&l.d(),u=!1,c()}}}function Sn(n){var r,o,i,a,u,c,l,s,f,h,p;function t(t){n[25].call(null,t)}function e(t){n[26].call(null,t)}var d={type:"range",annotation:n[0],index:n[4],orientation:n[0].type};return void 0!==n[2]&&(d.activeResizer=n[2]),void 0!==n[1]&&(d.resizing=n[1]),a=new Bt({props:d}),lt.push(function(){return F(a,"activeResizer",t)}),lt.push(function(){return F(a,"resizing",e)}),a.$on("selectAnnotation",n[27]),{c:function(){r=$("div"),(o=$("div")).innerHTML='<div class="dot svelte-11oj9tu"></div>',i=O(),q(a.$$.fragment),z(o,"class","dot-drag svelte-11oj9tu"),z(r,"style",l=n[6](n[0])),z(r,"class",s="range-annotation edit-mode range "+n[0].type+" svelte-11oj9tu"),T(r,"edit-mode",n[3]),T(r,"no-edit-mode",!n[3]),T(r,"selected",n[5])},m:function(t,e){A(t,r,e),S(r,o),S(r,i),H(a,r,null),f=!0,h||(p=j(o,"mousedown",N(n[9])),h=!0)},p:function(t,e){var n={};1&e&&(n.annotation=t[0]),16&e&&(n.index=t[4]),1&e&&(n.orientation=t[0].type),!u&&4&e&&(u=!0,n.activeResizer=t[2],x(function(){return u=!1})),!c&&2&e&&(c=!0,n.resizing=t[1],x(function(){return c=!1})),a.$set(n),(!f||65&e&&l!==(l=t[6](t[0])))&&z(r,"style",l),(!f||1&e&&s!==(s="range-annotation edit-mode range "+t[0].type+" svelte-11oj9tu"))&&z(r,"class",s),9&e&&T(r,"edit-mode",t[3]),9&e&&T(r,"no-edit-mode",!t[3]),33&e&&T(r,"selected",t[5])},i:function(t){f||(R(a.$$.fragment,t),f=!0)},o:function(t){B(a.$$.fragment,t),f=!1},d:function(t){t&&E(r),Y(a),h=!1,p()}}}function An(e){var r,o,i,n;function t(t){e[22].call(null,t)}function a(t){e[23].call(null,t)}var u={annotation:e[0],index:e[4],orientation:e[0].type};return void 0!==e[2]&&(u.activeResizer=e[2]),void 0!==e[1]&&(u.resizing=e[1]),r=new Bt({props:u}),lt.push(function(){return F(r,"activeResizer",t)}),lt.push(function(){return F(r,"resizing",a)}),r.$on("selectAnnotation",e[24]),{c:function(){q(r.$$.fragment)},m:function(t,e){H(r,t,e),n=!0},p:function(t,e){var n={};1&e&&(n.annotation=t[0]),16&e&&(n.index=t[4]),1&e&&(n.orientation=t[0].type),!o&&4&e&&(o=!0,n.activeResizer=t[2],x(function(){return o=!1})),!i&&2&e&&(i=!0,n.resizing=t[1],x(function(){return i=!1})),r.$set(n)},i:function(t){n||(R(r.$$.fragment,t),n=!0)},o:function(t){B(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function En(n){var r,o,i,a,u,c,l=[kn,Mn],s=[];function f(t){return"line"===t[0].display?0:1}return r=f(n),o=s[r]=l[r](n),{c:function(){o.c(),i=p()},m:function(t,e){s[r].m(t,e),A(t,i,e),a=!0,u||(c=j(window,"keydown",n[8]),u=!0)},p:function(t,e){var e=e[0],n=r;(r=f(t))===n?s[r].p(t,e):(D(),B(s[n],1,1,function(){s[n]=null}),C(),(o=s[r])?o.p(t,e):(o=s[r]=l[r](t)).c(),R(o,1),o.m(i.parentNode,i))},i:function(t){a||(R(o),a=!0)},o:function(t){B(o),a=!1},d:function(t){s[r].d(t),t&&E(i),u=!1,c()}}}function $n(c,t,l){var s,f,h,p,d,g,v,m=t.annotation,y=t.dataToPx,b=t.pxToData,w=t.editorState,e=t.editMode,_=t.index,x=t.moveX,M=t.moveY,k=t.resizing,S=t.dragging,A=t.activeResizer,E=t.forceAnchorDragTemp,n=ut();return c.$$set=function(t){"annotation"in t&&l(0,m=t.annotation),"dataToPx"in t&&l(13,y=t.dataToPx),"pxToData"in t&&l(14,b=t.pxToData),"editorState"in t&&l(15,w=t.editorState),"editMode"in t&&l(3,e=t.editMode),"index"in t&&l(4,_=t.index),"moveX"in t&&l(10,x=t.moveX),"moveY"in t&&l(11,M=t.moveY),"resizing"in t&&l(1,k=t.resizing),"dragging"in t&&l(12,S=t.dragging),"activeResizer"in t&&l(2,A=t.activeResizer),"forceAnchorDragTemp"in t&&l(16,E=t.forceAnchorDragTemp)},c.$$.update=function(){var t,e,n,r,o,i,a,u;32784&c.$$.dirty&&l(5,s=1===w.selectedRangeAnnotations.length&&w.selectedRangeAnnotations[0]===_),93223&c.$$.dirty&&s&&k&&(x||M)&&(["l","r"].includes(A)?(t=y(m.x0,0)[0],e=y(m.x1,0)[0],"l"===A&&"line"===m.display?r="x0":"l"===A?r=e<t?"x1":"x0":"r"===A&&(r=e<t?"x0":"x1"),0<(e=y(m[r],0)[0])-(t=y(m["x1"===r?"x0":"x1"],0)[0])!=0<e+x-t&&l(2,A="l"===A?"r":"l"),e=b(e+=x,0)[0],l(0,m[r]=e,m),E&&(o=b(t-=x,0)[0],l(0,m["x1"===r?"x0":"x1"]=o,m)),l(10,x=0)):(r=y(0,m.y0)[1],i=y(0,m.y1)[1],"t"===A&&"line"===m.display?n="y0":"t"===A?n=r<i?"y0":"y1":"b"===A&&(n=r<i?"y1":"y0"),r=(o=y(0,m[n]))[0],0<(i=o[1])-(o=y(0,m["y1"===n?"y0":"y1"])[1])!=0<i+M-o&&l(2,A="t"===A?"b":"t"),(i=b(r,i+=M))[0],i=i[1],l(0,m[n]=i,m),l(11,M=0))),31777&c.$$.dirty&&s&&S&&(x||M)&&("x"===m.type?(u=(a=y(m.x0,0))[0],a=(i=(a[1],y(m.x1,0)))[0],i[1],a+=x,u=(i=b(u+=x,0))[0],a=(i=(i[1],b(a,0)))[0],i[1],l(0,m.x0=u,m),l(0,m.x1=a,m),l(10,x=0)):((u=y(0,m.y0))[0],a=u[1],(u=y(0,m.y1))[0],u=u[1],u+=M,(a=b(0,a+=M))[0],a=a[1],(u=b(0,u))[0],u=u[1],l(0,m.y0=a,m),l(0,m.y1=u,m),l(11,M=0))),8193&c.$$.dirty&&l(17,f="x"===m.type?y(m.x0,0)[0]:y(0,m.y0)[1]),8193&c.$$.dirty&&l(18,h="x"===m.type?y(m.x1,0)[0]:y(0,m.y1)[1]),393216&c.$$.dirty&&l(19,p=Math.min(f,h)),393216&c.$$.dirty&&l(20,d=Math.max(f,h)),1572864&c.$$.dirty&&l(6,g=function(t){var e=[],n=Pe(t.color),r=t.opacity/100;return e.push("background-color: rgba("+n.r+", "+n.g+", "+n.b+", "+r+")"),e.push(("x"===t.type?"left":"top")+": "+p+"px"),e.push(("x"===t.type?"width":"height")+": "+(d-p)+"px"),e.join("; ")}),131072&c.$$.dirty&&l(7,v=function(t){var e=[];e.push(("x"===t.type?"left":"top")+": "+f+"px");var n=Pe(t.color),r=t.opacity/100;return e.push("border-color: rgba("+n.r+", "+n.g+", "+n.b+", "+r+")"),"x"===t.type?e.push("border-left-width: "+(t.strokeWidth||1)+"px"):e.push("border-top-width: "+(t.strokeWidth||1)+"px"),"dashed"===t.strokeType?e.push("border-style: dashed"):"dotted"===t.strokeType?e.push("border-style: dotted"):e.push("border-style: solid"),e.join("; ")})},[m,k,A,e,_,s,g,v,function(t){e&&"Escape"===t.key&&s&&n("selectAnnotation",null)},function(t){e&&(n("selectAnnotation",{type:"range",index:_}),l(12,S=!0))},x,M,S,y,b,w,E,f,h,p,d,function(t){ct(c,t)},function(t){l(2,A=t),l(5,s),l(1,k),l(10,x),l(11,M),l(13,y),l(0,m),l(14,b),l(16,E),l(15,w),l(4,_),l(12,S)},function(t){l(1,k=t)},function(t){ct(c,t)},function(t){l(2,A=t),l(5,s),l(1,k),l(10,x),l(11,M),l(13,y),l(0,m),l(14,b),l(16,E),l(15,w),l(4,_),l(12,S)},function(t){l(1,k=t)},function(t){ct(c,t)}]}var On,jn=((On=Z)&&(Nn.__proto__=On),(Nn.prototype=Object.create(On&&On.prototype)).constructor=Nn);function Nn(t){On.call(this),I(this,t,$n,En,e,{annotation:0,dataToPx:13,pxToData:14,editorState:15,editMode:3,index:4,moveX:10,moveY:11,resizing:1,dragging:12,activeResizer:2,forceAnchorDragTemp:16})}function zn(e){if(!e||"object"!=Yn(e))return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}var Tn,Ln=t.document;function Pn(t,e,n){t=t.slice();return t[67]=e[n],t[69]=n,t}function Dn(t,e,n){t=t.slice();return t[67]=e[n],t[69]=n,t}function Cn(e){var r,o,i,a,u,c,l,s,f,h,n;function t(t){e[43].call(null,t)}function p(t){e[44].call(null,t)}function d(t){e[45].call(null,t)}function g(t){e[46].call(null,t)}function v(t){e[47].call(null,t)}function m(t){e[48].call(null,t)}function y(t){e[49].call(null,t)}function b(t){e[50].call(null,t)}function w(t){e[51].call(null,t)}var _={annotation:e[67],dataToPx:e[1],pxToData:e[2],theme:e[3],cm:e[4],visWidth:e[5],isMobileWidth:e[15],index:e[25].length-1-e[69],editMode:e[7],editorState:e[0],forceAnchorDragTemp:e[22],key:e[16][e[25].length-1-e[69]]};return void 0!==e[19]&&(_.noOffsetAtEventStart=e[19]),void 0!==e[24]&&(_.isEditable=e[24]),void 0!==e[11]&&(_.dragging=e[11]),void 0!==e[21]&&(_.forceAnchorDrag=e[21]),void 0!==e[20]&&(_.forceOffsetDrag=e[20]),void 0!==e[9]&&(_.moveX=e[9]),void 0!==e[10]&&(_.moveY=e[10]),void 0!==e[12]&&(_.resizing=e[12]),void 0!==e[23]&&(_.activeResizer=e[23]),r=new _n({props:_}),lt.push(function(){return F(r,"noOffsetAtEventStart",t)}),lt.push(function(){return F(r,"isEditable",p)}),lt.push(function(){return F(r,"dragging",d)}),lt.push(function(){return F(r,"forceAnchorDrag",g)}),lt.push(function(){return F(r,"forceOffsetDrag",v)}),lt.push(function(){return F(r,"moveX",m)}),lt.push(function(){return F(r,"moveY",y)}),lt.push(function(){return F(r,"resizing",b)}),lt.push(function(){return F(r,"activeResizer",w)}),r.$on("selectAnnotation",e[28]),r.$on("updateEditorState",e[29]),r.$on("update",e[52]),{c:function(){q(r.$$.fragment)},m:function(t,e){H(r,t,e),n=!0},p:function(t,e){var n={};33554432&e[0]&&(n.annotation=t[67]),2&e[0]&&(n.dataToPx=t[1]),4&e[0]&&(n.pxToData=t[2]),8&e[0]&&(n.theme=t[3]),16&e[0]&&(n.cm=t[4]),32&e[0]&&(n.visWidth=t[5]),32768&e[0]&&(n.isMobileWidth=t[15]),33554432&e[0]&&(n.index=t[25].length-1-t[69]),128&e[0]&&(n.editMode=t[7]),1&e[0]&&(n.editorState=t[0]),4194304&e[0]&&(n.forceAnchorDragTemp=t[22]),33619968&e[0]&&(n.key=t[16][t[25].length-1-t[69]]),!o&&524288&e[0]&&(o=!0,n.noOffsetAtEventStart=t[19],x(function(){return o=!1})),!i&&16777216&e[0]&&(i=!0,n.isEditable=t[24],x(function(){return i=!1})),!a&&2048&e[0]&&(a=!0,n.dragging=t[11],x(function(){return a=!1})),!u&&2097152&e[0]&&(u=!0,n.forceAnchorDrag=t[21],x(function(){return u=!1})),!c&&1048576&e[0]&&(c=!0,n.forceOffsetDrag=t[20],x(function(){return c=!1})),!l&&512&e[0]&&(l=!0,n.moveX=t[9],x(function(){return l=!1})),!s&&1024&e[0]&&(s=!0,n.moveY=t[10],x(function(){return s=!1})),!f&&4096&e[0]&&(f=!0,n.resizing=t[12],x(function(){return f=!1})),!h&&8388608&e[0]&&(h=!0,n.activeResizer=t[23],x(function(){return h=!1})),r.$set(n)},i:function(t){n||(R(r.$$.fragment,t),n=!0)},o:function(t){B(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function Rn(e){var r,o,i,a,u,c,n;function t(t){e[54].call(null,t)}function l(t){e[55].call(null,t)}function s(t){e[56].call(null,t)}function f(t){e[57].call(null,t)}function h(t){e[58].call(null,t)}var p={annotation:e[67],dataToPx:e[1],pxToData:e[2],visWidth:e[5],editMode:e[7],editorState:e[0],forceAnchorDragTemp:e[22],index:e[26].length-1-e[69]};return void 0!==e[11]&&(p.dragging=e[11]),void 0!==e[9]&&(p.moveX=e[9]),void 0!==e[10]&&(p.moveY=e[10]),void 0!==e[12]&&(p.resizing=e[12]),void 0!==e[23]&&(p.activeResizer=e[23]),r=new jn({props:p}),lt.push(function(){return F(r,"dragging",t)}),lt.push(function(){return F(r,"moveX",l)}),lt.push(function(){return F(r,"moveY",s)}),lt.push(function(){return F(r,"resizing",f)}),lt.push(function(){return F(r,"activeResizer",h)}),r.$on("selectAnnotation",e[28]),{c:function(){q(r.$$.fragment)},m:function(t,e){H(r,t,e),n=!0},p:function(t,e){var n={};67108864&e[0]&&(n.annotation=t[67]),2&e[0]&&(n.dataToPx=t[1]),4&e[0]&&(n.pxToData=t[2]),32&e[0]&&(n.visWidth=t[5]),128&e[0]&&(n.editMode=t[7]),1&e[0]&&(n.editorState=t[0]),4194304&e[0]&&(n.forceAnchorDragTemp=t[22]),67108864&e[0]&&(n.index=t[26].length-1-t[69]),!o&&2048&e[0]&&(o=!0,n.dragging=t[11],x(function(){return o=!1})),!i&&512&e[0]&&(i=!0,n.moveX=t[9],x(function(){return i=!1})),!a&&1024&e[0]&&(a=!0,n.moveY=t[10],x(function(){return a=!1})),!u&&4096&e[0]&&(u=!0,n.resizing=t[12],x(function(){return u=!1})),!c&&8388608&e[0]&&(c=!0,n.activeResizer=t[23],x(function(){return c=!1})),r.$set(n)},i:function(t){n||(R(r.$$.fragment,t),n=!0)},o:function(t){B(r.$$.fragment,t),n=!1},d:function(t){Y(r,t)}}}function Bn(t){var n,r,o;return{c:function(){z(n=$("div"),"class",r="create-rect "+t[0].createMode+" svelte-1r6aetx"),z(n,"style",o=t[27]())},m:function(t,e){A(t,n,e)},p:function(t,e){1&e[0]&&r!==(r="create-rect "+t[0].createMode+" svelte-1r6aetx")&&z(n,"class",r),134217728&e[0]&&o!==(o=t[27]())&&z(n,"style",o)},d:function(t){t&&E(n)}}}function Fn(i){var a,u,c,l,s,f,h,p,d;w(i[42]);for(var g=i[25],v=[],t=0;t<g.length;t+=1)v[t]=Cn(Dn(i,g,t));for(var m=i[26],y=[],e=0;e<m.length;e+=1)y[e]=Rn(Pn(i,m,e));var b=i[7]&&i[13]&&Bn(i);return{c:function(){a=O(),u=$("div"),c=$("div");for(var t=0;t<v.length;t+=1)v[t].c();l=O(),s=$("div");for(var e=0;e<y.length;e+=1)y[e].c();f=O(),b&&b.c(),z(c,"class","text-annotations"),z(c,"aria-label",i[6]),z(c,"role","list"),z(s,"class","range-annotations svelte-1r6aetx"),z(u,"class","annotations-inner svelte-1r6aetx"),T(u,"editing",i[14]),T(u,"create-mode",i[0].createMode),T(u,"creating",i[13])},m:function(t,e){A(t,a,e),A(t,u,e),S(u,c);for(var n=0;n<v.length;n+=1)v[n].m(c,null);i[53](c),S(u,l),S(u,s);for(var r,o=0;o<y.length;o+=1)y[o].m(s,null);S(u,f),b&&b.m(u,null),i[59](u),h=!0,p||(d=[j(window,"keydown",i[30]),j(window,"mousedown",i[31]),j(window,"mousemove",i[32]),j(window,"mouseup",i[33]),j(window,"resize",i[42]),j(Ln.body,"mouseleave",i[34]),j(u,"mousedown",(r=i[35],function(t){return t.preventDefault(),r.call(this,t)}))],p=!0)},p:function(t,e){if(871997119&e[0]){var n;for(g=t[25],n=0;n<g.length;n+=1){var r=Dn(t,g,n);v[n]?(v[n].p(r,e),R(v[n],1)):(v[n]=Cn(r),v[n].c(),R(v[n],1),v[n].m(c,null))}for(D(),n=g.length;n<v.length;n+=1)!function(t){B(v[t],1,1,function(){v[t]=null})}(n);C()}if((!h||64&e[0])&&z(c,"aria-label",t[6]),348135079&e[0]){var o;for(m=t[26],o=0;o<m.length;o+=1){var i=Pn(t,m,o);y[o]?(y[o].p(i,e),R(y[o],1)):(y[o]=Rn(i),y[o].c(),R(y[o],1),y[o].m(s,null))}for(D(),o=m.length;o<y.length;o+=1)!function(t){B(y[t],1,1,function(){y[t]=null})}(o);C()}t[7]&&t[13]?b?b.p(t,e):((b=Bn(t)).c(),b.m(u,null)):b&&(b.d(1),b=null),16384&e[0]&&T(u,"editing",t[14]),1&e[0]&&T(u,"create-mode",t[0].createMode),8192&e[0]&&T(u,"creating",t[13])},i:function(t){if(!h){for(var e=0;e<g.length;e+=1)R(v[e]);for(var n=0;n<m.length;n+=1)R(y[n]);h=!0}},o:function(t){v=v.filter(Boolean);for(var e=0;e<v.length;e+=1)B(v[e]);y=y.filter(Boolean);for(var n=0;n<y.length;n+=1)B(y[n]);h=!1},d:function(t){t&&E(a),t&&E(u),n(v,t),i[53](null),n(y,t),b&&b.d(),i[59](null),p=!1,k(d)}}}function qn(e,t,u){var c=t.textAnnotations;void 0===c&&(c=[]);var l=t.rangeAnnotations;void 0===l&&(l=[]);var r,s,o=t.dataToPx,f=t.pxToData,n=t.theme,i=t.cm,h=t.visWidth,a=t.annotationKeysSel,p=t.ariaLabel;void 0===p&&(p="");var d=t.editMode;void 0===d&&(d=!1);var g,v=t.editorState;void 0===v&&(v={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,pxToData:null,selectedAnnotationProps:{x:null,y:null,width:null,height:null,mobileFallback:!1}}),at(function(){v&&(u(0,v.width=g.offsetWidth,v),u(0,v.height=g.offsetHeight,v))});var m,y,b,w,_,x=0,M=0,k=!1,S=!1,A=!1,E=0,$=0,O=!1,j=!1;function N(){u(19,m=!1),u(20,y=!1),u(21,b=!1),u(22,w=!1),u(0,v.forceOffsetDrag=!1,v),u(11,k=!1),u(12,A=S=!1)}function z(){u(9,x=0),u(10,M=0),u(39,E=0),u(40,$=0),u(13,O=!1),u(0,v.createMode=!1,v)}var T=ut(),t=function(){d&&T("update")};W().$$.before_update.push(t);var L,P,D,C,R,B,F=!1,q=document.querySelector(".dw-chart-body");return e.$$set=function(t){"textAnnotations"in t&&u(36,c=t.textAnnotations),"rangeAnnotations"in t&&u(37,l=t.rangeAnnotations),"dataToPx"in t&&u(1,o=t.dataToPx),"pxToData"in t&&u(2,f=t.pxToData),"theme"in t&&u(3,n=t.theme),"cm"in t&&u(4,i=t.cm),"visWidth"in t&&u(5,h=t.visWidth),"annotationKeysSel"in t&&u(38,a=t.annotationKeysSel),"ariaLabel"in t&&u(6,p=t.ariaLabel),"editMode"in t&&u(7,d=t.editMode),"editorState"in t&&u(0,v=t.editorState)},e.$$.update=function(){var n;32&e.$$.dirty[1]&&u(25,L=[].concat(c).reverse()),64&e.$$.dirty[1]&&u(26,P=[].concat(l).reverse()),256&e.$$.dirty[0]&&u(15,D=r<=450),32768&e.$$.dirty[0]|32&e.$$.dirty[1]&&u(41,C=function(){var e=0;return c.map(function(t){t=D&&t.mobileFallback&&!Ve(t)&&!Ge(t);return t&&e++,{render:t,num:t?e:null}})}),1024&e.$$.dirty[1]&&u(16,R=C()),98304&e.$$.dirty[0]|160&e.$$.dirty[1]&&(a.classed("hide",!0).html(""),D)&&(n=!1,c.forEach(function(t,e){e=R[e];e.render&&(n=!0,a.append("div.key").html('<div class="num dw-circle dw-bold"><span class="export-text">'+e.num+'</span></div><span class="text export-text">'+nn(t.text)+"</span>"))}),a.classed("hide",!n)),5&e.$$.dirty[0]&&v&&u(0,v.pxToData=f,v),3&e.$$.dirty[0]&&v&&u(0,v.dataToPx=o,v),1537&e.$$.dirty[0]|768&e.$$.dirty[1]&&u(27,B=function(){var t=[];if("text"===v.createMode)return Math.abs(x)<1?void 0:(t.push("top: "+(0<M?$:$+M)+"px"),t.push("height: "+(0<M?M:-M)+"px"),t.push("left: "+(0<x?E:E+x)+"px"),t.push("width: "+(0<x?x:-x)+"px"),t.join("; "));if("range"===v.createMode){if(Math.abs(x)<1&&Math.abs(M)<1)return;Math.abs(M)>Math.abs(x)?(t.push("top: "+(M<0?$+M:$)+"px"),t.push("left: 0px"),t.push("width: 100%"),t.push("height: "+Math.abs(M)+"px")):(t.push("top: 0px"),t.push("left: "+(x<0?E+x:E)+"px"),t.push("height: 100%"),t.push("width: "+Math.abs(x)+"px"))}return t.join("; ")}),30720&e.$$.dirty[0]&&(u(14,F=k||A||O),q&&(F?q.classList.add("editing-annotations"):q.classList.remove("editing-annotations")))},[v,o,f,n,i,h,p,d,r,x,M,k,A,O,F,D,R,s,g,m,y,b,w,_,j,L,P,B,function(t){if(null===t.detail)return u(0,v.selectedTextAnnotations=[],v),u(0,v.selectedRangeAnnotations=[],v),void u(24,j=!1);var e,n;"text"===t.detail.type?(n=1<(e=v.selectedTextAnnotations).length,e[0]===t.detail.index&&!n||(u(24,j=!1),u(0,v.selectedTextAnnotations=[t.detail.index],v),u(0,v.selectedRangeAnnotations=[],v))):(u(0,v.selectedRangeAnnotations=[t.detail.index],v),u(0,v.selectedTextAnnotations=[],v))},function(t){var e=Object.entries(t.detail)[0],t=e[0],e=e[1];u(0,v[t]=e,v)},function(t){d&&"Escape"===t.key&&O&&z()},function(t){d&&(u(0,v.selectedTextAnnotations=[],v),u(0,v.selectedRangeAnnotations=[],v))},function(t){d&&((k||O||A&&["l","r"].includes(_))&&(u(9,x+=t.movementX),t.movementX&&(u(24,j=!1),S=!0)),(k||O||A&&["t","b"].includes(_))&&(u(10,M+=t.movementY),t.movementY&&(u(24,j=!1),S=!0)),u(22,w=!1),t.ctrlKey&&!m&&u(22,w=!0))},function(t){var e,n,r,o,i,a;d&&(S||u(24,j=t.target.classList.contains("text-edit")||t.target.parentNode.classList&&t.target.parentNode.classList.contains("text-edit")),N(),O&&("text"===v.createMode?(e=(r=f(E,$))[0],n=r[1],a=M<0,o=(i=x<0)&&a?"br":i&&!a?"tr":!i&&a?"bl":"tl",r=Math.abs(x/h*100),i=Object.assign({},zn(v.defaults.text),{x:e,y:n,align:o,width:r}),Math.abs(x)<10&&Math.abs(M)<10&&(i.width=25,i.align="mc",i.dy=$<100?50:-50,i.connectorLine.enabled=!0),D&&(i.mobileFallback=!1),c.unshift(i),u(36,c)):"range"===v.createMode&&(e=(a=f(E,$))[0],n=a[1],r=(o=f(E+x,$+M))[0],i=o[1],a="range",("x"==(o=Math.abs(x)>Math.abs(M)?"x":"y")&&Math.abs(x)<10||"y"==o&&Math.abs(M)<10)&&(a="line"),i=Object.assign({},zn(v.defaults[a]),{type:o,display:a,x0:e,x1:r,y0:n,y1:i}),l.unshift(i),u(37,l)),function(){if("text"===v.createMode){if(u(0,v.selectedTextAnnotations=[0],v),u(0,v.selectedRangeAnnotations=[],v),C()[0].render)return;u(24,j=!0),setTimeout(function(){var t=c.length-1,e=s.querySelectorAll(".text-annotation")[t].querySelector(".text-edit");e.focus(),t=e,(e=document.createRange()).selectNodeContents(t),(t=window.getSelection()).removeAllRanges(),t.addRange(e)})}"range"===v.createMode&&(u(0,v.selectedTextAnnotations=[],v),u(0,v.selectedRangeAnnotations=[0],v))}(),z()))},function(){d&&(k||A)&&N()},function(t){d&&v.createMode&&(u(13,O=!0),u(39,E=t.offsetX),u(40,$=t.offsetY))},c,l,a,E,$,C,function(){u(8,r=window.innerWidth)},function(t){u(19,m=t)},function(t){u(24,j=t)},function(t){u(11,k=t)},function(t){u(21,b=t)},function(t){u(20,y=t)},function(t){u(9,x=t)},function(t){u(10,M=t)},function(t){u(12,A=t)},function(t){u(23,_=t)},function(t){ct(e,t)},function(t){lt[t?"unshift":"push"](function(){u(17,s=t)})},function(t){u(11,k=t)},function(t){u(9,x=t)},function(t){u(10,M=t)},function(t){u(12,A=t)},function(t){u(23,_=t)},function(t){lt[t?"unshift":"push"](function(){u(18,g=t)})}]}return(Tn=Z)&&(Wn.__proto__=Tn),(Wn.prototype=Object.create(Tn&&Tn.prototype)).constructor=Wn;function Wn(t){Tn.call(this),I(this,t,qn,Fn,e,{textAnnotations:36,rangeAnnotations:37,dataToPx:1,pxToData:2,theme:3,cm:4,visWidth:5,annotationKeysSel:38,ariaLabel:6,editMode:7,editorState:0},[-1,-1,-1])}}()});function Zc(t){if("string"!=typeof t)return t;var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}function Xc(){return null}var Uc=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function Vc(e,t){var n=1<arguments.length&&void 0!==t?t:700,r=!1,o=!0;return{set:function(t){r!==t&&setTimeout(function(){o=!1,e(r)},o?n:0),r=t},clear:function(){o=!(r=null),e(null)},get:function(){return r}}}function Gc(t,e,n){var r=e.swatches,o=e.swatchWidth,i=e.swatchHeight,a=e.itemMarginBottom,u=e.itemMarginRight,c=e.swatchBorderRadius,l=e.swatchLabelDistance,s=e.fontWeight,f=e.highlight,e=e.reverse,h=t.append("div.legend-categories").st({fontWeight:s}),p=Vc(function(e){null!==e?(f&&(h.classed("highlighted",!0),d.classed("highlight",function(t){return t.key===e.key})),n("mouseenter",e)):(f&&(h.classed("highlighted",!1),d.classed("highlight",!1)),n("mouseleave"))}),r=e?r.slice(0).reverse():r,d=h.appendMany("div.legend-swatch",r).st({marginBottom:a,marginRight:u}).on("mouseenter",function(t){return p.set(t)});h.on("mouseleave",p.clear);a=d.append("div.legend-no-break"),u="50%"===c?"dw-circle":"export-rect";function g(t){var e=t.trim().indexOf(" "),n=t.trim().indexOf("-");return e<0&&n<0?t:n<0||e<n?t.substr(0,e):t.substr(0,n+1)}return a.append("div.legend-color.".concat(u)).st({width:o,height:i,marginRight:l,borderRadius:c,background:function(t){return t.color}}),a.append("div.legend-label").html(function(t){return g(t.label)}),d.append("div.legend-label").html(function(t){return t=g(e=t.label),e.substr(t.length);var e}),{highlight:function(e){h.classed("highlighted",!!e),e?d.classed("highlight",function(t){return t.key===e}):d.classed("highlight",!1)}}}function Jc(o,i){return i=null==i?o.length-1:+i,function(){for(var t=Math.max(arguments.length-i,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+i];switch(i){case 0:return o.call(this,e);case 1:return o.call(this,arguments[0],e);case 2:return o.call(this,arguments[0],arguments[1],e)}for(var r=Array(i+1),n=0;n<i;n++)r[n]=arguments[n];return r[i]=e,o.apply(this,r)}}F.prototype.translate=function(n,r){var t=this.node();return t?t.getBBox?this.attr("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+","+e[1]+")"}):this.style("transform",function(t,e){e="function"==typeof n?n.call(this,t,e):n;return 0===r?e=[e,0]:1===r&&(e=[0,e]),"translate("+e[0]+"px,"+e[1]+"px)"}):this},F.prototype.append=function(t){var e,n="function"==typeof t?t:c((e=Zc(t)).tag),r=this.select(function(){return this.appendChild(n.apply(this,arguments))});if(e)for(var o in e.attr)r.attr(o,e.attr[o]);return r},F.prototype.insert=function(t,e){var n,r=Zc(t),o=c(r.tag),i=null==e?Xc:"function"==typeof e?e:p(e),a=this.select(function(){return this.insertBefore(o.apply(this,arguments),i.apply(this,arguments)||null)});for(n in r.attr)a.attr(n,r.attr[n]);return a},F.prototype.parent=function(){var t=[];return this.filter(function(){return!(-1<t.indexOf(this.parentNode)||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},F.prototype.selectAppend=function(t){var e,n,r=p(t),o=Zc(t);for(n in t=c(o.tag),e=this.select(function(){return r.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),o.attr)e.attr(n,o.attr[n]);return e},F.prototype.tspans=function(n,r){return this.selectAll("tspan").data(function(e,t){return("function"==typeof n?n.call(this,e,t):n).map(function(t){return{line:t,parent:e}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,e){return e?("function"==typeof r?r.call(this,t.parent,t.line,e):r)||15:0})},F.prototype.appendMany=function(t,e){var n;return"string"==typeof e&&(console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on"),n=e,e=t,t=n),this.selectAll(null).data(e).enter().append(t)},F.prototype.at=function(t,e){if("object"!=Yn(t))return 1==arguments.length?this.attr(t):this.attr(t,e);for(var n in t)this.attr(Uc.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this},F.prototype.st=function(t,e){if("object"!=Yn(t))return 1==arguments.length?this.style(t):r(this,t,e);for(var n in t)r(this,n,t[n]);return this;function r(t,e,n){return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){return o(r.apply(this,arguments))}):o(n)):t.style(e,n),t;var r}function o(t){return t.match?t:t+"px"}},F.prototype.prop=F.prototype.property;var bt="object"==("undefined"==typeof self?"undefined":Yn(self))&&self.self===self&&self||"object"==("undefined"==typeof global?"undefined":Yn(global))&&global.global===global&&global||Function("return this")()||{},Kc=Array.prototype,Qc=Object.prototype,tl="undefined"!=typeof Symbol?Symbol.prototype:null,el=Kc.slice,nl=Qc.toString,rl=Qc.hasOwnProperty,_t="undefined"!=typeof ArrayBuffer,wt="undefined"!=typeof DataView,Mn=Array.isArray,ol=Object.keys,il=Object.create,al=_t&&ArrayBuffer.isView,ul=isNaN,cl=!{toString:null}.propertyIsEnumerable("toString"),ll=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],sl=Math.pow(2,53)-1;function fl(t){var e="[object "+t+"]";return function(t){return nl.call(t)===e}}cs=fl("Function"),Ye=bt.document&&bt.document.childNodes,"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":Yn(Int8Array))&&"function"!=typeof Ye&&(cs=function(t){return"function"==typeof t||!1});var hl=cs;function pl(t){return t instanceof pl?t:this instanceof pl?void(this._wrapped=t):new pl(t)}function dl(t){return t}function gl(t){var e=Yn(t);return"function"===e||"object"===e&&t}pl.VERSION="1.13.1",pl.prototype.valueOf=pl.prototype.toJSON=pl.prototype.value=function(){return this._wrapped},pl.prototype.toString=function(){return String(this._wrapped)};var vl=Mn||fl("Array");function ml(t,e){return null!=t&&rl.call(t,e)}function yl(t,e){e=function(e){for(var n={},t=e.length,r=0;r<t;++r)n[e[r]]=!0;return{contains:function(t){return n[t]},push:function(t){return n[t]=!0,e.push(t)}}}(e);var n=ll.length,r=t.constructor,o=hl(r)&&r.prototype||Qc,i="constructor";for(ml(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=ll[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function bl(t){if(!gl(t))return[];if(ol)return ol(t);var e,n=[];for(e in t)ml(t,e)&&n.push(e);return cl&&yl(t,n),n}var wl,_l=(wl=bl,function(t){var e=arguments.length;if(e<2||null==t)return t;for(var n=1;n<e;n++)for(var r=arguments[n],o=wl(r),i=o.length,a=0;a<i;a++){var u=o[a];t[u]=r[u]}return t});function xl(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Ml(t){return pl.toPath(t)}function kl(e){return e=Ml(e),function(t){return xl(t,e)}}function Sl(o,i,t){if(void 0===i)return o;switch(null==t?3:t){case 1:return function(t){return o.call(i,t)};case 3:return function(t,e,n){return o.call(i,t,e,n)};case 4:return function(t,e,n,r){return o.call(i,t,e,n,r)}}return function(){return o.apply(i,arguments)}}function Al(t,e,n){return null==t?dl:hl(t)?Sl(t,e,n):gl(t)&&!vl(t)?(r=_l({},r=t),function(t){return function(t,e){var n=bl(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0}(t,r)}):kl(t);var r}function El(t,e){return Al(t,e,1/0)}function $l(t,e,n){return pl.iteratee!==El?pl.iteratee(t,e):Al(t,e,n)}function Ol(e){return function(t){t=e(t);return"number"==typeof t&&0<=t&&t<=sl}}function jl(e){return function(t){return null==t?void 0:t[e]}}pl.toPath=function(t){return vl(t)?t:[t]},pl.iteratee=El;var Nl=jl("length"),zl=Ol(Nl);function Tl(t,e,n){e=$l(e,n);for(var r=!zl(t)&&bl(t),o=(r||t).length,i=Array(o),a=0;a<o;a++){var u=r?r[a]:a;i[a]=e(t[u],u,t)}return i}var Ll=fl("Arguments");!function(){Ll(arguments)||(Ll=function(t){return ml(t,"callee")})}();var Pl=Ll;function Dl(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,a=Nl(t);i<a;i++){var u=t[i];if(zl(u)&&(vl(u)||Pl(u)))if(1<e)Dl(u,e-1,n,r),o=r.length;else for(var c=0,l=u.length;c<l;)r[o++]=u[c++];else n||(r[o++]=u)}return r}function Cl(t){for(var e=bl(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}var Rl=fl("Number");function Bl(t){return Rl(t)&&ul(t)}var Fl,ql,Wl=(Fl=bt=function(t,e,n){e=$l(e,n);for(var r=Nl(t),o=0;0<=o&&o<r;o+=1)if(e(t[o],o,t))return o;return-1},ql=function(t,e,n,r){for(var o=(n=$l(n,r,1))(e),i=0,a=Nl(t);i<a;){var u=Math.floor((i+a)/2);n(t[u])<o?i=u+1:a=u}return i},function(t,e,n){var r=0,o=Nl(t);if("number"==typeof n)r=0<=n?n:Math.max(n+o,r);else if(n&&o)return t[n=ql(t,e)]===e?n:-1;if(e!=e)return 0<=(n=Fl(el.call(t,r,o),Bl))?n+r:-1;for(n=r;0<=n&&n<o;n+=1)if(t[n]===e)return n;return-1});function Hl(t,e,n,r){return zl(t)||(t=Cl(t)),"number"==typeof n&&!r||(n=0),0<=Wl(t,e,n)}function Yl(t){if(!gl(t))return[];var e,n=[];for(e in t)n.push(e);return cl&&yl(t,n),n}function Il(t,e,n){return e in n}var Zl=Jc(function(t,e){var n={},r=e[0];if(null==t)return n;hl(r)?(1<e.length&&(r=Sl(r,e[1])),e=Yl(t)):(r=Il,e=Dl(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var a=e[o],u=t[a];r(u,a,t)&&(n[a]=u)}return n}),Xl=Jc(function(t,n){var e,r,o=n[0];return hl(o)?(r=o,o=function(){return!r.apply(this,arguments)},1<n.length&&(e=n[1])):(n=Tl(Dl(n,!1,!1),String),o=function(t,e){return!Hl(n,e)}),Zl(t,o,e)});function Ul(t,e,n){e=1<arguments.length&&void 0!==e?e:null,n=2<arguments.length&&void 0!==n?n:null;if(!e)return t;for(var r=e.split("."),o=t,i=0;i<r.length&&null!=o;i++)o=o[r[i]];return null==o?n:o}function Vl(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jl(t,e){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var n,e=Gl(Gl({title:"",horizontal:!0,swatches:[{color:"#dd0000",label:"A red swatch",key:"red"},{color:"#0033dd",label:"A blue swatch",key:"blue"}],reverse:!1,width:"100%",height:"auto",swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,paddingTop:0,paddingBottom:10,color:"inherit",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",textAlign:"left",highlight:!1},e.theme?Xl({swatchWidth:Ul(e.theme,"style.chart.legend.swatch.width",14),swatchHeight:Ul(e.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Ul(e.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Ul(e.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Ul(e.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Ul(e.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Ul(e.theme,"style.chart.legend.rowSpacing"),paddingTop:Ul(e.theme,"style.chart.legend.padding.top"),textAlign:Ul(e.theme,"style.chart.legend.alignment"),color:Ul(e.theme,"style.chart.labels.legend.color")},function(t){return null==t}):{}),e),r={},t=K(t).append("div.category-legend").classed("horizontal",e.horizontal).classed("vertical",!e.horizontal).st({paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,textAlign:e.textAlign,color:e.color,fontSize:e.fontSize,fontFamily:e.fontFamily,width:e.width,height:e.height});return e.title&&t.append("div.legend-title.label").append("span").html(e.title),n=Gl({container:t,on:function(t,e){return"function"!=typeof e||"string"!=typeof t||(r[t]||(r[t]=[]),r[t].push(e)),n}},n=Gc(t,e,function(t,e){r[t]&&r[t].length&&r[t].forEach(function(t){"function"==typeof t&&t(e)})}))}function Kl(){var t=window.navigator.userAgent;return/MSIE|Trident/.test(t)}function Ql(t){var e=Yn(t);return null!=t&&("object"==e||"function"==e)}function ts(){return us.Date.now()}function es(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ps&&ps in Object(t)?function(t){var e=ls.call(t,fs),n=t[fs];try{var r=!(t[fs]=void 0)}catch(t){}var o=ss.call(t);return r&&(e?t[fs]=n:delete t[fs]),o}(t):(t=t,hs.call(t))}function ns(t){return null!=t&&"object"==Yn(t)}function rs(t){return"symbol"==Yn(t)||ns(t)&&"[object Symbol]"==es(t)}function os(t){if("number"==typeof t)return t;if(rs(t))return NaN;if(Ql(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=Ql(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(ds,"");var e=vs.test(t);return e||ms.test(t)?ys(t.slice(2),e?2:8):gs.test(t)?NaN:+t}function is(r,n,t){var o,i,a,u,c,l,s=0,f=!1,h=!1,e=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function p(t){var e=o,n=i;return o=i=void 0,s=t,u=r.apply(n,e)}function d(t){var e=t-l;return void 0===l||n<=e||e<0||h&&a<=t-s}function g(){var t,e=ts();if(d(e))return v(e);c=setTimeout(g,(t=n-(e-l),h?ws(t,a-(e-s)):t))}function v(t){return c=void 0,e&&o?p(t):(o=i=void 0,u)}function m(){var t=ts(),e=d(t);if(o=arguments,i=this,l=t,e){if(void 0===c)return s=e=l,c=setTimeout(g,n),f?p(e):u;if(h)return clearTimeout(c),c=setTimeout(g,n),p(l)}return void 0===c&&(c=setTimeout(g,n)),u}return n=os(n)||0,Ql(t)&&(f=!!t.leading,a=(h="maxWait"in t)?bs(os(t.maxWait)||0,n):a,e="trailing"in t?!!t.trailing:e),m.cancel=function(){void 0!==c&&clearTimeout(c),o=l=i=c=void(s=0)},m.flush=function(){return void 0===c?u:v(ts())},m}var as="object"==Yn(Hn)&&Hn&&Hn.Object===Object&&Hn,Ye="object"==("undefined"==typeof self?"undefined":Yn(self))&&self&&self.Object===Object&&self,us=as||Ye||Function("return this")(),cs=us.Symbol,ls=(Mn=Object.prototype).hasOwnProperty,ss=Mn.toString,fs=cs?cs.toStringTag:void 0,hs=Object.prototype.toString,ps=cs?cs.toStringTag:void 0,ds=/^\s+|\s+$/g,gs=/^[-+]0x[0-9a-f]+$/i,vs=/^0b[01]+$/i,ms=/^0o[0-7]+$/i,ys=parseInt,bs=Math.max,ws=Math.min,_s=[],xs=!1;function Ms(){var n;_s.length&&(n=_s.map(function(t){try{return t.measure&&t.measure()}catch(t){return t}}),_s.forEach(function(t,e){try{t.update&&t.update(n[e])}catch(t){}}),xs=!(_s=[]))}function ks(t){_s.push(t),xs||(xs=!0,requestAnimationFrame(Ms))}function Ss(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Es={categories:Gc,continuous:function(n,t,r){for(var e=t.colors,o=t.limits,i=t.format,a=t.labels,u=t.horizontal,c=t.width,l=t.height,s=t.rulerSize,f=t.swatchLabelDistance,h=t.highlight,p=t.reverse,d=3===o.length,g=n.parent().append("defs"),v=[],m=0;m<17;m++)v.push(m/16);t="g-".concat(Math.floor(1e6*Math.random()).toString(32));g.append("linearGradient").attr("id",t).attr(u?"y2":"x2",0).attr(u?"x2":"y2",1).appendMany("stop",v).attr("offset",function(t){return"".concat(100*t,"%")}).attr("stop-color",p?function(t){return k(1-t)}:k),n.append("rect").at({width:u?c:s,height:u?s:l}).style("fill","url(#".concat(t,")"));var t=(a||o.map(i)).slice(0),y=o.slice(0);p&&(t.reverse(),y.reverse());a=Kl();n.append("g.labels").translate(u?[0,s+f+(a?8:0)]:[s+f,0]).appendMany("text",t).attr("class",function(t,e){return 0===e?"min":1===e&&d?"center":"max"}).translate(u?function(t,e){return[c*e/(d?2:1),0]}:function(t,e){return[0,l*e/(d?2:1)]}).tspans(function(t){return t.split("<br>")});var b=n.append("g.highlight");b.append("path.triangle").translate(u?[0,s+7]:[s+7,0]).attr("d",u?"M-5,0 L 5,0 L 0,-7 Z":"M0,-5 L-7,0 L 0,5 Z"),b.append("g.text").translate(u?[0,s+12+(a?8:0)]:[s+12,0]).append("text.buffer").parent().append("text");var w=b.selectAll("text"),_=Vc(function(t){var e;null!==t?(h&&(n.classed("highlighted",!0),b.style("transform","translate(".concat((u?[t*c,0]:[0,t*l]).map(function(t){return t+"px"}),")")),b.translate(u?[t*c,0]:[0,t*l]),e=x(t),w.text(i(e))),r("mouseenter",{min:x(t*(p?1.1:.9)),max:x(t*(p?.9:1.1))})):(h&&n.classed("highlighted",!1),r("mouseleave"))});return n.parent().on("mouseenter",function(){n.parent().classed("no-transition",!0)}),n.parent().on("mousemove",function(){var t=Q(n.node())[u?0:1]/(u?c:l);_.set(Math.min(1,Math.max(0,t)))}),n.parent().on("mouseleave",function(){_.clear(),n.parent().classed("no-transition",!1)}),{highlight:function(t){null!=t?(n.parent().classed("no-transition",!n.classed("highlighted")),n.classed("highlighted",!0),b.style("transform","translate(".concat((u?[M(t)*c,0]:[0,M(t)*l]).map(function(t){return t+"px"}),")")),b.translate(u?[M(t)*c,0]:[0,M(t)*l]),w.text(i(t))):n.classed("highlighted",!1)}};function x(t){return d?t<.5?y[0]+2*t*(y[1]-y[0]):y[1]+2*(t-.5)*(y[2]-y[1]):y[0]+t*(y[1]-y[0])}function M(t){return d?t<y[1]?.5*(t-y[0])/(y[1]-y[0]):.5+.5*(t-y[1])/(y[2]-y[1]):(t-y[0])/(y[1]-y[0])}function k(t){t=d?t<=.5?2*t*(o[1]-o[0])+o[0]:2*(t-.5)*(o[2]-o[1])+o[1]:t*(o[1]-o[0])+o[0];return e(t)}},ruler:function(t,e,n){var r=e.colors,o=e.format,i=e.breaks,a=e.width,u=e.height,c=e.rulerSize,l=e.tickLength,s=e.tickWidth,f=e.horizontal,h=e.reverse,p=e.swatchLabelDistance,d=e.highlight,g=[],e=r.map(function(t,e){return{color:t,min:0===e?-1/0:+i[e],max:e===r.length-1?1/0:+i[e+1],label:e===(h?r.length-1:0)?"":"".concat(o(i[h?e+1:e]))}});h&&e.reverse();var v,m,y=f?Math.floor(a/r.length)-1:c,b=f?c:Math.floor(u/r.length)-1,w=t.appendMany("g.swatch",e).translate(f?function(t,e){return[e*(y+s),0]}:function(t,e){return[0,e*(b+s)]}),_=Vc(function(e){null!==e?(d&&(t.classed("highlighted",!0),w.classed("highlight",function(t){return e===t})),n("mouseenter",e)):(d&&(t.classed("highlighted",!1),w.classed("highlight",!1)),n("mouseleave"))});return w.on("mouseenter",function(t){return _.set(t)}),t.parent().on("mouseleave",_.clear),w.append("rect").at({width:y,height:b}).style("fill",function(t){return t.color}),w.append("text").translate(f?[0,b+p+l+(Kl()?8:0)]:[y+p+l,0]).text(function(t){return t.label}),0<l&&w.filter(function(t,e){return 0<e}).append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(Math.ceil(.5*s),",0"):"0,-".concat(Math.ceil(.5*s))).concat(f?"v":"h").concat((f?b:y)+l)),f&&(v=is(function(){m&&(w.selectAll("text").st({textAnchor:"end"}).at({transform:"translate(".concat(.5*-y,",").concat(b+p+l,") rotate(-90)")}),g.forEach(function(t){return t()}))},20),m=!1,w.selectAll("text").each(function(t){var e=this;ks({measure:function(){return e.getBoundingClientRect()},update:function(t){t.width>y+2&&(m=!0,v())}})})),{highlight:function(e){null!=e?(t.classed("highlighted",!0),w.classed("highlight",function(t){return e>=t.min&&e<t.max})):(t.classed("highlighted",!1),w.classed("highlight",!1))},onupdate:function(t){g.push(t)}}},ranges:function(n,r,t){var o=r.colors,i=r.format,a=r.labels,u=r.breaks,e=r.width,c=r.swatchWidth,l=r.swatchHeight,s=r.itemMarginBottom,f=r.swatchBorderRadius,h=r.swatchLabelDistance,p=r.rulerSize,d=r.horizontal,g=r.highlight,v=r.reverse,m=[],y=o.map(function(t,e){return{color:t,min:0===e?-1/0:+u[e],max:e===o.length-1?1/0:+u[e+1],label:a?a[e]:0===e?"< ".concat(i(u[1])):e===o.length-1?"≥ ".concat(i(u[e])):"".concat(i(u[e]),"–").concat(i(u[e+1]))}}),b=d?Math.floor(e/o.length)-1:c,w=d?p:l;v&&y.reverse();var _,x,M=n.appendMany("g.swatch",y).translate(d?function(t,e){return[e*(b+1),0]}:function(t,e){return[0,e*(w+s)]}).on("mouseenter",function(t){return k.set(t)}),k=Vc(function(e){null!==e?(g&&(n.classed("highlighted",!0),M.classed("highlight",function(t){return e===t})),t("mouseenter",e)):(g&&(n.classed("highlighted",!1),M.classed("highlight",!1)),t("mouseleave"))});return n.parent().on("mouseleave",k.clear),M.append("rect").at({width:b,height:w,rx:Math.min(f,.5*w),ry:Math.min(f,.5*b)}).style("fill",function(t){return t.color}).parent().append("text").translate(d?[.5*b,w+h]:[b+h,.5*w]).text(function(t){return t.label}),d&&(_=is(function(){var t,e;x&&(e=(t=n.parent()).parent(),t.remove(),e.classed("ranges",!1).classed("color-legend",!1).classed("category-legend",!0).classed("categories",!0),Gc(e,As(As({},r),{},{swatches:y,reverse:!1})),m.forEach(function(t){return t()}))},20),x=!1,M.selectAll("text").each(function(t){var e=this;ks({measure:function(){return e.getBoundingClientRect()},update:function(t){t.width>b+2&&(x=!0,_())}})})),{highlight:function(e){null!=e?(n.classed("highlighted",!0),M.classed("highlight",function(t){return e>=t.min&&e<t.max})):(n.classed("highlighted",!1),M.classed("highlight",!1))},onupdate:function(t){m.push(t)}}},winner:function(t,e){var r=e.colors,o=e.format,i=e.breaks,n=e.labels,a=e.width,u=e.height,c=e.rulerSize,l=e.tickLength,s=e.tickWidth,f=e.horizontal,h=e.reverse,p=e.itemMarginBottom,d=e.swatchLabelDistance,e=n.map(function(n){return{label:n,swatches:r[n].map(function(t,e){return{color:t,label:(h?e===r[n].length-1:0===e)?"":"".concat(o(i[h?e+1:e]))}})}});e[e.length-1].isLast=!0;var n=i.length-1,g=f?Math.floor(a/(3+n))-1:c,v=f?c:Math.floor(u/(3+n))-1,e=t.appendMany("g.group",e).translate(function(t,e){return f?[0,(v+p)*e]:[(g+p)*e,0]});e.append("text.label").attr("transform",f?"translate(".concat([(g+s)*n+d,.5*v+1],")"):"translate(".concat([.5*g,(v+s)*n+d],") rotate(-90)")).text(function(t){return t.label});n=e.appendMany("g.swatch",function(t){return h?t.swatches.slice(0).reverse():t.swatches}).translate(f?function(t,e){return[e*(g+s),0]}:function(t,e){return[0,e*(v+s)]});return n.append("rect").at({width:g,height:v}).style("fill",function(t){return t.color}),e.filter(function(t){return t.isLast}).selectAll("g.swatch").append("text").translate(f?[0,v+d+l]:[g+d+l,0]).text(function(t){return t.label}),0<l&&n.append("path.tick").style("stroke-width",s).attr("d","M".concat(f?"-".concat(Math.ceil(.5*s),",0"):"0,-".concat(Math.ceil(.5*s))).concat(f?"v":"h").concat((f?v:g)+l)),{highlight:function(t){}}}};function $s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function js(t,e,n,r){!0!==e&&!1!==e&&"[object Boolean]"!==nl.call(e)&&(r=n,n=e,e=!1),null!=n&&(n=$l(n,r));for(var o=[],i=[],a=0,u=Nl(t);a<u;a++){var c=t[a],l=n?n(c,a,t):c;e&&!n?(a&&i===l||o.push(c),i=l):n?Hl(i,l)||(i.push(l),o.push(c)):Hl(o,c)||o.push(c)}return o}var Ns=jl("byteLength"),zs=fl("ArrayBuffer"),bt=fl("Object"),Ts=wt&&bt(new DataView(new ArrayBuffer(8))),Ye="undefined"!=typeof Map&&bt(new Map),Mn=fl("DataView"),Ls=Ts?function(t){return null!=t&&hl(t.getInt8)&&zs(t.buffer)}:Mn,Ps=Ol(Ns),Ds=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Cs=_t?function(t){return al?al(t)&&!Ls(t):Ps(t)&&Ds.test(nl.call(t))}:function(){return!1};function Rs(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,Ns(t))}var Bs="[object DataView]";function Fs(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null!=t&&null!=e){if(t!=t)return e!=e;var o=Yn(t);return("function"===o||"object"===o||"object"==Yn(e))&&function t(e,n,r,o){e instanceof pl&&(e=e._wrapped),n instanceof pl&&(n=n._wrapped);var i=nl.call(e);if(i!==nl.call(n))return!1;if(Ts&&"[object Object]"==i&&Ls(e)){if(!Ls(n))return!1;i=Bs}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return tl.valueOf.call(e)===tl.valueOf.call(n);case"[object ArrayBuffer]":case Bs:return t(Rs(e),Rs(n),r,o)}var a="[object Array]"===i;if(!a&&Cs(e)){if(Ns(e)!==Ns(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=Yn(e)||"object"!=Yn(n))return!1;var u=e.constructor,i=n.constructor;if(u!==i&&!(hl(u)&&u instanceof u&&hl(i)&&i instanceof i)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];for(var c=(r=r||[]).length;c--;)if(r[c]===e)return o[c]===n;if(r.push(e),o.push(n),a){if((c=e.length)!==n.length)return!1;for(;c--;)if(!Fs(e[c],n[c],r,o))return!1}else{var l,s=bl(e);if(c=s.length,bl(n).length!==c)return!1;for(;c--;)if(!ml(n,l=s[c])||!Fs(e[l],n[l],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}}function qs(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hs(t){var j,N=t.vis;this.update=function(t){var e,n,r,o,i,a,u,c,l,s,f,h,p,d,g,v,m,y,b,w,_,x=t.container,M=t.colorScale,k=t.map,S=N.colorMap(),A=N.theme(),E=N.size(),$=N.chart().getMetadata("data.column-format",{}),O=Yc({width:E[0],settings:N.get("legend"),column:{type:N.axes(!0).values.type(),name:N.axes(!0).values.name()},cs:{limits:M._limits,colors:M._colors,labels:M._labels,stops:M._stops},zoomable:N.get("zoomable"),zoomBtnPos:N.get("zoom-button-pos"),hideRegions:N.get("hide-empty-regions"),colorscale:N.get("colorscale",{}),colorSim:N.colorMode()||"normal"});Fs(O,j)||(j=O,K(x).select(".map-key").remove(),!N.get("legend.enabled",!0)||M._limits&&void 0===M._limits[0])||(e="text"===N.axes(!0).values.type(),n=E[0]<450,r=N.get("legend.interactive"),O="div.map-key.export-rect.map-key-"+(t=N.get("legend.position","mt"))+(["mt","mb"].includes(t)?"":".map-key-inside"),o="mt"===t?K(x).insert(O,".map-outer"):K(x).append(O),O="m"===t.charAt(0),o.classed("mobile",n),r&&o.style("pointer-events","all"),O||o.style("b"===t.charAt(0)?"bottom":"top",N.get("legend.offsetTop",0)+"%").style("r"===t.charAt(1)?"right":"left",N.get("legend.offsetLeft",0)+"%"),b=Ws(Ws({},b={title:N.get("legend.title"),highlight:r,width:n?E[0]-10:220,horizontal:n||O||"horizontal"===N.get("legend.orientation","horizontal"),reverse:!e&&N.get("legend.reverse",!1)}),Xl({rulerSize:Hc(A,"style.chart.legend.ruler.thickness",13),tickWidth:Hc(A,"style.chart.legend.ruler.tickWidth",1),tickLength:Hc(A,"style.chart.legend.ruler.tickLength",0),swatchWidth:Hc(A,"style.chart.legend.swatch.width",14),swatchHeight:Hc(A,"style.chart.legend.swatch.height",14),swatchBorderRadius:Hc(A,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Hc(A,"style.chart.legend.swatch.marginRight"),paddingBottom:Hc(A,"style.chart.legend.padding.bottom"),itemMarginRight:Hc(A,"style.chart.legend.text.marginRight"),itemMarginBottom:Hc(A,"style.chart.legend.rowSpacing"),paddingTop:Hc(A,"style.chart.legend.padding.top"),textAlign:Hc(A,"style.chart.legend.alignment"),color:Hc(A,"style.chart.labels.legend.color")},function(t){return null==t})),E="discrete"===N.get("colorscale.mode")&&"ruler"!==N.get("legend.labels")&&!b.horizontal,a=N.get("legend.hideItems",[]),u=!e&&M._colors&&"ruler"!==N.get("legend.labels")&&("m"===N.get("legend.position","br").charAt(0)||E),n||O?!O||n||"number"!==N.axes(!0).values.type()||"continuous"!==N.get("colorscale.mode")&&"ruler"!==N.get("legend.labels")||(b.width=N.get("legend.size",200)):b[b.horizontal||e||E?"width":"height"]=N.get("legend.size",170),"number"===N.axes(!0).values.type()&&(c=N.get("legend.labelFormat","0.[00]"),l=-1<c.indexOf("%"),E=N.axes().values,s=$[E]?Hc($[E],"number-prepend",""):"",f=$[E]?Hc($[E],"number-append",""):"",h=function(t){return"".concat(s).concat(Bc(l?.01*t:t).format(c)).concat(f)}),e?(p=Hc(A,"colors.categories",[[]])[N.get("colorscale.palette",0)],d=N.get("colorscale.map",{}),g=N.get("colorscale.categoryOrder",[]),v=N.get("colorscale.categoryLabels",{}),m=0,(b=Ws(Ws({},b),{},{swatches:js(M._labels.sort(function(t,e){return g.indexOf(t)-g.indexOf(e)}).map(function(t,e){var n=null!=v[t]?v[t]:t,r=d[t]||p[m++];return{key:"".concat(r,"///").concat(n),label:n,value:t,index:e,color:S(r)}}),function(t){return t.key}).sort(function(t,e){return t.index-e.index}).filter(function(t){return t.label})})).horizontal||(b.height="auto",b.paddingBottom=0),i=Jl(o.node(),b)):u?(y="discrete"===N.get("colorscale.mode")&&"custom"===N.get("legend.labels")&&N.get("legend.customLabels",[]),b=Ws(Ws({},b),{},{swatches:M._stops.slice(1).map(function(t,e){return{key:"class-".concat(e),color:S(M._colors[e]),index:e,min:0===e?-1/0:+M._stops[e],max:e===M._stops.length-2?1/0:+M._stops[e+1],label:y?y[e]:0===e?"<&nbsp;".concat(h(t)):e<M._colors.length-1?"".concat(h(M._stops[e]),"–").concat(h(t)):"≥&nbsp;".concat(h(M._stops[e]))}})}),"custom"===N.get("legend.labels")&&(b.swatches=b.swatches.filter(function(t,e){return!a.includes(e)})),b.horizontal||(b.height="auto",b.paddingBottom=0),i=Jl(o.node(),b)):(b=Ws(Ws({},b),{},{limits:M._limits,breaks:M._stops,ruler:"ruler"===N.get("legend.labels"),colors:M._colors?M._colors.map(function(t){return S(t)}):function(t){return S(M(t))},format:h}),"categories"===N.get("colorscale.mode")?b.labels=M._labels:"continuous"===N.get("colorscale.mode")&&"custom"===N.get("legend.labels")?(b.labels=[N.get("legend.labelMin",""),N.get("legend.labelMax","")],""!==N.get("colorscale.rangeCenter")&&void 0!==N.get("colorscale.rangeCenter")&&b.labels.splice(1,0,N.get("legend.labelCenter",""))):"discrete"===N.get("colorscale.mode")&&"custom"===N.get("legend.labels")&&(b.labels=N.get("legend.customLabels",[]).filter(function(t,e){return!a.includes(e)}),b.colors=b.colors.filter(function(t,e){return!a.includes(e)}),b.breaks=b.breaks.filter(function(t,e){return 0===e||e===b.breaks.length-1||!a.includes(e-1)})),i=function(t,e){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var n,r=Os(Os({title:"",width:100,height:200,horizontal:!0,colors:["white","yellow","red"],breaks:!1,limits:!1,ruler:!1,labels:!1,format:function(t){return String(+t.toFixed(2))},swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,rulerSize:13,tickLength:0,tickWidth:1,highlight:!1,reverse:!1},e.theme?Xl({swatchWidth:Ul(e.theme,"style.chart.legend.swatch.width",14),swatchHeight:Ul(e.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Ul(e.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Ul(e.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Ul(e.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Ul(e.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Ul(e.theme,"style.chart.legend.rowSpacing"),paddingTop:Ul(e.theme,"style.chart.legend.padding.top"),textAlign:Ul(e.theme,"style.chart.legend.alignment"),color:Ul(e.theme,"style.chart.labels.legend.color")},function(t){return null==t}):{}),e),o={},i=Array.isArray(r.colors)&&!r.ruler&&!r.horizontal,e=K(t).append("div.".concat(i?"category":"color","-legend")).classed("horizontal",r.horizontal).classed("vertical",!r.horizontal);r.title&&e.append("div.title.legend-title.label").style("max-width",r.width+"px").append("span").html(r.title);var a,u,c,l,s=i?null:e.append("svg").at({width:r.width,height:r.height}),f=i?null:s.append("g");function h(){ks({measure:function(){return f.node().getBoundingClientRect()},update:function(t){s.attr("height",t.height).attr("width",t.width)}})}function p(t,e){o[t]&&o[t].length&&o[t].forEach(function(t){"function"==typeof t&&t(e)})}return n="function"==typeof r.colors?(e.classed("continuous",!0),Es.continuous(f,r,p)):Array.isArray(r.colors)?(t=r.ruler?"ruler":i?"categories":"ranges",e.classed(t,!0),r.swatches=(a=r.colors,u=r.labels,c=r.breaks,l=r.format,a.map(function(t,e){return{color:t,min:0===e?-1/0:+c[e],max:e===a.length-1?1/0:+c[e+1],label:u?u[e]:0===e?"< ".concat(l(c[1])):e===a.length-1?"≥ ".concat(l(c[e])):"".concat(l(c[e]),"–").concat(l(c[e+1]))}})),Es[t](i?e:f,r,p)):(e.classed("winner",!0),Es.winner(f,r,p)),h(),n.onupdate&&n.onupdate(h),n=Os({container:e,on:function(t,e){return"function"!=typeof e||"string"!=typeof t||(o[t]||(o[t]=[]),o[t].push(e)),n}},n)}(o.node(),b),setTimeout(function(){ks({measure:function(){return o.select(".color-legend").node().clientHeight},update:function(t){k.setBottomMargin(n?t:0)}})})),r&&(i.on("mouseenter",function(t){k.highlight(t)}),i.on("mouseleave",function(){k.highlight(null)}),w=N.axes(!0).values,_=N.get("colorscale.categoryLabels",{}),k.onHighlight=function(t){if(!t)return i.highlight();var e,n=t.data?t.data[w.name()]:t.properties._cluster?t.properties._val2:t.properties[w.name()];u&&(e=M._stops.filter(function(t,e){return e===M._stops.length-2||0===e?t<=n:t<n}).length-1,n="class-".concat(e)),i.highlight("text"===w.type()?"".concat(t.fill||t.properties._color,"///").concat(_[n]||n):n)}))}}var Ys={circle:"M -1,0 a 1,1 0 1,0 2,0 a 1,1 0 1,0 -2,0 Z",square:"M-0.88622,-0.88622L0.88622,-0.88622L0.88622,0.88622L-0.88622,0.88622Z",diamond:"M0,-1.25331L1.25331,0L0,1.25331L-1.25331,0Z",marker:"m0.004066,-2.757056c-0.466801,0 -0.84528,0.378395 -0.84528,0.845279c0,0.130754 0.029717,0.254741 0.082794,0.365187c0.00297,0.006277 0.762485,1.494428 0.762485,1.494428l0.753324,-1.475938c0.058773,-0.115068 0.091955,-0.245496 0.091955,-0.383677c0,-0.466885 -0.378395,-0.845279 -0.84528,-0.845279zm0,1.352447c-0.280083,0 -0.507168,-0.227169 -0.507168,-0.507168s0.227085,-0.507168 0.507168,-0.507168c0.279999,0 0.507167,0.227169 0.507167,0.507168s-0.227168,0.507168 -0.507167,0.507168z",hexagon:"M0,-1.09963 L 0.952436,-0.549815 l 0,1.09963 L 0,1.09963 L -0.952436,0.549815 l 0,-1.09963 Z",triangle_up:"M0,-1.16635 L 1.34677,1.16635 l-2.69354,0 Z",triangle_down:"M0,1.16635 L 1.34677,-1.16635 l-2.69354,0 Z",spike:"M-1,0L0,-1L1,0"},Is={circle:function(t){t.moveTo(1,0),t.arc(0,0,1,0,2*Math.PI)},square:function(t){var e=.88622;t.rect(-e,-e,2*e,2*e)},diamond:function(t){var e=.88622,n=.25*Math.PI;t.rotate(n),t.rect(-e,-e,2*e,2*e),t.rotate(-n)},hexagon:function(t){var e=1.09963,n=e/2,r=.952436;t.moveTo(0,-e),t.lineTo(r,-n),t.lineTo(r,n),t.lineTo(0,e),t.lineTo(-r,n),t.lineTo(-r,-n),t.lineTo(0,-e)},triangle_up:function(t){var e=1.16635;t.moveTo(0,-e),t.lineTo(1.34677,e),t.lineTo(-1.34677,e),t.lineTo(0,-e)},triangle_down:function(t){var e=1.16635;t.moveTo(0,e),t.lineTo(1.34677,-e),t.lineTo(-1.34677,-e),t.lineTo(0,e)},marker:function(t){t.moveTo(.004066,-2.757056),t.bezierCurveTo(-.462735,-2.757056,-.841214,-2.378661,-.841214,-1.9117769999999998),t.bezierCurveTo(-.841214,-1.7810229999999998,-.811497,-1.6570359999999997,-.75842,-1.54659),t.bezierCurveTo(-.75545,-1.5403129999999998,.004064999999999985,-.05216199999999982,.004064999999999985,-.05216199999999982),t.lineTo(.757389,-1.5280999999999998),t.bezierCurveTo(.8161619999999999,-1.6431679999999997,.849344,-1.7735959999999997,.849344,-1.9117769999999998),t.bezierCurveTo(.849344,-2.378662,.470949,-2.757056,.0040639999999999565,-2.757056),t.arc(0,-1.404609-.507167,.507167,0,2*Math.PI)},spike:function(t){t.moveTo(-1,0),t.lineTo(0,-1),t.lineTo(1,0)}},Zs=fl("String"),Xs=fl("Date");function Us(t){Nl(t);return 1}_t=(bt=["clear","delete"]).concat(wt="forEach",Mn=["get","has","set"]),Mn=bt.concat(Mn),wt=["add"].concat(bt,wt,"has"),Ye?Us(_t):fl("Map"),Ye?Us(Mn):fl("WeakMap"),Ye?Us(wt):fl("Set");var Vs=Date.now||function(){return(new Date).getTime()};function Gs(t){var e="(?:"+bl(t).join("|")+")";RegExp(e),RegExp(e,"g");return 1}function Js(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);n=function(t){if(!gl(t))return{};if(il)return il(t);function e(){}e.prototype=t;t=new e;return e.prototype=null,t}(t.prototype),o=t.apply(n,o);return gl(o)?o:n}Gs(Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),Gs(function(t){for(var e={},n=bl(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}(Ye)),pl.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ks=Jc(function(i,a){var u=Ks.placeholder;return function t(){for(var e=0,n=a.length,r=Array(n),o=0;o<n;o++)r[o]=a[o]===u?arguments[e++]:a[o];for(;e<arguments.length;)r.push(arguments[e++]);return Js(i,t,this,this,r)}});Ks.placeholder=pl;var Qs=Jc(function(e,n,r){if(!hl(e))throw new TypeError("Bind must be called on a function");var o=Jc(function(t){return Js(e,o,n,this,r.concat(t))});return o});function tf(e,n,r){function o(){var t=Vs()-a;t<n?i=setTimeout(o,n-t):(i=null,r||(c=e.apply(l,u)),i||(u=l=null))}var i,a,u,c,l,t=Jc(function(t){return l=this,u=t,a=Vs(),i||(i=setTimeout(o,n),r&&(c=e.apply(l,u))),c});return t.cancel=function(){clearTimeout(i),i=u=l=null},t}function ef(t,e,n){if(e=Sl(e,n),zl(t))for(o=0,i=t.length;o<i;o++)e(t[o],o,t);else for(var r=bl(t),o=0,i=r.length;o<i;o++)e(t[r[o]],r[o],t);return t}function nf(t,e){return Tl(t,kl(e))}Jc(function(t,e){var n=(e=Dl(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Qs(t[r],t)}return t}),wt=Jc(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),Ks(wt,pl,1),Ks(function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},2),Jc(function(t,n,r){var o,i;return hl(n)?i=n:(n=Ml(n),o=n.slice(0,-1),n=n[n.length-1]),Tl(t,function(t){var e=i;if(!e){if(o&&o.length&&(t=xl(t,o)),null==t)return;e=t[n]}return null==e?e:e.apply(t,r)})});var rf,of=(rf=function(t,e,n){ml(t,n)?t[n]++:t[n]=1},function(n,r,t){var o={};return r=$l(r,t),ef(n,function(t,e){e=r(t,e,n);rf(o,0,e)}),o}),af=Jc(function(t,e){return e=Dl(e,!0,!0),t=t,o=[],r=$l(r=function(t){return!Hl(e,t)},void 0),ef(t,function(t,e,n){r(t,e,n)&&o.push(t)}),o;var r,o});function uf(t,e){return t._chain?pl(e).chain():e}function cf(t){var n,r,e,o,i,a=t.map,u=t.vis,c=t.theme,l=(0,t.getZoom)(),s=/<br *\/?>|\n/g,f=Yc(u.get("labels.places")).filter(function(t,e){return t.origAlign=t.align,t.visible});function h(){r.each(function(t){var n,o,r,i,a,u,c,e=t.text.replace(/-/g,"- ");function l(t){return Xr[t]||Xr.a}t.__lines=(e?e.match(s)?e.trim().split(s):(a=[],u=[],c=[],(o=e.split(" ")).forEach(function(t,e){var n=t.split("-"),r=e<o.length-1?" ":"";1<n.length?n.forEach(function(t,e){u.push(t+(e<n.length-1?"-":r))}):u.push(t+r)}),e=Math.max(3,Math.min(5,.75*u.map(function(t){return t.length}).sort(function(t,e){return t-e})[Math.round(u.length/2)])),r=10*Xr.a,i=e*Xr.a,n=0,u.forEach(function(t){var e=ot(t.split("").map(l));return r<n+e&&i<n&&(a.push(c.join("")),c.length=0,n=0),n+=e,c.push(t)}),c.length&&a.push(c.join("")),a.filter(function(t){return""!==t})):[]).map(function(t){return t.replace(/- /g,"-")}),"t"===t.align.split("")[0]&&t.__lines.reverse()}),i.attr("transform",function(t){var e=t.align.split(""),n=St(e,2),r=n[0],o=n[1],e=Hc(c,"vis.d3-maps-core.places.".concat(t.type,".label.translateX"),0),n=Hc(c,"vis.d3-maps-core.places.".concat(t.type,".label.translateY"),0),o=(t.symbolSize+e)*{l:1,c:0,r:-1}[o],r=(t.fontSize+t.symbolSize+n)*{t:-1,m:0,b:1}[r];return"translate(".concat(o,",").concat(r,")")}),r.selectAll("text").style("text-anchor",function(t){return{l:"end",c:"middle",r:"start"}[t.align.split("")[1]]}),a.g.selectAll("tspan").remove(),r.selectAll("text").tspans(function(t){return t.__lines},function(t){var e=t.align;return((t.fontSize||10)+4)*{t:-1,m:1,b:1}[e.split("")[0]]})}a.g.selectAll("g.places").remove(),f.length&&u.get("labels.enabled")&&"places"===u.get("labels.type")&&(n=a.g.append("g.places"),r=n.appendMany("g.place",f).attr("class",function(t){return["place",t.inverted?"inverted":"",t.type,t._visible?"":"place-hidden"].join(" ")}),e={country:13},o={capital:Ys.square,point:Ys.circle},r.each(function(t){t.fontSize=Hc(c,"vis.d3-maps-core.places.".concat(t.type,".label.fontSize"),Hc(c,"vis.d3-maps-core.places.general.label.fontSize",e[t.type]||10)),t.symbolSize=Hc(c,"vis.d3-maps-core.places.".concat(t.type,".symbol.size"),Hc(c,"vis.d3-maps-core.places.general.symbol.size",3)),t.symbolPath=Hc(c,"vis.d3-maps-core.places.".concat(t.type,".symbol.path"),o[t.type]||!1)}),r.attr("transform",function(t){var e=a.proj(a.mapProj([t.x,t.y]));return t.anchor=e,"translate(".concat(t.anchor,") scale(").concat(1/l.k,")")}),(i=r.append("g.text-wrapper")).append("text.buffer"),i.append("text.place-label"),r.append("path.place-symbol").attr("d",function(t){return t.symbolPath||""}).attr("transform",function(t){return"scale(".concat(t.symbolSize,")")}),h(),a.updateLabelOverlaps(n,"g.place"),h(),r.classed("place-hidden",function(t){return!t._visible}),a.addZoomLayer("place-labels-layer",n,r),a.updatePlacesAfterZoom=tf(function(){a.updateLabelOverlaps(n,"g.place"),h(),r.classed("place-hidden",function(t){return!t._visible});var e=!1;f.forEach(function(t){t.align!==t.origAlign&&(t.align=t.origAlign,e=!0)}),e&&h(),a.updateLabelOverlaps(n,"g.place"),h(),r.classed("place-hidden",function(t){return!t._visible})},200),a.onZoom(a.updatePlacesAfterZoom))}function lf(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lf(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ff(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,a,u,c,l,s,f,h,p=t._root,d={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((l=e>=(i=(g+m)/2))?g=i:m=i,(s=n>=(a=(v+y)/2))?v=a:y=a,!(p=(o=p)[f=s<<1|l]))return o[f]=d,t;if(u=+t._x.call(null,p.data),c=+t._y.call(null,p.data),e===u&&n===c)return d.next=p,o?o[f]=d:t._root=d,t;for(;o=o?o[f]=new Array(4):t._root=new Array(4),(l=e>=(i=(g+m)/2))?g=i:m=i,(s=n>=(a=(v+y)/2))?v=a:y=a,(f=s<<1|l)==(h=(a<=c)<<1|i<=u););return o[h]=p,o[f]=d,t}function hf(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function pf(t){return t[0]}function df(t){return t[1]}function gf(t,e,n){n=new vf(null==e?pf:e,null==n?df:n,NaN,NaN,NaN,NaN);return null==t?n:n.addAll(t)}function vf(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function mf(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function yf(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function bf(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function wf(n){var r,o=n,i=n;function a(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=n+r>>>1;i(t[o],e)<0?n=1+o:r=o}return n}return 1===n.length&&(o=function(t,e){return n(t)-e},r=n,i=function(t,e){return bf(r(t),e)}),{left:a,center:function(t,e,n,r){null==n&&(n=0),null==r&&(r=t.length);r=a(t,e,n,r-1);return n<r&&o(t[r-1],e)>-o(t[r],e)?r-1:r},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=n+r>>>1;0<i(t[o],e)?r=o:n=1+o}return n}}}function _f(t){return null===t?NaN:+t}Jc(function(t,e){return af(t,e)}),Jc(function(t){return js(Dl(t,!0,!0))}),Jc(function(t){for(var e=t&&function(t,r){var e,o,i=-1/0,a=-1/0;if(null==r||"number"==typeof r&&"object"!=Yn(t[0])&&null!=t)for(var n=0,u=(t=zl(t)?t:Cl(t)).length;n<u;n++)null!=(e=t[n])&&i<e&&(i=e);else r=$l(r,void 0),ef(t,function(t,e,n){((o=r(t,e,n))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)});return i}(t,Nl).length||0,n=Array(e),r=0;r<e;r++)n[r]=nf(t,r);return n}),ef(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=Kc[e];pl.prototype[e]=function(){var t=this._wrapped;return null!=t&&(n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0]),uf(this,t)}}),ef(["concat","join","slice"],function(t){var e=Kc[t];pl.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),uf(this,t)}}),F.prototype.at=Yr,F.prototype.append=qr,F.prototype.translate=Br,F.prototype.tspans=Hr,Fc.extend(lt),Fc.extend(qc),Fc.extend(function(t,e){var e=e.prototype,n=e.format;e.format=function(t){var o=this,t=t||"YYYY-MM-DDTHH:mm:ssZ",i=this.$locale().seasonSeparator||"-",t=t.replace(/(\[[^\]]+])|BB|B/g,function(t,e){var n=o.$y,r=n+1,t="B"===t,n=t?[String(n).slice(-2),2]:[n,4],r=[String(r).slice(-2),2];return e||"".concat(t?"'":"").concat((e=o.$utils()).s.apply(e,n.concat(["0"]))).concat(i).concat(t?"'":"").concat((t=o.$utils()).s.apply(t,r.concat(["0"])))});return n.bind(this)(t)}}),dw.visualization.register("d3-maps-core",function(){var kt;return{init:function(t){this.svg=t.node(),this.mapKey=new Hs({vis:this});try{var e=this.chart().locales.numeral;e&&(Wc||(Bc.register("locale","dw",e),Bc.locale("dw"),Wc=!0));e=this.chart().locales.dayjs;e&&Fc.locale(e)}catch(t){console.warn("Couldnt register locale",t)}},initBaseMap:function(ut,t,ct){var e,n,r,lt=this,st=lt.size(),ft=lt.axes(),ht=lt.theme(),pt=JSON.parse(lt.chart().asset("".concat(t,".json"))),dt=0,gt=0,vt=st[0],mt=st[1],yt=lt.get("max-map-height",650),o=new URLSearchParams(window.location.search),bt="1"===o.get("fitchart")||"1"===o.get("fitheight"),i="1"===o.get("svgonly"),wt="custom_upload"===t?lt.get("layers",{}):{};function _t(t,e,n){var r=xt(t,e,n),e=r.extent,r=r.h;return t.fitExtent(e,n),r||mt}function xt(t,e,n){var r,o,e=(r=e,o=(mt-mt*(1-dt))/2,[parseInt((vt-vt*(1-dt))/2,10)+r,parseInt(o,10)+r]),o=St(e,2),r=o[0],e=o[1],o=lt.get("map-align","center");return bt?function(t,e,n,r,o,i,a){t=Ru().projection(t).bounds(a),a=(t[1][1]-t[0][1])/(t[1][0]-t[0][0]),t=e/n;return{extent:[[o+(a<t&&"right"===r?(n-2*i)*a:0),i],[e-o-(a<t&&"left"===r?(n-2*i)*a:0),n-i]],h:n}}(t,vt||50,mt||50,o,r||0,e||0,n):function(t,e,n,r,o,i,a){a=Ru().projection(t).bounds(a),a=(a[1][1]-a[0][1])/(a[1][0]-a[0][0]),n=Math.min(n,e*a),a=e-2*o-n/a;return a<0&&(r="left"===r?"right":"right"===r?"left":r),{extent:[[o+("right"===r?a:0),i],[e-o-("left"===r?a:0),n-i]],h:n}}(t,vt||50,+yt,o,r||0,e||0,n)}function Mt(){return lt.theme().colors.background}pt?(e=K(ut),te(Mt()).l<50&&e.classed("color-invert",!0),n=e.append("div.map-outer"),r=!1,o=window.devicePixelRatio||1,i||(r=n.append("canvas").at({width:vt*o,height:mt*o}).st({width:vt,height:mt})),t=n.append("svg.svg-main").classed(t,!0).st({overflow:"hidden",position:"relative"}).at({width:vt,height:mt}),lt.init(t),["borders","exteriorBorders","innerborders"].forEach(function(t){wt[t]&&(pt.meta[t]=wt[t])}),function(a,u,f,o,c,h){var t=lt.get("basemap");u.maxZoom=u.maxZoom||("custom_upload"===t?20:8);var n,r,e=(m=(r=ht,{getBorder:function(t,e){return Hc(r,"vis.".concat(n.meta.id,".borders.").concat(t),Hc(r,"vis.d3-maps-core.borders.".concat(t),e))},getThemeProp:function(t,e){return Hc(r,"vis.".concat(n.meta.id,".").concat(t),Hc(r,"vis.d3-maps-core.".concat(t),e))}})).getBorder,l=m.getThemeProp,i="d3-maps-choropleth"===(n=lt).meta.id?Hc(ht,"colors.background","#ffffff"):"#888",s="d3-maps-choropleth"===lt.meta.id?"#eeeeed":"#f8f8f8",p="d3-maps-choropleth"===lt.meta.id?.5:1,d=c?c.node().getContext("2d"):null,g=[],v=[],m=u.projection,y=u.extent;"custom_upload"===t&&"string"==typeof wt.extent&&(y.layer=wt.extent);var b,w,_,x,M,t=!function(t){if(null==t)return 1;var e=Nl(t);return"number"==typeof e&&(vl(t)||Zs(t)||Pl(t))?0===e:0===Nl(bl(t))}(y.exclude);function k(t,e){for(;0<e;){var n=(e+1>>1)-1,r=w[n];if(0<=Cc(t,r))break;w[r._=e]=r,w[t._=e=n]=t}}function S(t,e){for(;;){var n=e+1<<1,r=n-1,o=e,i=w[o];if(r<_&&Cc(w[r],i)<0&&(i=w[o=r]),n<_&&Cc(w[n],i)<0&&(i=w[o=n]),o===e)break;w[i._=e]=i,w[t._=e=o]=t}}function A(t){M.remove(t),t[1][2]=b(t),M.push(t)}c&&(x=(O=a).transform?Nc(O.transform):Rc,w=[],_=0,($={}).push=function(t){return k(w[t._=_]=t,_++),_},$.pop=function(){if(!(_<=0)){var t,e=w[0];return 0<--_&&(t=w[_],S(w[t._=0]=t,0)),e}},$.remove=function(t){var e,n=t._;if(w[n]===t)return n!==--_&&(Cc(e=w[_],t)<0?k:S)(w[e._=n]=e,n),n},M=$,null==b&&(b=Dc),O.arcs.map(function(t){for(var e,n=[],r=0,o=1,i=(t=t.map(x)).length-1;o<i;++o)(e=[t[o-1],t[o],t[o+1]])[1][2]=b(e),n.push(e),M.push(e);for(t[0][2]=t[i][2]=1/0,o=0,i=n.length;o<i;++o)(e=n[o]).previous=n[o-1],e.next=n[o+1];for(;e=M.pop();){var a=e.previous,u=e.next;e[1][2]<r?e[1][2]=r:r=e[1][2],a&&(a.next=u,a[2]=e[2],A(a)),u&&(u.previous=a,u[0]=e[0],A(u))}return t}),O.bbox,O.objects);var E=zc(a,a.objects[u.regions]),$="geoNaturalEarth"===m.type?"geoNaturalEarth1":m.type,O=m.rotate,m=m.center,j=!1===y.padding||void 0===y.padding?0:y.padding,N=sf(sf({},Sc),{},{geoAlbersUsaTerritories:Oc.geoAlbersUsaTerritories})[$]();O&&N.rotate&&N.rotate(O);var z,O=JSON.stringify(pt.content).length,T=c?function(t){var n,r,e=0<arguments.length&&void 0!==t?t:.5,o=e,i=Bu({point:function(t,e,n){(!n||o<=n)&&(e=u([t,e]),this.stream.point(e[0],e[1]))}}),a=wc().stream,u=wc();return u.stream=function(t){var e=u.postclip()||a;return n&&r===t?n:n=i.stream(e(r=t))},u.areaThreshold=function(t){o=t*e},u.log=function(){},u}(5e5<O?u.weight||.01:-99):wc(),L=t?(z=E.features,Object.keys(y.exclude).forEach(function(n){y.exclude[n].forEach(function(e){z=z.filter(function(t){return t.properties[n]!==e})})}),{type:"FeatureCollection",features:z}):E;y.layer&&!lt.get("hide-empty-regions")&&(L=zc(a,a.objects[y.layer])),mt=_t(T,j,L),m&&T.center&&console.warn("todo: what to do with projection center?");var P=Ru().projection(T),D=o.append("g.map"),C=D.append("rect.background").attr("width",vt).attr("height",mt);y.layer&&!lt.get("hide-empty-regions")&&(B=l("backgroundLayer.color",s),R=l("backgroundLayer.opacity",p),c?(s=(m=Rt(B)).r,p=m.g,m=m.b,g.push({id:"bg",style:{fill:"rgba(".concat(s,",").concat(p,",").concat(m,",").concat(R,")")},features:[zc(a,a.objects[y.layer])]})):v.push({id:"bg",selection:D.append("path.bg.geo").datum(zc(a,a.objects[y.layer])).attr("d",P).st({fill:B,opacity:R})}));var R,B,F=(W=((B=E.features).forEach(function(t){t.anchor=nt(t)}),c?g.push({id:"region",features:B,style:{fill:"#999999"}}):(R=(F=(W=D.append("g.regions")).selectAll(".region").data(B).enter().append("g.region")).append("path.geo.region").attr("d",function(t){return P(t)}).classed("highlight",function(t){return"#id="===location.hash.substr(0,4)&&-1<location.hash.substr(4).split(",").indexOf(t.properties.RS)}),v.push({id:"gregion",selection:F}),v.push({id:"region",selection:R})),{regionShapes:B,regions:W,gregion:F,region:void 0})).regionShapes,q=W.regions,W=[{id:"regions",defaultStyle:{lineWidth:1,stroke:i},meshFunc:function(t,e){return t!==e}},{id:"borders",defaultStyle:{lineWidth:3.33,stroke:i},meshFunc:function(t,e){return t!==e}},{id:"innerborders",defaultStyle:{lineWidth:.3,stroke:i,opacity:.9},meshFunc:function(t,e){return!0}},{id:"exteriorBorders",defaultStyle:{lineWidth:2,stroke:i,strokeDasharray:"2,8"},meshFunc:function(t,e){return!0}}];e("outerBorder")&&(u.outerBorder=u.regions,W.push({id:"outerBorder",defaultStyle:{lineWidth:1,stroke:i},meshFunc:function(t,e){return t===e}})),W.forEach(function(t){var e,n,r=t.id,o=t.defaultStyle,i=t.meshFunc;u[r]&&(e={stroke:l("borders.".concat(r,".stroke"),o.stroke),lineWidth:l("borders.".concat(r,".scale"),o.lineWidth),strokeDasharray:l("borders.".concat(r,".strokeDasharray"),o.strokeDasharray),opacity:o.opacity},n=function(t){return Lc(t,function(t,e,n){var r,o,i,a,u,c,l;if(1<arguments.length)a=n,c=[],l=[],function t(e){switch((u=e).type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":f(e.arcs);break;case"MultiLineString":case"Polygon":h(e.arcs);break;case"MultiPolygon":e.arcs.forEach(h)}}(e),l.forEach(null==a?function(t){c.push(t[0].i)}:function(t){a(t[0].g,t[t.length-1].g)&&c.push(t[0].i)}),r=c;else for(o=0,r=new Array(i=t.arcs.length);o<i;++o)r[o]=o;function s(t){var e=t<0?~t:t;(l[e]||(l[e]=[])).push({i:t,g:u})}function f(t){t.forEach(s)}function h(t){t.forEach(f)}return{type:"MultiLineString",arcs:Pc(t,r)}}.apply(this,arguments))}(a,a.objects[u[r]],i),c?(o=(t=Rt(e.stroke)).r,i=t.g,t=t.b,g.push({id:r,style:{stroke:"rgba(".concat(o,",").concat(i,",").concat(t,",").concat(e.opacity||1,")"),lineWidth:.45*e.lineWidth,dash:e.strokeDasharray?e.strokeDasharray.split(",").map(function(t){return.45*Number(t)}):null},features:[n]})):(n=D.append("path.geo.borders.".concat(r)).datum(n).st(e).attr("d",P),v.push({id:r,type:"border",selection:n,style:e})))}),c||"d3-maps-choropleth"!==lt.meta.id||(W=D.append("g.outlines").selectAll(".region-outline").data(F).enter().append("path.geo.region-outline").attr("d",P),v.push({id:"outlines",type:"border",selection:W,style:{lineWidth:Hc(ht,"vis.d3-maps-choropleth.borders.hoverOutline.scale",3)}}));var H,Y=[],I={};bt||(o.at({height:mt}),c&&c.at({height:mt*h}).st({height:mt}));var Z={svg:o,canvas:c,scale:1,meta:u,getZoom:Q,g:D,data:F,proj:T,mapProj:N,path:P,feat:E,svgBorderList:v.filter(function(t){return"border"===t.type}),svgLayers:v,canvasLayers:g,isDatawrapperEditor:lt.chart().inEditor(),draw:K,getThemeBgColor:Mt,SVG_TO_CANVAS_SCALE:.45,renderPlaces:function(){cf({map:Z,vis:lt,theme:ht,getZoom:Q})},updateLabelOverlaps:function(t,e){var u=Q(),a=!1;if(lt.get("avoid-label-overlap",!0)||"column"!==lt.get("labels.type","places")){var c=[],l=lt.__chart.getElementBounds(Z.svg.node()),n=f.selectAll(".text-annotation .text");return n.each(function(t){var e=lt.__chart.getElementBounds(this),n=e.top-l.top-2,r=e.bottom-l.top+2,o=e.left-l.left-2,e=e.right-l.left+2;c.push({t:n,l:o,b:r,r:e})}),t.selectAll(e).each(function(e){var n,r,o,t=lt.__chart.getElementBounds(this),i=s(t,e);!i||"point"!==e.type&&"capital"!==e.type||"places"!==lt.get("labels.type","places")||1!==u.k||(n=Yc(t),r=e.anchor,o=e.symbolSize,js(["tr","br","bl","tl"]).forEach(function(t){if(i){switch(t){case"tr":n.left=r[0]-o,n.right=r[0]+n.width-o,n.top=r[1]-n.height+l.top+2*o,n.bottom=r[1]+l.top;break;case"tl":n.left=r[0]-n.width+o,n.right=r[0]+o,n.top=r[1]-n.height+l.top+2*o,n.bottom=r[1]+l.top;break;case"bl":n.left=r[0]-n.width+o,n.right=r[0]+o,n.top=r[1]+l.top,n.bottom=r[1]+n.height+l.top-2*o;break;case"br":n.left=r[0]-o,n.right=r[0]+n.width-o,n.top=r[1]+l.top,n.bottom=r[1]+n.height+l.top-2*o}s(n,e)||(e.align=t,i=!(a=!0))}})),e._visible=!i}),{alignmentChanged:a}}function s(t,e){var n=t.top-l.top-2,r=t.bottom-l.top+2,o=t.left-l.left-2,i=t.right-l.left+2,a=!1;return(o<0||n<0||r>l.height||i>l.width)&&1===u.k&&(a=!0),a||c.forEach(function(t){n>t.b||i<t.l||r<t.t||o>t.r||e!==t.data&&(a=!0)}),a||c.push({t:n,l:o,b:r,r:i,data:e}),a}},clearZoomLayer:function(){Y.forEach(function(t){return t.g.remove()}),Y.length=0},addZoomLayer:function(t,e,n){I[t]={g:e,feat:n},Y.push(I[t])},updateZoomLayerSelection:function(t,e){I[t].feat=e},onZoom:function(t){H=t},setBottomMargin:function(t){return gt=t,tt(lt.size()),Z},setUserPadding:function(t){return dt=t,tt(lt.size()),Z},zoomVisRegions:function(){L=Z.getVisRegions(),_t(T,j,L),tt(lt.size())},getVisRegions:function(){return{type:"FeatureCollection",features:L.features.filter(function(t){return!Z.hasNoData(t)})}},hasNoData:function(t){return!t.data||void 0===t.data[ft.values]||null===t.data[ft.values]||"null"===t.data[ft.values]||"-"===t.data[ft.values]},sizeTooltip:rt(st),resizeMap:tt,fixZoom:et,zoomBehavior:!1};c&&K();var F=f.select(".map-outer").append("div.annotations"),X=ot(),U="";!function(t){var e=(i=lt.chart().inEditor())&&ot(),n=Yc(lt.get("text-annotations",[]));if(n.length||i){var r=it(),o=at(),i=f.append("div.annotation-keys");if(kt)try{kt.$destroy()}catch(t){}kt=new Ic({target:t.node(),props:{textAnnotations:n,dataToPx:r,pxToData:o,theme:lt.theme(),cm:lt.colorMap(),visWidth:vt,annotationKeysSel:i}}),e&&(kt.$set({editMode:!0}),e.syncAnnotationLayer(kt),D.on("mousedown",function(){var t=e.get().editorState;t.selectedTextAnnotations=[],e.set({editorState:t})}))}}(F);var V,G,J=tf(Z.renderPlaces,100);function K(){var t,a,u,c,e,n,r,o,i,l,s,f;a=(t={context:d,getZoom:Q,proj:T,mapProj:N,width:vt,height:mt,canvasScale:h,canvasLayers:g,theme:ht}).context,u=t.proj,c=t.mapProj,e=t.width,n=t.height,r=t.canvasScale,o=t.canvasLayers,i=t.theme,l=(0,t.getZoom)(),s=[Hc(i,"".concat((t=["vis.d3-maps-symbols.labels.clusters","typography.chart"])[0],".fontWeight"),Hc(i,"".concat(t[1],".fontWeight"),400)),Hc(i,"".concat(t[0],".fontSize"),Hc(i,"".concat(t[1],".fontSize"),14))/l.k+"px",Hc(i,"".concat(t[0],".typeface"),Hc(i,"".concat(t[1],".typeface"),"sans-serif"))].filter(function(t){return t}).join(" "),f=Ru(u,a),a.clearRect(0,0,e*r,n*r),a.lineJoin="round",a.lineCap="round",a.save(),a.scale(r,r),a.translate(l.x,l.y),a.scale(l.k,l.k),o.forEach(function(i){var t=i.features.filter(function(t){return!t.__hidden});a.globalCompositeOperation=i.blendMode||"source-over",t.forEach(function(t){a.beginPath();var e="function"==typeof i.style?i.style(t):i.style,n="Feature"===t.type?t.geometry:t;if(n){if("Point"===n.type){if(t.properties.__projCache?r=t.properties.__projCache:t.properties.__projCache=r=c(t.geometry.coordinates),!r)return;var r=u(r);a.save(),a.translate(r[0],r[1]);var o=void 0!==t.properties.__r?t.properties.__r:1;if(t.properties.__symbol){switch(t.properties.__symbolProps.scale){case"y":a.scale(2.5/l.k,o/l.k);break;case"area":default:a.scale(o/l.k,o/l.k)}t.properties.__symbol(a),t.properties.__symbolProps.fill&&a.closePath()}a.restore()}else f(t);a.strokeStyle=e.stroke||null,e.fill&&(a.fillStyle=e.fill,a.fill()),e.stroke&&(a.lineWidth=(e.lineWidth||1)/l.k,a.strokeStyle=e.stroke,a.setLineDash(e.dash?e.dash.map(function(t){return t/l.k}):[]),a.stroke())}}),a.globalCompositeOperation="source-over",a.font=s,a.textAlign="center",a.textBaseline="middle",t.forEach(function(t){var e,n="Feature"===t.type?t.geometry:t;n&&"Point"===n.type&&t.properties.__label&&(e="function"==typeof i.style?i.style(t):i.style,a.fillStyle=e.labelFill||"#000000",(n=t.properties.__projCache)&&(e=u(n),a.save(),"marker"===t.properties.__symbolProps.id?(n=void 0!==t.properties.__r?t.properties.__r:1,l.k,n=.85*n/l.k,a.translate(e[0],e[1]-n)):a.translate(e[0],e[1]),a.fillText(t.properties.__label,0,0),a.restore()))})}),a.restore(),u.log()}function Q(){return Z&&void 0!==Z.zoomBehavior&&!1!==Z.zoomBehavior?Or(o.node()):$r}function tt(t){var e,n;yt=lt.get("max-map-height",650),lt.size(t[0],t[1]),vt=t[0],mt=t[1]-gt,bt&&(n=(e=ut.querySelector(".annotation-keys:not(.hide)"))&&0<e.clientHeight?e.clientHeight+0:0,e=(e=ut.querySelector(".map-key-mt,.map-key-mb"))&&0<e.clientHeight?e.clientHeight+5:0,mt-=e+n),mt=_t(T,j,L),Z.zoomBehavior&&Z.zoomBehavior.extent(xt(T,j,E).extent).translateExtent(xt(T,j,E).extent),c?K():o.selectAll("path.geo").attr("d",function(t){return P(t)}),o.at({width:vt,height:mt}),c&&c.at({width:vt*h,height:mt*h}).st({width:vt,height:mt}),C.attr("width",vt).attr("height",mt),Z.sizeTooltip=rt(t),c?Z.data.forEach(function(t){t.anchor=nt(t)}):q.selectAll("g.region").each(function(t){return t.anchor=nt(t)}),kt&&(n=it(),t=at(),kt.$set({dataToPx:n,pxToData:t,visWidth:vt})),et()}return kt&&X&&kt.$on("update",function(){var t=X.get().editorState,e=JSON.stringify(Hc(t,"selectedAnnotationProps",""));Hc(t,"selectedTextAnnotations",[]).length&&e!==U&&J(),U=e}),lt.get("zoomable",!1)&&(Z.zoomBehavior=Rr().scaleExtent([1,u.maxZoom]).extent(xt(T,j,E).extent).translateExtent(xt(T,j,E).extent).filter(function(){var t="wheel"===At.type&&!At.ctrlKey,e=At.touches&&1===At.touches.length;return!At.button&&!t&&!e}).on("zoom",function(){var t=At.transform;{var e,n;f.classed("d3-maps-zoomed-in",1<t.k),et(),kt&&(e=it(),n=at(),kt.$set({dataToPx:e,pxToData:n}))}H&&H(t.k,[t.x,t.y])}),o.call(Z.zoomBehavior).style("touch-action","auto"),V={in:"M1,5 h4 v-4 h2 v4 h4 v2 h-4 v4 h-2 v-4 h-4 v-2 Z",out:"M1,5 h10 v2 h-10 v-2 Z",home:"M0,2h2v-2h2v4h-4v-2Z M0,8h4v4h-2v-2h-2v-2z M8,0h2v2h2v2h-4v-4z M8,8h4v2h-2v2h-2v-4z"},F=lt.get("zoom-button-pos","br"),f.select(".map-outer").append("div.zoom-buttons.zoom-buttons-".concat(F)).selectAll(".zoom-btn").data("b"===F.charAt(0)?["home","in","out"]:["in","out","home"]).enter().append("button").attr("class",function(t){return"zoom-btn zoom-btn-".concat(t)}).on("click",function(t){"home"===t?Z.zoomBehavior.transform(o.transition().duration(750),$r):(t=function(t,e,n){return Math.max(e,Math.min(n,t))}(Q().k*Math.pow(2,+("in"===t?1:-1)),1,u.maxZoom),Math.abs(t-1)<1e-4?Z.zoomBehavior.transform(o.transition().duration(750),$r):Z.zoomBehavior.scaleTo(o.transition().duration(750),t))}).append("svg").at({width:12,height:12}).append("path").attr("d",function(t){return V[t]}),G=!1,f.on("keypress",function(){var t,e,n,r;G||!At.target.classList.contains("zoom-btn")||" "!==At.key&&"Enter"!==At.key||(t=f.append("div").st({position:"absolute",left:0,right:0,top:0,fontSize:15,textAlign:"center",padding:"10px 40px",zIndex:9,background:"rgba(255,255,255,0.8)",color:"black"}).html("Hint: you can use the <tt>w</tt>,<tt>a</tt>,<tt>s</tt>,<tt>d</tt> keys to pan around the map"),setTimeout(function(){t.remove()},1e4),G=!0),!"wasd".includes(At.key)||1<(e=Q()).k&&(n="a"===At.key?100:"d"===At.key?-100:0,r="w"===At.key?100:"s"===At.key?-100:0,Z.zoomBehavior.translateBy(o,n/e.k,r/e.k))})),ct(Z);function et(){var t=Q(),e=Z.scale=t.k;c&&T.areaThreshold(e===u.maxZoom?0:1/Math.pow(e,1.5)/Math.pow(Math.min(600,vt)/600,2));var r=(.45+.25*Math.pow(Math.min(1,e-1),.5))/e,n=v.filter(function(t){return"border"===t.type});c&&K(),D.attr("transform",t),n.forEach(function(t){var e=t.id,n=t.selection,t=t.style;!u[e]&&"outlines"!==e||n.style("stroke-width",r*t.lineWidth+"px"),t.strokeDasharray&&(t=t.strokeDasharray.split(",").map(function(t){return Number(t)*r}),n.style("stroke-dasharray",t.join(",")))});for(var o=Y.length,i=0;i<o;i++)Y[i].feat.attr("transform",a);function a(t){return"translate("+t.anchor+") scale("+1/e+")"}}function nt(t){if(void 0===t.properties.cx||void 0===t.properties.cy)return P.centroid(t);var e=N([t.properties.cx,t.properties.cy]);return e?T(e):P.centroid(t)}function rt(u){return function(t,e,n){var r,o,i,a;u[0]<400?(i=t[1]/u[1],o=!0===lt.__chart.get("metadata.describe.hide-title")||""===lt.__chart.get("metadata.describe.intro")&&""===lt.__chart.get("title"),n.st({top:i<.5?"auto":o?"0px":"-20px",bottom:i<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*u[1]+"px"})):(a=n.property("offsetWidth"),r=n.property("offsetHeight"),o=e.offsetWidth,i=e.offsetHeight,e=t[0]+10+a<o,a=t[1]+10+r<i,n.st({top:a?t[1]-10+"px":"auto",bottom:a?"auto":Math.min(i-r,i-t[1]+10)+"px",left:e?t[0]+10+"px":"auto",right:e?"auto":o-t[0]+10+"px","max-height":.55*u[1]+"px"}),n.style("max-width",null))}}function ot(){if(lt.chart().inEditor()){var t=window.parent.dw.backend.hooks.call("get-annotation-controls").results;if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){window.__annotationLayer.$set({editMode:!0}),t.syncAnnotationLayer(window.__annotationLayer)}}return null}function it(){var r;return function(t,e){var n=r||[20,20];if(180<Math.abs(t)||90<Math.abs(e))return n;e=N([t,e]);if(!e)return n;n=St(e,2),e=n[0],n=n[1],e=T([e,n]),n=St(e,2),e=n[0],n=n[1],e=Q().apply([e,n]),n=St(e,2),e=n[0],n=n[1];return r=[e,n].map(function(t){return+t.toFixed(1)})}}function at(){return function(t,e){t=Q().invert([t,e]),e=St(t,2),t=e[0],e=e[1],t=T.invert([t,e]),e=St(t,2),t=e[0],e=e[1];return N.invert([t,e])}}}(pt.content,pt.meta,e,t,r,o)):setTimeout(function(){return location.reload()},2e3)},_svgCanvas:function(){return this.svg},getFormat:function(e,n,t){if(!n)return dl;var r=this,o=r.get(e,t),i=-1<o.indexOf("%"),a="number"===n.type()?function(t){return Bc(i?.01*t:t).format((e=o,t={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"},Object.prototype.hasOwnProperty.call(t,e)?t[e]:e));var e}:"date"===n.type()?function(t){return moment(t).format(r.get(e)||"YYYY")}:dl;return function(t){return"date"!==n.type()||Xs(t)?a(t):t}},getColorScale:function(t){var r=this,e=this.dataset,o=this.axes(!0).values,n=o.type(),i=this.get(t+".colors",function(){var t=[{c:"#fff",p:0},{c:"#000",p:1}],e=r.theme(),e=e.colors?e.colors.gradients:null;if(!e)return t;var n=e[0];return!n||!Zs(n[0])||n.length<2?t:n.map(function(t,e){return{c:t,p:e/(n.length-1)}})}()),t=this.get(t+".stops",function(t){var e=[{p:0,v:0},{p:1,v:1}],n=o.name();if(!n)return e;n=t.column(n).range();return n?[{p:0,v:n[0]},{p:1,v:n[1]}]:e}(e));if(window.ds=e,"number"===n){var a=On().range(t.map(Ir("p"))).domain(t.map(Ir("v"))),u=On().clamp(!0).domain(i.map(Ir("p"))).range(i.map(Ir("c")));return Ir(a,u)}var c,l,s,t=js(o.values()).filter(dl),i=this.__categoryColors=(a=this.get("categories",{}),u=t,t=this.theme(),c=st(a),l=[].concat(t.colors.palette).concat(t.colors.secondary).filter(function(t){return c.indexOf(t)<0}),s=Object.assign({},a),u.forEach(function(t){var e;s[t]||(e=l.shift(),s[t]=e)}),s);return function t(){var i=ct(),a=[],r=[],o=pt;function u(t){var e=t+"",n=i.get(e);if(!n){if(o!==pt)return o;i.set(e,n=a.push(t))}return r[(n-1)%r.length]}return u.domain=function(t){if(!arguments.length)return a.slice();a=[],i=ct();for(var e,n,r=-1,o=t.length;++r<o;)i.has(n=(e=t[r])+"")||i.set(n,a.push(e));return u},u.range=function(t){return arguments.length?(r=ht.call(t),u):r.slice()},u.unknown=function(t){return arguments.length?(o=t,u):o},u.copy=function(){return t(a,r).unknown(o)},it.apply(u,arguments),u}().domain(function(){var t,e=[];for(t in i)e.push(t);return e}()).range(st(i))}}}),(Ye=gf.prototype=vf.prototype).copy=function(){var t,e,n=new vf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=mf(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=mf(e));return n},Ye.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ff(this.cover(e,n),e,n,t)},Ye.addAll=function(t){for(var e,n,r,o=t.length,i=new Array(o),a=new Array(o),u=1/0,c=1/0,l=-1/0,s=-1/0,f=0;f<o;++f)isNaN(n=+this._x.call(null,e=t[f]))||isNaN(r=+this._y.call(null,e))||((i[f]=n)<u&&(u=n),l<n&&(l=n),(a[f]=r)<c&&(c=r),s<r&&(s=r));if(l<u||s<c)return this;for(this.cover(u,c).cover(l,s),f=0;f<o;++f)ff(this,i[f],a[f],t[f]);return this},Ye.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a,u,c=o-n,l=this._root;t<n||o<=t||e<r||i<=e;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=l,l=a,c*=2,u){case 0:o=n+c,i=r+c;break;case 1:n=o-c,i=r+c;break;case 2:o=n+c,r=i-c;break;case 3:n=o-c,r=i-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},Ye.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},Ye.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ye.find=function(t,e,n){var r,o,i,a,u,c,l,s,f=this._x0,h=this._y0,p=this._x1,d=this._y1,g=[],v=this._root;for(v&&g.push(new hf(v,f,h,p,d)),null==n?n=1/0:(f=t-n,h=e-n,p=t+n,d=e+n,n*=n);l=g.pop();)!(v=l.node)||(r=l.x0)>p||(o=l.y0)>d||(i=l.x1)<f||(a=l.y1)<h||(v.length?(u=(r+i)/2,c=(o+a)/2,g.push(new hf(v[3],u,c,i,a),new hf(v[2],r,c,u,a),new hf(v[1],u,o,i,c),new hf(v[0],r,o,u,c)),(u=(c<=e)<<1|u<=t)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-u],g[g.length-1-u]=l)):(l=(l=t-+this._x.call(null,v.data))*l+(l=e-+this._y.call(null,v.data))*l)<n&&(f=t-(l=Math.sqrt(n=l)),h=e-l,p=t+l,d=e+l,s=v.data));return s},Ye.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,o,i,a,u,c,l,s,f,h=this._root,p=this._x0,d=this._y0,g=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((c=i>=(l=(p+g)/2))?p=l:g=l,(l=a>=(u=(d+v)/2))?d=u:v=u,!(h=(e=h)[s=l<<1|c]))return this;if(!h.length)break;(e[s+1&3]||e[s+2&3]||e[s+3&3])&&(n=e,f=s)}for(;h.data!==t;)if(!(h=(r=h).next))return this;return(o=h.next)&&delete h.next,r?o?r.next=o:delete r.next:e?(o?e[s]=o:delete e[s],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[f]=h:this._root=h)):this._root=o,this},Ye.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ye.root=function(){return this._root},Ye.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},Ye.visit=function(t){var e,n,r,o,i,a,u,c=[],l=this._root;for(l&&c.push(new hf(l,this._x0,this._y0,this._x1,this._y1));e=c.pop();)!t(l=e.node,n=e.x0,r=e.y0,o=e.x1,i=e.y1)&&l.length&&(a=(n+o)/2,u=(r+i)/2,(e=l[3])&&c.push(new hf(e,a,u,o,i)),(e=l[2])&&c.push(new hf(e,n,u,a,i)),(e=l[1])&&c.push(new hf(e,a,r,o,u)),(e=l[0])&&c.push(new hf(e,n,r,a,u)));return this},Ye.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new hf(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o,i,a,u,c,l,s,f=e.node;f.length&&(i=e.x0,a=e.y0,l=(i+(u=e.x1))/2,s=(a+(c=e.y1))/2,(o=f[0])&&n.push(new hf(o,i,a,l,s)),(o=f[1])&&n.push(new hf(o,l,a,u,s)),(o=f[2])&&n.push(new hf(o,i,s,l,c)),(o=f[3])&&n.push(new hf(o,l,s,u,c))),r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ye.x=function(t){return arguments.length?(this._x=t,this):this._x},Ye.y=function(t){return arguments.length?(this._y=t,this):this._y},dt(function(t){var e=function(a){var c,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(a){i=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o,i,a,u,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),r=new S(r||[]);return e._invoke=(o=t,i=n,a=r,u=f,function(t,e){if(u===p)throw new Error("Generator is already running");if(u===d){if("throw"===t)throw e;return E()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===c){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=c,t(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}r=s(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var r=r.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=c),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===f)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=p;r=s(o,i,a);if("normal"===r.type){if(u=a.done?d:h,r.arg===g)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(u=d,a.method="throw",a.arg=r.arg)}}),e}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",g={};function v(){}function m(){}function y(){}var b={};b[r]=function(){return this};e=Object.getPrototypeOf,e=e&&e(e(A([])));e&&e!==t&&l.call(e,r)&&(b=e);var w=y.prototype=v.prototype=Object.create(b);function _(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function x(a,u){var e;this._invoke=function(n,r){function t(){return new u(function(t,e){!function e(t,n,r,o){t=s(a[t],a,n);if("throw"!==t.type){var i=t.arg,n=i.value;return n&&"object"===Yn(n)&&l.call(n,"__await")?u.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):u.resolve(n).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,o)})}o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function A(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return t.next=t}}return{next:E}}function E(){return{value:c,done:!0}}return((m.prototype=w.constructor=y).constructor=m).displayName=i(y,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,i(t,o,"GeneratorFunction")),t.prototype=Object.create(w),t},a.awrap=function(t){return{__await:t}},_(x.prototype),x.prototype[n]=function(){return this},a.AsyncIterator=x,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new x(u(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},_(w),i(w,o,"Generator"),w[r]=function(){return this},w.toString=function(){return"[object Generator]"},a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=A,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),u=l.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,k(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),g}},a}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});var xf=wf(bf).right;wf(_f).center;var Mf=function(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},kf=Math.sqrt(50),Sf=Math.sqrt(10),Af=Math.sqrt(2);function Ef(t,e,n){var r,o,i,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=$f(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++u<o;)i[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),i=new Array(o=Math.ceil(e-t+1));++u<o;)i[u]=(t+u)/a;return r&&i.reverse(),i}function $f(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(kf<=t?10:Sf<=t?5:Af<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(kf<=t?10:Sf<=t?5:Af<=t?2:1)}function Of(t,e,n){var r=2<arguments.length&&void 0!==n?n:_f;if(o=t.length){if((e=+e)<=0||o<2)return+r(t[0],0,t);if(1<=e)return+r(t[o-1],o-1,t);var n=(o-1)*e,o=Math.floor(n),e=+r(t[o],o,t);return e+(+r(t[o+1],o+1,t)-e)*(n-o)}}function jf(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}function Nf(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function zf(t){return+t}var Tf=[0,1];function Lf(t){return t}function Pf(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Df(t,e,n){var r=t[0],t=t[1],o=e[0],e=e[1],o=t<r?(r=Pf(t,r),n(e,o)):(r=Pf(r,t),n(o,e));return function(t){return o(r(t))}}function Cf(n,t,e){var r=Math.min(n.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=Pf(n[a],n[a+1]),i[a]=e(t[a],t[a+1]);return function(t){var e=xf(n,t,1,r)-1;return i[e](o[e](t))}}function Rf(){var n,r,e,o,i,a,u=Tf,c=Tf,l=Ee,s=Lf;function f(){var e,n,t,r=Math.min(u.length,c.length);return s!==Lf&&(e=u[0],(n=u[r-1])<e&&(t=e,e=n,n=t),s=function(t){return Math.max(e,Math.min(n,t))}),o=2<r?Cf:Df,i=a=null,h}function h(t){return isNaN(t=+t)?e:(i=i||o(u.map(n),c,l))(n(s(t)))}return h.invert=function(t){return s(r((a=a||o(c,u.map(n),Me))(t)))},h.domain=function(t){return arguments.length?(u=Array.from(t,zf),f()):u.slice()},h.range=function(t){return arguments.length?(c=Array.from(t),f()):c.slice()},h.rangeRound=function(t){return c=Array.from(t),l=$e,f()},h.clamp=function(t){return arguments.length?(s=!!t||Lf,f()):s!==Lf},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(t,e){return n=t,r=e,f()}}function Bf(l){var s=l.domain;return l.ticks=function(t){var e=s();return Ef(e[0],e[e.length-1],null==t?10:t)},l.tickFormat=function(t,e){var n=s();return function(t,e,n,r){var o,i,a,u,c=(i=t,a=e,u=n,n=Math.abs(a-i)/Math.max(0,u),u=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),kf<=(n/=u)?u*=10:Sf<=n?u*=5:Af<=n&&(u*=2),a<i?-u:u);switch((r=on(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=An(c,l))||(r.precision=o),fn(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=En(c,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Sn(c))||(r.precision=o-2*("%"===r.type))}return sn(r)}(n[0],n[n.length-1],null==t?10:t,e)},l.nice=function(t){null==t&&(t=10);var e,n,r=s(),o=0,i=r.length-1,a=r[o],u=r[i],c=10;for(u<a&&(n=a,a=u,u=n,n=o,o=i,i=n);0<c--;){if((n=$f(a,u,t))===e)return r[o]=a,r[i]=u,s(r);if(0<n)a=Math.floor(a/n)*n,u=Math.ceil(u/n)*n;else{if(!(n<0))break;a=Math.ceil(a*n)/n,u=Math.floor(u*n)/n}e=n}return l},l}function Ff(){var e=Rf()(Lf,Lf);return e.copy=function(){return t=e,Ff().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},Nf.apply(e,arguments),Bf(e)}function qf(){var e,n=[.5],r=[0,1],o=1;function i(t){return t<=t?r[xf(n,t,0,o)]:e}return i.domain=function(t){return arguments.length?(n=Array.from(t),o=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=Array.from(t),o=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){t=r.indexOf(t);return[n[t-1],n[t]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return qf().domain(n).range(r).unknown(e)},Nf.apply(i,arguments)}function Wf(t){return Ql(t)&&("[object Function]"==(t=es(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function Hf(t){if(null!=t){try{return Jf.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Yf(t){return!(!Ql(t)||(e=t,!!Gf&&Gf in e))&&(Wf(t)?Qf:Kf).test(Hf(t));var e}function If(t,e){return e=e,e=null==(t=t)?void 0:t[e],Yf(e)?e:void 0}function Zf(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Xf(){return!1}function Uf(t,e){var n=Yn(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&uh.test(t))&&-1<t&&t%1==0&&t<e}function Vf(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}var wt=us["__core-js_shared__"],Gf=(lt=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"",Jf=Function.prototype.toString,Kf=/^\[object .+?Constructor\]$/,qc=Function.prototype,Ye=Object.prototype,wt=qc.toString,lt=Ye.hasOwnProperty,Qf=RegExp("^"+wt.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),th=function(){try{var t=If(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),eh=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var u=i[++r];if(!1===e(o[u],u,o))break}return t},qc=function(t){return ns(t)&&"[object Arguments]"==es(t)},nh=(Ye=Object.prototype).hasOwnProperty,rh=Ye.propertyIsEnumerable,oh=qc(function(){return arguments}())?qc:function(t){return ns(t)&&nh.call(t,"callee")&&!rh.call(t,"callee")},ih=Array.isArray,ah=dt(function(t,e){var n=e&&!e.nodeType&&e,e=n&&t&&!t.nodeType&&t,n=e&&e.exports===n?us.Buffer:void 0,n=(n?n.isBuffer:void 0)||Xf;t.exports=n}),uh=/^(?:0|[1-9]\d*)$/,ch={};function lh(t,e){var n,r=ih(t),o=!r&&oh(t),i=!r&&!o&&ah(t),a=!r&&!o&&!i&&bh(t),u=r||o||i||a,c=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],l=c.length;for(n in t)!e&&!wh.call(t,n)||u&&("length"==n||i&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Uf(n,l))||c.push(n);return c}function sh(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||_h))return xh(t);var e,n,r,o=[];for(r in Object(t))Mh.call(t,r)&&"constructor"!=r&&o.push(r);return o}function fh(t){return null!=t&&Vf(t.length)&&!Wf(t)}function hh(t){return(fh(t)?lh:sh)(t)}function ph(t,r,o,i){return kh(t,function(t,e,n){r(i,t,o(t),n)}),i}function dh(t,e){return t===e||t!=t&&e!=e}function gh(t,e){for(var n=t.length;n--;)if(dh(t[n][0],e))return n;return-1}ch["[object Float32Array]"]=ch["[object Float64Array]"]=ch["[object Int8Array]"]=ch["[object Int16Array]"]=ch["[object Int32Array]"]=ch["[object Uint8Array]"]=ch["[object Uint8ClampedArray]"]=ch["[object Uint16Array]"]=ch["[object Uint32Array]"]=!0,ch["[object Arguments]"]=ch["[object Array]"]=ch["[object ArrayBuffer]"]=ch["[object Boolean]"]=ch["[object DataView]"]=ch["[object Date]"]=ch["[object Error]"]=ch["[object Function]"]=ch["[object Map]"]=ch["[object Number]"]=ch["[object Object]"]=ch["[object RegExp]"]=ch["[object Set]"]=ch["[object String]"]=ch["[object WeakMap]"]=!1;var vh,mh,yh,wt=dt(function(t,e){var e=e&&!e.nodeType&&e,n=e&&t&&!t.nodeType&&t,r=n&&n.exports===e&&as.process,e=function(){try{return n&&n.require&&n.require("util").types||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=e}),bh=(lt=wt&&wt.isTypedArray)?(vh=lt,function(t){return vh(t)}):function(t){return ns(t)&&Vf(t.length)&&!!ch[es(t)]},wh=Object.prototype.hasOwnProperty,_h=Object.prototype,xh=(mh=Object.keys,yh=Object,function(t){return mh(yh(t))}),Mh=Object.prototype.hasOwnProperty,kh=function(t,e){if(null==t)return t;if(!fh(t))return r=e,(n=t)&&eh(n,r,hh);for(var n,r,o=t.length,i=-1,a=Object(t);++i<o&&!1!==e(a[i],i,a););return t},Sh=Array.prototype.splice;function Ah(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ah.prototype.clear=function(){this.__data__=[],this.size=0},Ah.prototype.delete=function(t){var e=this.__data__,t=gh(e,t);return!(t<0||(t==e.length-1?e.pop():Sh.call(e,t,1),--this.size,0))},Ah.prototype.get=function(t){var e=this.__data__,t=gh(e,t);return t<0?void 0:e[t][1]},Ah.prototype.has=function(t){return-1<gh(this.__data__,t)},Ah.prototype.set=function(t,e){var n=this.__data__,r=gh(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Eh=Ah,$h=If(us,"Map"),Oh=If(Object,"create"),jh=Object.prototype.hasOwnProperty,Nh=Object.prototype.hasOwnProperty;function zh(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Th(t,e){var n,r=t.__data__;return("string"==(t=Yn(n=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}zh.prototype.clear=function(){this.__data__=Oh?Oh(null):{},this.size=0},zh.prototype.delete=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t},zh.prototype.get=function(t){var e=this.__data__;if(Oh){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return jh.call(e,t)?e[t]:void 0},zh.prototype.has=function(t){var e=this.__data__;return Oh?void 0!==e[t]:Nh.call(e,t)},zh.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Oh&&void 0===e?"__lodash_hash_undefined__":e,this};var Lh=zh;function Ph(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ph.prototype.clear=function(){this.size=0,this.__data__={hash:new Lh,map:new($h||Eh),string:new Lh}},Ph.prototype.delete=function(t){t=Th(this,t).delete(t);return this.size-=t?1:0,t},Ph.prototype.get=function(t){return Th(this,t).get(t)},Ph.prototype.has=function(t){return Th(this,t).has(t)},Ph.prototype.set=function(t,e){var n=Th(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Dh=Ph;function Ch(t){t=this.__data__=new Eh(t);this.size=t.size}Ch.prototype.clear=function(){this.__data__=new Eh,this.size=0},Ch.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},Ch.prototype.get=function(t){return this.__data__.get(t)},Ch.prototype.has=function(t){return this.__data__.has(t)},Ch.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Eh){var r=n.__data__;if(!$h||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dh(r)}return n.set(t,e),this.size=n.size,this};var Rh=Ch;function Bh(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Dh;++e<n;)this.add(t[e])}function Fh(t,e){return t.has(e)}function qh(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&u<c))return!1;var l=i.get(t),c=i.get(e);if(l&&c)return l==e&&c==t;var s=-1,f=!0,h=2&n?new Ih:void 0;for(i.set(t,e),i.set(e,t);++s<u;){var p,d=t[s],g=e[s];if(r&&(p=a?r(g,d,s,e,t,i):r(d,g,s,t,e,i)),void 0!==p){if(p)continue;f=!1;break}if(h){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,function(t,e){return!Fh(h,e)&&(d===t||o(d,t,n,r,i))&&h.push(e)})){f=!1;break}}else if(d!==g&&!o(d,g,n,r,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function Wh(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function Hh(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Yh(t){return function(t,e,n){e=e(t);return ih(t)?e:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(e,n(t))}(t,hh,Gh)}Bh.prototype.add=Bh.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Bh.prototype.has=function(t){return this.__data__.has(t)};var Ih=Bh,Zh=us.Uint8Array,Xh=(Ye=cs?cs.prototype:void 0)?Ye.valueOf:void 0,Uh=Object.prototype.propertyIsEnumerable,Vh=Object.getOwnPropertySymbols,Gh=Vh?function(e){return null==e?[]:(e=Object(e),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(Vh(e),function(t){return Uh.call(e,t)}))}:function(){return[]},Jh=Object.prototype.hasOwnProperty,qc=If(us,"DataView"),wt=If(us,"Promise"),Kh=If(us,"Set"),lt=If(us,"WeakMap"),Qh="[object Map]",tp="[object Promise]",ep="[object Set]",np="[object WeakMap]",rp="[object DataView]",op=Hf(qc),ip=Hf($h),ap=Hf(wt),up=Hf(Kh),cp=Hf(lt),Ye=es;function lp(t,e,n,r,o,i){var a=ih(t),u=ih(e),c=a?mp:gp(t),l=u?mp:gp(e),s=(c=c==vp?yp:c)==yp,u=(l=l==vp?yp:l)==yp;if((l=c==l)&&ah(t)){if(!ah(e))return!1;s=!(a=!0)}if(l&&!s)return i=i||new Rh,a||bh(t)?qh(t,e,n,r,o,i):function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Zh(t),new Zh(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dh(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Wh;case"[object Set]":var c=1&r,u=u||Hh;if(t.size!=e.size&&!c)return!1;c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);u=qh(u(t),u(e),r,o,i,a);return a.delete(t),u;case"[object Symbol]":if(Xh)return Xh.call(t)==Xh.call(e)}return!1}(t,e,c,n,r,o,i);if(!(1&n)){s=s&&bp.call(t,"__wrapped__"),u=u&&bp.call(e,"__wrapped__");if(s||u)return o(s?t.value():t,u?e.value():e,n,r,i=i||new Rh)}return!!l&&function(t,e,n,r,o,i){var a=1&n,u=Yh(t),c=u.length;if(c!=Yh(e).length&&!a)return!1;for(var l=c;l--;){var s=u[l];if(!(a?s in e:Jh.call(e,s)))return!1}var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=a;++l<c;){var g,v=t[s=u[l]],m=e[s];if(r&&(g=a?r(m,v,s,e,t,i):r(v,m,s,t,e,i)),!(void 0===g?v===m||o(v,m,n,r,i):g)){p=!1;break}d=d||"constructor"==s}return!p||d||(f=t.constructor)!=(h=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof h&&h instanceof h)&&(p=!1),i.delete(t),i.delete(e),p}(t,e,n,r,o,i=i||new Rh)}function sp(t,e,n,r,o){return t===e||(null==t||null==e||!ns(t)&&!ns(e)?t!=t&&e!=e:lp(t,e,n,r,sp,o))}function fp(t){return t==t&&!Ql(t)}function hp(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}function pp(e){var n=function(t){for(var e=hh(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,fp(o)]}return e}(e);return 1==n.length&&n[0][2]?hp(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],l=t[c],s=u[1];if(a&&u[2]){if(void 0===l&&!(c in t))return!1}else{var f,h=new Rh;if(r&&(f=r(l,s,c,t,e,h)),!(void 0===f?sp(s,l,3,r,h):f))return!1}}return!0}(t,e,n)}}function dp(t,e){if(!ih(t)){var n=Yn(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!rs(t))||_p.test(t)||!wp.test(t)||null!=e&&t in Object(e)}}(qc&&Ye(new qc(new ArrayBuffer(1)))!=rp||$h&&Ye(new $h)!=Qh||wt&&Ye(wt.resolve())!=tp||Kh&&Ye(new Kh)!=ep||lt&&Ye(new lt)!=np)&&(Ye=function(t){var e=es(t),t="[object Object]"==e?t.constructor:void 0,t=t?Hf(t):"";if(t)switch(t){case op:return rp;case ip:return Qh;case ap:return tp;case up:return ep;case cp:return np}return e});var gp=Ye,vp="[object Arguments]",mp="[object Array]",yp="[object Object]",bp=Object.prototype.hasOwnProperty,wp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_p=/^\w*$/;function xp(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var t=arguments,e=o?o.apply(this,t):t[0],n=i.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),i.cache=n.set(e,t)||n,t)}return i.cache=new(xp.Cache||Dh),i}function Mp(t){if("string"==typeof t)return t;if(ih(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(t,Mp)+"";if(rs(t))return Rp?Rp.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function kp(t,e){return ih(t)?t:dp(t,e)?[t]:Cp(null==(t=t)?"":Mp(t))}function Sp(t){if("string"==typeof t||rs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ap(t,e){for(var n=0,r=(e=kp(e,t)).length;null!=t&&n<r;)t=t[Sp(e[n++])];return n&&n==r?t:void 0}function Ep(t,e){return null!=t&&e in Object(t)}function $p(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=kp(e,t)).length,i=!1;++r<o;){var a=Sp(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Vf(o)&&Uf(a,o)&&(ih(t)||oh(t))}(t,e,Ep)}function Op(n,r){return dp(n)&&fp(r)?hp(Sp(n),r):function(t){var e=function(t,e,n){e=null==t?void 0:Ap(t,e);return void 0===e?n:e}(t,n);return void 0===e&&e===r?$p(t,n):sp(r,e,3)}}function jp(t){return t}function Np(t){return dp(t)?(n=Sp(t),function(t){return null==t?void 0:t[n]}):(e=t,function(t){return Ap(t,e)});var e,n}xp.Cache=Dh;var zp,Tp,Lp,Pp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dp=/\\(\\)?/g,Cp=(zp=(Ye=xp(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(Pp,function(t,e,n,r){o.push(n?r.replace(Dp,"$1"):e||t)}),o},function(t){return 500===zp.size&&zp.clear(),t})).cache,Ye),Rp=(cs=cs?cs.prototype:void 0)?cs.toString:void 0,Bp=Object.prototype.hasOwnProperty,Fp=(Tp=function(t,e,n){var r;Bp.call(t,n)?++t[n]:(r=t,t=1,"__proto__"==(n=n)&&th?th(r,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[n]=t)},function(t,e){var n=ih(t)?Zf:ph,r=Lp?Lp():{};return n(t,Tp,"function"==typeof(e=e)?e:null==e?jp:"object"==Yn(e)?ih(e)?Op(e[0],e[1]):pp(e):Np(e),r)});function qp(e){if(!e||"object"!==Yn(e))return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function Wp(t){return t!=t}function Hp(t,e){return!(null==t||!t.length)&&(n=t,t=0,-1<((e=e)==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(n,e,t):function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(n,Wp,t)));var n}function Yp(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}var Ip={values:[],margins:null,mode:"continuous",rangeMin:null,rangeCenter:null,rangeMax:null,colors:[{color:"#ffffff",position:0},{color:"#000000",position:1}],stops:"equidistant",customStops:[],stopCount:5,palette:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],fallback:"#eeeeee",map:{}},Zp=Kh&&1/Hh(new Kh([,-0]))[1]==1/0?function(t){return new Kh(t)}:function(){},Xp=function(t){return t&&t.length?function(t,e,n){var r=-1,o=Hp,i=t.length,a=!0,u=[],c=u;if(n)a=!1,o=Yp;else if(200<=i){var l=e?null:Zp(t);if(l)return Hh(l);a=!1,o=Fh,c=new Ih}else c=e?[]:u;t:for(;++r<i;){var s=t[r],f=e?e(s):s,s=n||0!==s?s:0;if(a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;e&&c.push(f),u.push(s)}else o(c,f,n)||(c!==u&&c.push(f),u.push(s))}return u}(t):[]};function Up(e){var n={},r=e.palette,t=e.categoryOrder||[],t=t.length?t:Xp(e.values).sort(),o=0;t.forEach(function(t){t&&(n[t]=e.map[t]||(o>=r.length?e.fallback:r[o++]))});t=function(t){return n[t]||e.fallback};return t._labels=Object.keys(n),t._colors=t._labels.map(function(t){return n[t]}),t}function Vp(t){return(+t).toFixed(Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2))}function Gp(t){var e=t.stops,n=t.mode,r=t.stopCount,o=t.customStops,i=t.values,a=t.rangeMin,u=t.rangeCenter,c=t.rangeMax;if(""!==u&&null!=u&&"continuous"===n){if("equidistant"===e)return[a,u,c];r++;var l=[],s=[];i.filter(function(t){return a<=t&&t<=c}).forEach(function(t){return(t<u?l:s).push(t)}),l.push(u),Vp(s[0])>u&&s.unshift(u);var f=Math.floor((r-1)/2)+1,h=jf(f).map(function(t,e){return e/(f-1)}).map(function(t){return Of(l,t)}),t=jf(f).map(function(t,e){return e/(f-1)}).map(function(t){return Of(s,t)});return h.length+t.length>r?t.shift():t[0]+=1e-7,[].concat(Mf(h),Mf(t))}if("continuous"===n&&"equidistant"===e)return[a,c];var p=Math.LOG10E*Math.log(a),d=Math.LOG10E*Math.log(c),g=i.filter(function(t){return a<=t&&t<=c}),o="custom"===e?o.map(function(t){return+t}):"pretty"===e?Ef(a,c,r):"natural"===e?function(t,e){for(var n,r=[],o=[],i=!1,a=0;a<e;a++)r[a]=[];for(var u=Math.round(t.length/(e+1)),c=0;c<e;c++)o[c]=t[u*(c+1)];var l,s,f=20;do{for(var h=0;h<e;h++)r[h].length=0;i=!1;for(var p=-1,d=0;d<t.length;d++){for(var g=-1,v=0;v<e;v++){var m=Math.abs(o[v]-t[d]);(-1===g||m<=g)&&(g=m,p=v)}r[p].push(t[d])}n=o.slice(0);for(var y=0;y<e;y++){for(var b=0,w=0;w<r[y].length;w++)b+=r[y][w];o[y]=b/r[y].length}for(var _=0;_<e;_++)l=o[_],s=n[_],Math.abs(l-s)<1e-6||(i=!0)}while(i&&0<f--);return r.filter(function(t){return t.length})}(g,r).map(function(t){return t[0]}):"logarithmic"===e?jf(1,r).map(function(t){return Math.pow(10,p+t/r*(d-p))}):"quantiles"===e?jf(0,1.001,1/r).map(function(t){return Of(g,t)}):jf(a,c+1e-5,(c-a)/r);return"custom"!==e&&(Vp(o[0])>a&&o.unshift(a),Vp(o[o.length-1])<c&&o.push(c)),o}function Jp(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function Kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qp(t){var r,o,i,a,u,n=0<arguments.length&&void 0!==t?t:{};if("categories"===(n=Kp(Kp({},qp(Ip)),qp(n))).mode)return n.margins?(e=(t=n).margins.sort(function(t,e){return t-e}),s=[e[0],e[e.length-1]],r=Up(t),o={},i=Gp(Kp(Kp({},t),{},{values:e,rangeMin:s[0],rangeMax:s[1]})),a=jf(i.length-1).map(function(t){return.5*(i[t]+i[t+1])}),u=Ff().domain([a[0],a[a.length-1]]).range([90,20]),c._stops=i,c._colors={},(c._labels=r._labels).forEach(function(n){var e=te(r(n)),t=a.map(function(t){return te(u(t),e.a,e.b)+""});o[n]=qf(i.slice(1,-1),t),c._colors[n]=i.slice(0,-1).map(function(t,e){return o[n](.5*(t+i[e+1]))})}),c):Up(n);function c(t,e){return o[t](e)}var l=Fp(n.values);n.values.forEach(function(t,e){1<l[t]&&l[t]>.1*l.length&&(n.values[e]+=1e-6*(Math.random()-.5))}),n.values=n.values.filter(Number.isFinite).sort(function(t,e){return t-e});var e=n.values[0],s=n.values[n.values.length-1];td(n.rangeMin)&&(n.rangeMin=e),td(n.rangeMax)&&(n.rangeMax=s),["rangeMin","rangeMax","rangeCenter","stopCount"].forEach(function(t){td(n[t])||(n[t]=+n[t])}),(n.ranceCenter<=n.rangeMin||n.ranceCenter>=n.rangeMax)&&(n.rangeCenter=""),n.colors&&n.colors.length||(n.colors=[{color:"#ffffff",position:0},{color:"#000000",position:1}]);var f=Ff().domain(n.colors.map(function(t){return t.position})).range(n.colors.map(function(t){return t.color})).interpolate(We),h=Gp(Kp(Kp({},n),{},{rangeCenter:"discrete"===n.mode?void 0:n.rangeCenter,stopCount:n.stopCount-("continuous"===n.mode?1:0)}));if("continuous"===n.mode){var p=h.map(function(t,e){return e/(h.length-1)}),d=Ff(h,p).clamp(!0),g=function(t){return f(d(t))+""};return g._limits=td(n.rangeCenter)?[n.rangeMin,n.rangeMax]:[n.rangeMin,+n.rangeCenter,n.rangeMax],g._stops=h,g}if("discrete"===n.mode){p=jf(0,1.0001,1/(h.length-2)).map(f);p.unshift(p[0]),p.push(p[p.length-1]);g=qf(h,p);return g._stops=h,g._colors=p.slice(1,-1),g}}function td(t){return""===t||null==t}function ed(t,n){return t.replace(/{{ *([a-zA-Z0-9_]+) *}}/g,function(t,e){return n[e]?"{{ ".concat(yf(n[e])," }}"):t})}function nd(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}var rd=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);function od(t){return"<div class=\"tooltip-warning\"'>Woops! There's an error in your tooltip formula: ".concat(t.message,"</div>")}function id(o,t,i,e){var a=3<arguments.length&&void 0!==e&&e,u=new Set,c=new Map;t.forEach(function(t){for(var e=yf(t.name()),n=e,r=0;u.has(n);)n="".concat(e,"_").concat(++r);u.add(n),c.set(t.name(),n)}),t.forEach(function(t){var e,n=yf(t.name()),r=c.get(t.name());o[r]=i[a?n:t.name()],"number"===t.type()&&(n=t.range(),n=St(n,2),e={min:n[0],max:n[1],sum:t.sum(),mean:t.mean(),median:t.median()},Object.keys(e).forEach(function(t){o["".concat(r,"__").concat(t)]=e[t]}))})}function ad(t,e){return Xs(t)?Fc(t).format(e):(n=+t,o=r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nd(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({format:"0.[00]",prepend:"",append:"",minusChar:"−",multiply:1},r={format:e}),i=o.format,a=o.append,t=o.prepend,e=o.minusChar,r=o.multiply,i.includes("%")&&Number.isFinite(n)&&(n*=.01),n*=r,o=-1<i.indexOf("("),r=Bc(o?n:Math.abs(n)).format(i),(t&&!o&&n<0&&rd.has(t.trim().toLowerCase())?"".concat(e).concat(t).concat(r.replace("+","")):t&&0<=n&&rd.has(t.trim().toLowerCase())&&i.includes("+")?"".concat(0===n?"±":"+").concat(t).concat(r.replace("+","")):0===n&&i.includes("+")?"".concat(t).concat(r.replace("+","±")):n<0&&!o?"".concat(t).concat(e).concat(r.replace("+","")):"".concat(t).concat(r)).concat(a));var n,r,o,i,a}var ud=Math.PI/3,cd=[0,ud,2*ud,3*ud,4*ud,5*ud];function ld(t){return t[0]}function sd(t){return t[1]}var fd={max:nt,mean:function(t,e){var n,r=t.length,o=r,i=-1,a=0;if(null==e)for(;++i<r;)isNaN(n=U(t[i]))?--o:a+=n;else for(;++i<r;)isNaN(n=U(e(t[i],i,t)))?--o:a+=n;if(o)return a/o},median:function(t,e){var n,r=t.length,o=-1,i=[];if(null==e)for(;++o<r;)isNaN(n=U(t[o]))||i.push(n);else for(;++o<r;)isNaN(n=U(e(t[o],o,t)))||i.push(n);return function(t,e){if(null==e&&(e=U),o=t.length){if(o<2)return+e(t[0],0,t);0;var n=.5*(o-1),r=Math.floor(n),o=+e(t[r],r,t);return o+(+e(t[r+1],r+1,t)-o)*(n-r)}}(i.sort(Y))},sum:ot,first:function(t){return t[0]},common:function(t){return t=function(t){for(var e=bl(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r}(of(t)),r=$l(r=function(t){return-t[1]},void(o=0)),nf(Tl(t,function(t,e,n){return{value:t,index:o++,criteria:r(t,e,n)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(r<n||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")[0][0];var r,o}};function hd(t){var i,d,g,a,u,c,l,v,m,e=t.symbols,n=t.aggregateFunc,r=t.radFunc,o=t.map,s=t.size,f=t.gridSize;return u=a=0,l=c=1,v=ld,m=sd,h.hexagon=function(t){return"m"+p(null==t?i:+t).join("l")+"z"},h.centers=function(){for(var t=[],e=Math.round(u/g),n=Math.round(a/d),r=e*g;r<l+i;r+=g,++e)for(var o=n*d+(1&e)*d/2;o<c+d/2;o+=d)t.push([o,r]);return t},h.mesh=function(){var e=p(i).slice(0,4).join("l");return h.centers().map(function(t){return"M"+t+"m"+e}).join("")},h.x=function(t){return arguments.length?(v=t,h):v},h.y=function(t){return arguments.length?(m=t,h):m},h.radius=function(t){return arguments.length?(d=2*(i=+t)*Math.sin(ud),g=1.5*i,h):i},h.size=function(t){return arguments.length?(a=u=0,c=+t[0],l=+t[1],h):[c-a,l-u]},h.extent=function(t){return arguments.length?(a=+t[0][0],u=+t[0][1],c=+t[1][0],l=+t[1][1],h):[[a,u],[c,l]]},h.radius(1).x(function(t){return t._x}).y(function(t){return t._y}).size([s[0],s[1]]).radius(f/o.scale)(e).map(function(t){t={_val:"none"===n?t.length:fd[n](nf(t.slice(0),"_val")),_x:t.x,_y:t.y,_cluster:!0,_symbols:t.slice(0),_id:"bin-"+nf(t.slice(0),"_id").join("|")};return t._r="none"===n?.85*f:r(t),t});function h(t){for(var e,n,r,o,i,a,u,c,l,s={},f=[],h=t.length,p=0;p<h;++p)isNaN(a=+v.call(null,e=t[p],p,t))||isNaN(n=+m.call(null,e,p,t))||(r=Math.round(n/=g),o=Math.round(a=a/d-(1&r)/2),i=n-r,1<3*Math.abs(i)&&((u=a-(c=o+(a<o?-1:1)/2))*u+(u=n-(l=r+(n<r?-1:1)))*u<(a=a-o)*a+i*i&&(o=c+(1&r?1:-1)/2,r=l)),(l=s[c=o+"-"+r])?l.push(e):(f.push(l=s[c]=[e]),l.x=(o+(1&r)/2)*d,l.y=r*g));return f}function p(o){var i=0,a=0;return cd.map(function(t){var e=Math.sin(t)*o,n=-Math.cos(t)*o,r=e-i,t=n-a;return i=e,a=n,[r,t]})}}var pd="ontouchstart"in window||navigator.msMaxTouchPoints,dd=-1!==window.navigator.userAgent.indexOf("MSIE")||-1<window.navigator.appVersion.indexOf("Internet Explorer/")||-1<window.navigator.appVersion.indexOf("Trident/7.0");function gd(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function md(){}F.prototype.append=qr,F.prototype.st=Zr,dw.visualization.register("d3-maps-symbols","d3-maps-core",function(){var U,c,l,s,f,h,V,G=!1,p={},d=["zoomable","zoom-button-pos"],J=new Map;return{render:function(L){var e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(function(){var o,t,e,i=D.colorMap();return t=function(){if(U.canvas&&(J.get("region").style.fill=function(t,e){var n=Hc(C,"vis.".concat(D.meta.id,".").concat(t));if(n)return n;var r=Hc(C,"vis.d3-maps-core.".concat(t));return r||e}("regionFill","#f3f3f3")),U.data){U.clearZoomLayer(),U.setUserPadding(D.get("map-padding",0)/100),U.g.selectAll("g.symbols").remove();var b,t=nt(nf(R,Z.area)),w=0,_=X?D.get("clustering.aggregation"):"none",x=("y"===Y.scale?On:Ln)().domain([0,t]).range(["y"===Y.scale?.1:1,"y"===Y.scale?Math.pow(a,1.5):a]);R.forEach(function(t,e){var n=U.mapProj([t[Z.lon],t[Z.lat]]);null!==n&&null!==n[0]&&null!==n[1]&&(n=U.proj(n),t._x=n[0],t._y=n[1],t._id="row-"+e,t._val=X?t[Z.area]:1,t._r=X?+x(t[Z.area]):+F)}),X&&(R=R.filter(function(t){return t._val>0}));var M=U.g.append("g.symbols");D.get("labels.enabled")&&"places"===D.get("labels.type")&&U.renderPlaces(),U.addZoomLayer("symbols",M,M.selectAll("g.symbol")),U.onZoom(tf(e,300)),e(),D.renderingComplete(),D.axes().values&&(D.mapKey.update({container:P,colorScale:o,map:U}),U.resizeMap(D.size()))}function e(){var l,e;D.get("labels.enabled")&&"places"===D.get("labels.type")&&U.updatePlacesAfterZoom();var s=D.get("tooltip",{body:"",title:"",enabled:!1}),f=D.get("clusterTooltip",{body:"",title:"",enabled:!1}),n=D.get("clustering",{enabled:!1}),t=n.enabled&&U.scale+.5<U.meta.maxZoom&&"spike"!==D.get("symbol-shape")?Hc(n,"type","noverlap"):"none";if(w="noverlap"===t?8:0,"noverlap"===t?b=function(t){var h=t.symbols,p=t.aggregateFunc,d=t.radFunc,g=t.tolerance,e=t.maxRatio,n=t.iterations,v=t.map;h=h.slice(0),e=e||.8,p=p||"none";for(var r=0;r<n;r++){for(var o=h.length,i=0;i<o-1;i++)h[i]._r=d(h[i]),h[i]._overlaps=!1;h=h.sort(function(t,e){return e._r-t._r});for(var m=gf().x(function(t){return t._x}).y(function(t){return t._y}).addAll(h),y=[],a=function(t){var e=h[t];if(m.remove(e),e._overlaps)return"continue";for(var n=e._r*(1-g)/v.scale,r=[],o=void 0;o=m.find(e._x,e._y,2*n);){var i=o._r/v.scale,a=o._x-e._x,u=o._y-e._y;a*a+u*u<(n+i)*(n+i)&&(r.push(o),e._overlaps=!0,o._overlaps=!0),m=m.remove(o)}if(r.length){r.push(e);for(var c={},l=[];r.length;){var s=r.shift();s._cluster?s._symbols.forEach(function(t){return r.push(t)}):l.push(s)}for(var f=0;f<l.length;f++)l[f]._in_cluster=c;c._val="none"===p?l.length:fd[p](nf(l,"_val")),c._x=e._x,c._y=e._y,c._cluster=!0,c._symbols=js(l).sort(function(t,e){return e._r-t._r}),c._id=nf(l,"_id").join("|"),c._r=d(c),y.unshift(c)}y.push(e)},u=0;u<o;u++)a(u);h=y.filter(function(t){return!t._overlaps})}return h}({symbols:R,aggregateFunc:_,radFunc:function(t){return t._cluster&&"none"===_?+D.get("clustering.radius",12)+w:+(X?x(t._val):F*t._val)},tolerance:Hc(n,"tolerance",0),iterations:Hc(n,"iterations",4),map:U}):"hexbin"===t?b=hd({symbols:R,aggregateFunc:_,radFunc:function(t){return t._cluster&&"none"===_?+D.get("clustering.gridSize",7)/2+w/2-1:+(X?x(t._val):F*t._val)},map:U,size:B,gridSize:Hc(n,"gridSize",15)}):(b=R).forEach(function(t){delete t._overlaps,t._in_cluster=!1,t._prev_cluster=!1}),"none"!==t&&b.forEach(function(t){if(t._cluster){var e=U.proj.invert([t._x,t._y]);if(null===e||null===e[0]||null===e[1])return;e=U.mapProj.invert(e),t[Z.lon]=e[0],t[Z.lat]=e[1],t._symbols=t._symbols.map(function(e){var n={};return Object.keys(e).forEach(function(t){t.startsWith("_")||(n[yf(t)]=e[t])}),n})}}),b=b.sort("y"===Y.scale?function(t,e){return e[Z.lat]-t[Z.lat]}:function(t,e){return e._r-t._r}),U.canvas){var r=b.map(function(t){return{type:"Feature",geometry:{type:"Point",coordinates:[t[Z.lon],t[Z.lat]]},properties:vd(vd({},t),{},{__r:t._r,__symbol:H,__symbolProps:Y,__label:t._cluster&&n.showCount&&t._r>10?"+".concat(t._symbols.length):null})}}),o=function(t){var e={},n=O(t.properties),r=!V||function(t){if(void 0!==V.min){var e=t.properties._val2;return e>=V.min&&e<V.max}if(V.value)return t.properties._color===V.color}(t)?1:.1,o=Rt(n),i=o.r,a=o.g,u=o.b,c=o.opacity,l=ae(n).l,s=c<1?c:z(t.properties),f="rgba(".concat(i,", ").concat(a,", ").concat(u,", ").concat(s*r,")");if(t.properties._cluster)e.fill="rgba(".concat(i,", ").concat(a,", ").concat(u,", ").concat((1===c?D.get("symbol-opacity",.9):c)*r,")"),e.stroke="rgba(".concat(i,", ").concat(a,", ").concat(u,", ").concat(T(t.properties)*r,")"),e.labelFill=l>75?"rgba(0,0,0,".concat(r,")"):"rgba(255,255,255,".concat(r,")"),e.lineWidth=w;else if(e.fill=f,D.get("symbol-stroke.enabled")){var h=T(t.properties),p="same"===D.get("symbol-stroke.mode","same")?Rt(ae(n).darker(.35)):Rt(D.get("symbol-stroke.color","#ffffff"));e.stroke="rgba(".concat(p.r,", ").concat(p.g,", ").concat(p.b,", ").concat(h*r,")");var d=Hc(C,"vis.d3-maps-symbols.symbols.stroke.default",{});e.lineWidth=d.width||1}return e},i=D.get("blend-multiply",!1)?"multiply":"source-over";if(J.has("symbols")){var a=J.get("symbols");a.features=r,a.blendMode=i,a.style=o}else{var u={id:"symbols",blendMode:i,style:o,features:r};U.canvasLayers.push(u),J.set("symbols",u)}U.draw()}else{var c=M.selectAll("g.symbol").data(b,Ir("_id")),h=c.enter().append("g.symbol").style("opacity",function(t){return t._cluster?0:1});h.append("path.shape"),D.get("clustering.showCount",!1)&&h.filter(k).append("text"),(e=M.selectAll("g.symbol").classed("hexbin","hexbin"===t).classed("cluster",k).classed("nocluster",S).classed("show-outline",function(t){return A(t,s,f)})).translate($).style("display",function(t){return t._prev_cluster&&t._in_cluster?"none":"block"}).style("opacity",function(t){return t._prev_cluster?0:1}).each(function(t){K(this).classed("export-hide",t._overlaps)}).transition().duration(500).style("opacity",function(t){return t._overlaps?0:1}).on("end",function(t){K(this).style("display",t._overlaps?"none":"block")}),e.order(),e.select("path.shape").style("fill",O).style("fill-opacity",z).style("stroke",j).style("stroke-opacity",T).attr("d",W).attr("transform",E).style("stroke-width",function(t){return N(t,"default")}).style("vector-effect","non-scaling-stroke"),D.get("clustering.showCount")&&e.filter(k).select("text").text(function(t){return"+"+t._symbols.length}).attr("y",function(t){var e="marker"===q?.85*t._r:0;return.25*this.getBBox().height-e}).style("fill",function(t){return ae(t._color).l>75?"#000000":"#ffffff"}),c.exit().transition().duration(500).style("opacity",0).remove(),U.updateZoomLayerSelection("symbols",e),U.fixZoom()}if(s.enabled)try{s.template=dw.utils.htmlTemplate((s.title?"<h2>".concat(s.title,"</h2>"):"")+s.body)}catch(l){U.isDatawrapperEditor?s.template=dw.utils.htmlTemplate(od(l)):s.template=function(){throw new Error}}if(f.enabled)try{f.template=dw.utils.htmlTemplate((f.title?"<h2>".concat(f.title,"</h2>"):"")+f.body)}catch(l){U.isDatawrapperEditor?f.template=dw.utils.htmlTemplate(od(l)):f.template=function(){throw new Error}}if(s.enabled||f.enabled||D.get("legend.interactive")){var p=P.querySelector(".dw-tooltip");if(p&&p.parentNode.removeChild(p),l=K(P).append("div.dw-tooltip").style("overflow-y","auto"),U.canvas){var d=J.get("symbols").features;if(!d.length)return;d[0].properties.__projCache||d.forEach(function(t){t.properties.__projCache=U.mapProj(t.geometry.coordinates)});var g=gf(d.filter(function(t){return t.properties.__projCache}),function(t){return t.properties.__projCache[0]},function(t){return t.properties.__projCache[1]});U.svg.select("path.symbol-hover").remove();var v=U.g.append("path.symbol-hover").attr("d",W).style("display","none");dd||v.attr("vector-effect","non-scaling-stroke"),U.svg.on("mousemove",function(t){if(!G&&!pd){for(var e,n=Q(U.svg.node()),r=U.getZoom().invert(n),o=U.proj.invert(r),i=U.proj.invert(U.getZoom().invert([0,0])),a=U.proj.invert(U.getZoom().invert([1,1]))[0]-i[0],u=g.copy();(e=u.find(o[0],o[1],100*a))&&!((e?Math.sqrt(Math.pow(e.properties.__projCache[0]-o[0],2)+Math.pow(e.properties.__projCache[1]-o[1],2))/a:1/0)<=Math.max(10,e.properties.__r));)u.remove(e);var c=!!e&&A(e.properties,s,f);e&&(c||D.get("legend.interactive"))?(U.onHighlight&&U.onHighlight(e),I("symbol.mouseenter",JSON.parse(JSON.stringify(e.properties))),c&&y(e.properties),v.attr("transform","translate(".concat(U.proj(e.properties.__projCache).join(", "),") ").concat(E(e.properties)," scale(").concat(1/U.scale,")")).classed("nocluster",S(e.properties)).classed("cluster",k(e.properties)).style("stroke-width",function(){return N(e.properties,"hover")}).style("stroke",j(e.properties)).style("display","block")):(I("symbol.mouseleave"),U.onHighlight&&U.onHighlight(null),l.style("visibility","hidden"),v.style("display","none"))}}).on("click",function(){var t=Q(U.svg.node()),e=U.getZoom().invert(t),n=U.proj.invert(e),r=g.find(n[0],n[1],10),o=Hc(r,"properties._cluster",!1);if(r&&r!==G&&(!o&&s.enabled||o&&f.enabled)){if(!pd&&(!o&&!D.get("tooltip.sticky")||o&&!D.get("clusterTooltip.sticky")))return;if(G)return m(v);G=r,v.attr("transform","translate(".concat(U.proj(r.properties.__projCache).join(", "),") ").concat(E(r.properties)," scale(").concat(1/U.scale,")")).style("display","block").style("stroke-width",N(r.properties,"sticky")).classed("sticky",!0),y(r.properties),I("symbol.click",JSON.parse(JSON.stringify(r.properties))),l.classed("sticky",!0)}else m(v)})}else e.on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",function(t){t._cluster&&!f||!t._cluster&&!s||!G&&s.enabled&&(I("symbol.mouseenter",t),K(this).select("path.shape").style("stroke-width",function(t){return N(t,"hover")}),y(t))}).on("mousemove",function(t){t._cluster&&!f||!t._cluster&&!s||G||y(t,!0)}).on("mouseout",function(t){t._cluster&&!f||!t._cluster&&!s||G||(I("symbol.mouseleave",t),l.style("visibility","hidden"),K(this).select("path.shape").style("stroke-width",function(t){return N(t,"default")}))}).on("click",function(t){D.get("tooltip.sticky")&&(t._cluster&&!f||!t._cluster&&!s||(I("symbol.click",t),y(t),G=G!==t&&t,e.classed("sticky",!1),K(this).classed("sticky",!1!==G).select("path.shape").style("stroke-width",function(t){return N(t,G?"sticky":"hover")})))}),U.svg.selectAll("g.map > *").on("click",function(){this.classList.contains("symbols")||m()})}function m(t){G=!1,U.canvas?t.style("display","none").classed("sticky",!1):e.classed("sticky",!1),l.style("visibility","hidden").classed("sticky",!1)}function y(t,e){if(!t._cluster||f.enabled){if(!e){var n={FORMAT:ad};t._cluster?(n.value=t._val,n.symbols=t._symbols,n.first=t._symbols[0],n.last=t._symbols[t._symbols.length-1]):id(n,D.dataset.columns(),t);var r=t._cluster?f:s;try{t._cluster&&(n.TOOLTIP=function(t){var e={FORMAT:n.FORMAT};return id(e,D.dataset.columns(),t,!0),"<div>".concat(s.template(e).replace(/\n\n/g,"<br>"),"</div>")});var o=r.template(n).replace(/\n\n/g,"<br>");o&&l.style("visibility","visible").html(o)}catch(t){if(!U.isDatawrapperEditor)return;l.style("visibility","visible").html(od(t))}}var i=Q(P),a=L.clientWidth<450?.55:.45;U.sizeTooltip(i,P,l),l.style("max-height",L.clientHeight*a+"px")}}}function k(t){return t._cluster}function S(t){return!t._cluster}function A(t,e,n){return!k(t)&&e.enabled||k(t)&&n.enabled}function r(t){return t._r}function E(t){var e=r(t);return e=isFinite(e)?e:0,"y"===Y.scale?"scale(2.5, ".concat(e,")"):"scale(".concat(e,")")}function $(t){return isFinite(t._x)&&isFinite(t._y)?t.anchor=[t._x,t._y]:t.anchor=[0,0],t.anchor}function O(t){if(t._cluster){var e=D.get("clustering.aggregationColor","none");if(o&&"none"!==e){var n=fd[e](nf(t._symbols,yf(D.axes().values)));return t._val2=n,i(t._color=o(n))}return i(t._color=u("clustering.color",C.colors.palette[0]))}return t._val2=t[D.axes().values],i(t._color=o?o(t[D.axes().values]):u("symbol-color",C.colors.palette[0]))}function j(t){return"fixed"===D.get("symbol-stroke.mode")?i(D.get("symbol-stroke.color","#000000")):i(t._cluster?t._color:ae(t._color).darker(.35)+"")}function N(t,e){var n=Hc(D.theme(),"vis.d3-maps-symbols.symbols.stroke.".concat(e,".width"),1);return(t._cluster&&"hexbin"!==D.get("cluster-symbols")?Math.min(.7*t._r,w):n)/(dd?"spike"===D.get("symbol-shape")?1:r(t):1)}function z(t){var e=D.get("symbol-opacity",.9);return(t._cluster?.944:1)*e}function T(t){var e=D.get("symbol-stroke.opacity",1);return t._cluster?.25:e}},(e=function(){if(D.axes().values){var t=nf(R,Z.values);return o=function(t){var e=t.column,n=t.vis,r=t.values,o=t.theme,i=Hc(o,"colors.gradients.0",["#f0f9e8","#b6e3bb","#75c8c5","#4ba8c9","#2989bd","#0a6aad","#254b8c"]),a=Hc(o,"colors.categories.0",["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]),u=i.map(function(t,e){return{color:t,position:e/(i.length-1)}}),c=n.get("colorscale.palette",0),l=n.get("colorscale.stopCount",14),s=Yc("custom"===n.get("colorscale.stops")?n.get("colorscale.customStops",[]):null);if(Array.isArray(s)){for(var f=1/0,h=-1/0,p=r.length-1;p>=0;p--)r[p]<f&&(f=r[p]),r[p]>h&&(h=r[p]);var d=(s=s.slice(1,l).map(function(t){return+t}))[s.length-1];s=[Math.min(f,s[0])].concat(Mf(s),[Math.max(h,d)])}return Qp("text"===e.type()?{mode:"categories",palette:Hc(o,"colors.categories",[a])[Number.isFinite(c)?c:0],values:r,map:n.get("colorscale.map",{}),categoryOrder:n.get("colorscale.categoryOrder",[])}:"discrete"===n.get("colorscale.mode","continuous")?{values:r,mode:"discrete",colors:n.get("colorscale.colors",u),stops:n.get("colorscale.stops","equidistant"),customStops:s,stopCount:l,rangeMin:n.get("colorscale.rangeMin"),rangeCenter:n.get("colorscale.rangeCenter"),rangeMax:n.get("colorscale.rangeMax")}:{values:r,mode:"continuous",colors:n.get("colorscale.colors",u),stops:n.get("colorscale.interpolation","equidistant").split("-")[0],stopCount:+(n.get("colorscale.interpolation","equidistant").split("-")[1]||5),rangeMin:n.get("colorscale.rangeMin"),rangeCenter:n.get("colorscale.rangeCenter"),rangeMax:n.get("colorscale.rangeMax")})}({column:D.axes(!0).values,values:t,theme:C,vis:D}),function(t,e){if(!e)return t&&t.then?t.then(md):Promise.resolve()}(new Promise(function(t){return window.setTimeout(t,50)}))}}())&&e.then?e.then(t):t(e)}.apply(this,t))}catch(t){return Promise.reject(t)}};if(c)return!1;c=!0;var P=L,D=this,C=D.theme(),t=D.chart();!function(t,e,n){var r,o,i,a,u,c,l,s=void 0===(f=e.visualize)?{}:f,f=void 0===(f=e.data)?{}:f,e=void 0===(e=e.axes)?{}:e;if((s.gradient||s.categories)&&(i={mode:"continuous",stops:"quantiles",interpolation:"equidistant",colors:[],rangeMin:"",rangeMax:"",rangeCenter:"",stopCount:5,palette:0,categoryOrder:[],categoryLabels:{},map:{}},s.categories&&(i.map=s.categories,delete s.categories),s.gradient&&((o=s.gradient).colors&&(i.colors=o.colors.map(function(t){return{color:t.c,position:t.p}})),o.stops&&((r=o.stops.filter(function(t){return 0===t.p})[0])&&(i.rangeMin=r.v),(r=o.stops.filter(function(t){return 1===t.p})[0])&&(i.rangeMax=r.v),3===o.stops.length?((a=o.stops.filter(function(t){return Math.abs(t.p-.5)<.03})[0])&&(i.rangeCenter=a.v),i.interpolation="quantiles-3"):3<o.stops.length&&(i.interpolation=o.stops.length<6?"quantiles-5":"quantiles-6"))),s.colorscale=i,delete s.gradient),s.colorscale&&!s.colorscale.customStops&&(s.colorscale.customStops=["","","","","","","",""]),s.legend&&!s.legend.hideItems&&(s.legend.hideItems=[]),s.tooltip&&void 0===s.tooltip.enabled&&(r={enabled:!1,sticky:!0,body:"",title:""},s.tooltip&&(o=(a=s.tooltip).title,i=a.body,a=a.fields,(o||i)&&(r.body=a?ed(i||"",a):i||"",r.title=a?ed(o||"",a):o||"",r.migrated=!0,r.enabled=!0)),s.tooltip=r),void 0===s["min-label-zoom"]&&s["map-key-position"]&&(s["min-label-zoom"]=1.5),"d3-maps-choropleth"===t&&s.tooltip&&(e.keys&&(s.tooltip.title=String(s.tooltip.title).replace("%REGION_NAME%","{{ ".concat(yf(e.keys)," }}"))),e.values&&(s.tooltip.body=String(s.tooltip.body).replace("%REGION_VALUE%","{{ ".concat(yf(e.values)," }}")))),s["map-key-position"]&&(l="d3-maps-choropleth"===t?"hidden"!==s["map-key-position"]||!1===s["map-key-auto"]&&""===s["map-key-stops"]:!1!==s["show-map-key"],s.legend={enabled:l,orientation:"vertical",position:l?s["map-key-position"]:"mt",title:s["map-key-title"]||"",labelFormat:{"0,0.[00]":"0,0.[00]",f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".2%":"0.00%",".0s":"0a",".1s":"0.0a",".2s":"0.00a",".3s":"0.000a"}[u=s["map-key-format"]]||u,size:100,offsetTop:0,offsetLeft:0,labels:"ranges",reverse:!1,interactive:!1},delete s["map-key-position"],delete s["map-key-title"],delete s["map-key-format"],delete s["map-key-position"]),void 0===s["zoom-button-pos"]&&(s["zoom-button-pos"]="br"===Hc(s,"legend.position")?"tr":"br"),s["cluster-symbols"]&&(c=["noverlap","hexbin"].includes(s["cluster-symbols"]),s.clustering={enabled:c,type:c?s["cluster-symbols"]:"noverlap",showCount:Hc(s,"cluster-count",!0),gridSize:Hc(s,"hexbin-gridsize",15),aggregation:Hc(s,"cluster-aggregation","none"),radius:Hc(s,"cluster-radius",9),iterations:Hc(s,"iterations",1),tolerance:Hc(s,"tolerance",0),color:Hc(s,"cluster-color",0)},delete s["cluster-color"],delete s["cluster-symbols"],delete s["cluster-count"],delete s["hexbin-gridsize"],delete s["cluster-aggregation"],delete s["cluster-radius"],delete s.iterations,delete s.tolerance),null===Hc(s,"clustering.aggregationColor")&&Hc(s,"clustering.aggregationColor",Hc(s,"cluster-aggregation","none")),s["cluster-tooltip"]&&(u=(l=Hc(s,"cluster-tooltip",{})).title,c=l.body,l=l.fields,s.clusterTooltip=(u||c)&&l?{enabled:!0,sticky:!0,title:ed(u||"",l),body:ed(c||"",l),migrated:!0}:{enabled:u||c,sticky:!0,title:u||"",body:c||""},delete s["cluster-tooltip"]),s["map-align"]||(s["map-align"]="center"),"d3-maps-symbols"===t&&void 0===s["blend-multiply"]&&(s["blend-multiply"]=!0),n&&e&&!n.hasColumn(e.values)&&delete e.values,e.values&&s["map-key-stops"]&&"number"===n.column(e.values).type()){var h={},p=n.column(e.values).values(),d=!0;s["map-key-stops"].split("\n").forEach(function(t,e){t=t.split(",");h[t[0]]=t[1]});for(var g=0;g<p.length;g++)if("number"==typeof p[g]&&isFinite(p[g])&&void 0===h[p[g]]){d=!1;break}if(d){f["column-format"][e.values]||(f["column-format"][e.values]={}),f["column-format"][e.values].type="text";var v,m=Qp({values:p,mode:"continuous",colors:s.colorscale.colors,stops:s.colorscale.interpolation.split("-")[0],stopCount:+(s.colorscale.interpolation.split("-")[1]||5),rangeMin:s.colorscale.rangeMin,rangeCenter:s.colorscale.rangeCenter,rangeMax:s.colorscale.rangeMax});for(v in s.colorscale.map={},h)void 0!==v&&""!==v&&(s.colorscale.map[v]=m(Number(v)),s.colorscale.categoryLabels[v]=h[v],s.colorscale.categoryOrder.push(v))}delete s["map-key-stops"]}void 0===s["text-annotations"]&&(s["text-annotations"]=[]),void 0===s.labels&&(e=Boolean(e.labels),s.labels={},s.labels.enabled=e,s.labels.type=e?"column":"places",s.labels.places=[],s.labels.max=1)}(t.get("type"),t.get("metadata"),D.dataset);var n,r,o,R=D.dataset.list(),B=D.size(),a=D.get("max-radius",20),F=D.get("fixed-radius",5),q=D.get("symbol-shape","circle"),W=Ys[q],H=Is[q],Y={id:q,scale:"spike"===q?"y":"area",stroke:"spike"!==q,fill:"spike"===q},I=(n=t.get("id"),function(t,e){window.parent&&window.parent.postMessage&&(e={source:"datawrapper",chartId:n,type:t,data:e},window.parent.postMessage(e,"*"))}),Z=D.axes(),X=Z.area,i=!l||l!==D.get("basemap","bl");function u(t,e){e=D.get(t,e);return Rl(e)?C.colors.palette[e]:e}i||d.forEach(function(t){void 0!==p[t]&&p[t]!==D.get(t)&&(i=!0)}),i?(L.innerHTML="",d.forEach(function(t){p[t]=D.get(t)}),l=D.get("basemap","bl"),s=D.size(),f=D.get("max-map-height"),h=D.get("map-align","center"),G=!1,D.initBaseMap(P,l,function(t){U=t,J.clear(),U.canvasLayers.forEach(function(t){var e=t.id,n=t.style,t=t.features;J.set(e,{style:n,features:t})}),U.highlight=function(t){D.get("legend.interactive")&&(V=t,U.canvas&&U.draw())},e().then(function(){c=!1})})):U.svg?(r=D.size(),o=D.get("max-map-height"),t=D.get("map-align","center"),s[0]===r[0]&&s[1]===r[1]&&o===f&&t===h||(s=r,f=o,h=t,U.resizeMap(r)),e().then(function(){c=!1})):c=!1},reset:function(){}}})}();